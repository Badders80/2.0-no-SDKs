{
  "version": 3,
  "sources": ["../../@walletconnect/ethereum-provider/node_modules/@reown/appkit-common/src/utils/ConstantsUtil.ts", "../../@walletconnect/ethereum-provider/node_modules/@reown/appkit-common/src/utils/DateUtil.ts", "../../@walletconnect/ethereum-provider/node_modules/@reown/appkit-common/src/utils/NetworkUtil.ts", "../../@walletconnect/ethereum-provider/node_modules/@reown/appkit-common/src/utils/NumberUtil.ts", "../../@walletconnect/ethereum-provider/node_modules/@reown/appkit-common/src/contracts/erc20.ts", "../../@walletconnect/ethereum-provider/node_modules/@reown/appkit-common/src/contracts/swap.ts", "../../@walletconnect/ethereum-provider/node_modules/@reown/appkit-common/src/contracts/usdt.ts", "../../@walletconnect/ethereum-provider/node_modules/@reown/appkit-common/src/utils/ContractUtil.ts", "../../@walletconnect/ethereum-provider/node_modules/@reown/appkit-common/src/utils/EmitterUtil.ts", "../../@walletconnect/ethereum-provider/node_modules/@reown/appkit-common/src/utils/ParseUtil.ts", "../../@walletconnect/ethereum-provider/node_modules/@reown/appkit-common/src/utils/SafeLocalStorage.ts", "../../@walletconnect/ethereum-provider/node_modules/@reown/appkit-common/src/utils/ThemeUtil.ts", "../../@walletconnect/ethereum-provider/node_modules/@reown/appkit-controllers/src/utils/StorageUtil.ts", "../../@walletconnect/ethereum-provider/node_modules/@reown/appkit-controllers/src/utils/ConstantsUtil.ts", "../../@walletconnect/ethereum-provider/node_modules/@reown/appkit-controllers/src/utils/CoreHelperUtil.ts", "../../@walletconnect/ethereum-provider/node_modules/proxy-compare/src/index.ts", "../../@walletconnect/ethereum-provider/node_modules/valtio/esm/vanilla.mjs", "../../@walletconnect/ethereum-provider/node_modules/valtio/esm/vanilla/utils.mjs", "../../@walletconnect/ethereum-provider/node_modules/@reown/appkit-controllers/src/utils/OptionsUtil.ts", "../../@walletconnect/ethereum-provider/node_modules/@reown/appkit-controllers/src/controllers/OptionsController.ts", "../../@walletconnect/ethereum-provider/node_modules/@reown/appkit-controllers/src/utils/FetchUtil.ts", "../../@walletconnect/ethereum-provider/node_modules/@reown/appkit-controllers/src/controllers/TelemetryController.ts", "../../@walletconnect/ethereum-provider/node_modules/@reown/appkit-controllers/src/utils/withErrorBoundary.ts", "../../@walletconnect/ethereum-provider/node_modules/@reown/appkit-controllers/src/controllers/AssetController.ts", "../../@walletconnect/ethereum-provider/node_modules/@reown/appkit-controllers/src/utils/AssetUtil.ts", "../../@walletconnect/ethereum-provider/node_modules/@reown/appkit-controllers/src/utils/MobileWallet.ts", "../../@walletconnect/ethereum-provider/node_modules/@reown/appkit-controllers/src/controllers/SnackController.ts", "../../@walletconnect/ethereum-provider/node_modules/@reown/appkit-controllers/src/controllers/BlockchainApiController.ts", "../../@walletconnect/ethereum-provider/node_modules/@reown/appkit-controllers/src/controllers/AccountController.ts", "../../@walletconnect/ethereum-provider/node_modules/@reown/appkit-controllers/src/utils/NetworkUtil.ts", "../../@walletconnect/ethereum-provider/node_modules/@reown/appkit-controllers/src/controllers/AlertController.ts", "../../@walletconnect/ethereum-provider/node_modules/@reown/appkit-controllers/src/controllers/EventsController.ts", "../../@walletconnect/ethereum-provider/node_modules/@reown/appkit-controllers/src/controllers/PublicStateController.ts", "../../@walletconnect/ethereum-provider/node_modules/@reown/appkit-controllers/src/controllers/ModalController.ts", "../../@walletconnect/ethereum-provider/node_modules/@reown/appkit-controllers/src/controllers/RouterController.ts", "../../@walletconnect/ethereum-provider/node_modules/@reown/appkit-controllers/src/controllers/ThemeController.ts", "../../@walletconnect/ethereum-provider/node_modules/@reown/appkit-controllers/src/controllers/ConnectorController.ts", "../../@walletconnect/ethereum-provider/node_modules/@reown/appkit-wallet/src/W3mFrameConstants.ts", "../../@walletconnect/ethereum-provider/node_modules/@reown/appkit-controllers/src/controllers/TransactionsController.ts", "../../@walletconnect/ethereum-provider/node_modules/@reown/appkit-controllers/src/controllers/ConnectionController.ts", "../../@walletconnect/ethereum-provider/node_modules/@reown/appkit-controllers/src/utils/ERC7811Util.ts", "../../@walletconnect/ethereum-provider/node_modules/@reown/appkit-controllers/src/utils/SendApiUtil.ts", "../../@walletconnect/ethereum-provider/node_modules/@reown/appkit-controllers/src/controllers/SendController.ts", "../../@walletconnect/ethereum-provider/node_modules/@reown/appkit-controllers/src/controllers/ChainController.ts", "../../@walletconnect/ethereum-provider/node_modules/@reown/appkit-controllers/src/controllers/ApiController.ts", "../../@walletconnect/ethereum-provider/node_modules/unstorage/dist/shared/unstorage.CoCt7NXC.mjs", "../../@walletconnect/ethereum-provider/node_modules/unstorage/dist/index.mjs", "../../@walletconnect/ethereum-provider/node_modules/@walletconnect/core/node_modules/viem/utils/formatters/transaction.ts", "../../@walletconnect/ethereum-provider/node_modules/@walletconnect/core/node_modules/viem/utils/formatters/block.ts", "../../@walletconnect/ethereum-provider/node_modules/@walletconnect/core/node_modules/viem/actions/public/getTransactionCount.ts", "../../@walletconnect/ethereum-provider/node_modules/@walletconnect/core/node_modules/viem/constants/blob.ts", "../../@walletconnect/ethereum-provider/node_modules/@walletconnect/core/node_modules/viem/utils/formatters/log.ts", "../../@walletconnect/ethereum-provider/node_modules/@walletconnect/core/node_modules/viem/actions/wallet/sendTransaction.ts", "../../@walletconnect/ethereum-provider/node_modules/@walletconnect/core/node_modules/viem/utils/promise/withDedupe.ts", "../../@walletconnect/ethereum-provider/node_modules/@walletconnect/core/node_modules/viem/utils/rpc/id.ts", "../../@walletconnect/ethereum-provider/node_modules/@walletconnect/core/node_modules/viem/utils/formatters/transactionReceipt.ts", "../../@walletconnect/ethereum-provider/node_modules/@noble/hashes/src/ripemd160.ts", "../../@walletconnect/ethereum-provider/node_modules/@walletconnect/core/node_modules/viem/utils/nonceManager.ts", "../../@walletconnect/ethereum-provider/node_modules/ox/core/version.ts", "../../@walletconnect/ethereum-provider/node_modules/ox/core/internal/errors.ts", "../../@walletconnect/ethereum-provider/node_modules/ox/core/Errors.ts", "../../@walletconnect/ethereum-provider/node_modules/ox/core/internal/bytes.ts", "../../@walletconnect/ethereum-provider/node_modules/ox/core/internal/hex.ts", "../../@walletconnect/ethereum-provider/node_modules/ox/core/Bytes.ts", "../../@walletconnect/ethereum-provider/node_modules/ox/core/Hex.ts", "../../@walletconnect/ethereum-provider/node_modules/ox/core/Hash.ts", "../../@walletconnect/ethereum-provider/node_modules/ox/core/internal/lru.ts", "../../@walletconnect/ethereum-provider/node_modules/ox/core/Caches.ts", "../../@walletconnect/ethereum-provider/node_modules/ox/core/Address.ts", "../../@walletconnect/ethereum-provider/node_modules/ox/core/Solidity.ts", "../../@walletconnect/ethereum-provider/node_modules/ox/core/internal/cursor.ts", "../../@walletconnect/ethereum-provider/node_modules/ox/core/AbiParameters.ts", "../../@walletconnect/ethereum-provider/node_modules/uint8arrays/esm/src/alloc.js", "../../@walletconnect/ethereum-provider/node_modules/uint8arrays/esm/src/concat.js", "../../@walletconnect/ethereum-provider/node_modules/uint8arrays/esm/src/util/bases.js", "../../@walletconnect/ethereum-provider/node_modules/uint8arrays/esm/src/from-string.js", "../../@walletconnect/ethereum-provider/node_modules/uint8arrays/esm/src/to-string.js", "../../@walletconnect/ethereum-provider/node_modules/@reown/appkit-controllers/node_modules/@walletconnect/utils/node_modules/viem/utils/formatters/transaction.ts", "../../@walletconnect/ethereum-provider/node_modules/@reown/appkit-controllers/node_modules/@walletconnect/utils/node_modules/viem/utils/formatters/block.ts", "../../@walletconnect/ethereum-provider/node_modules/@reown/appkit-controllers/node_modules/@walletconnect/utils/node_modules/viem/actions/public/getTransactionCount.ts", "../../@walletconnect/ethereum-provider/node_modules/@reown/appkit-controllers/node_modules/@walletconnect/utils/node_modules/viem/constants/blob.ts", "../../@walletconnect/ethereum-provider/node_modules/@reown/appkit-controllers/node_modules/@walletconnect/utils/node_modules/viem/utils/formatters/log.ts", "../../@walletconnect/ethereum-provider/node_modules/@reown/appkit-controllers/node_modules/@walletconnect/utils/node_modules/viem/actions/wallet/sendTransaction.ts", "../../@walletconnect/ethereum-provider/node_modules/@reown/appkit-controllers/node_modules/@walletconnect/utils/node_modules/viem/utils/promise/withDedupe.ts", "../../@walletconnect/ethereum-provider/node_modules/@reown/appkit-controllers/node_modules/@walletconnect/utils/node_modules/viem/utils/rpc/id.ts", "../../@walletconnect/ethereum-provider/node_modules/@reown/appkit-controllers/node_modules/@walletconnect/utils/node_modules/viem/utils/formatters/transactionReceipt.ts", "../../@walletconnect/ethereum-provider/node_modules/@reown/appkit-controllers/node_modules/@walletconnect/utils/node_modules/viem/utils/nonceManager.ts", "../../@walletconnect/ethereum-provider/node_modules/@reown/appkit-controllers/src/utils/SIWXUtil.ts", "../../@walletconnect/ethereum-provider/node_modules/@reown/appkit-controllers/src/utils/ModalUtil.ts", "../../@walletconnect/ethereum-provider/node_modules/@reown/appkit-controllers/src/controllers/OnRampController.ts", "../../@walletconnect/ethereum-provider/node_modules/@reown/appkit-controllers/src/utils/SwapApiUtil.ts", "../../@walletconnect/ethereum-provider/node_modules/@reown/appkit-controllers/src/utils/SwapCalculationUtil.ts", "../../@walletconnect/ethereum-provider/node_modules/@reown/appkit-controllers/src/controllers/SwapController.ts", "../../@walletconnect/ethereum-provider/node_modules/@reown/appkit-controllers/src/controllers/TooltipController.ts", "../../@walletconnect/ethereum-provider/node_modules/@reown/appkit-controllers/src/utils/EnsUtil.ts", "../../@walletconnect/ethereum-provider/node_modules/@reown/appkit-controllers/src/controllers/EnsController.ts", "../../@walletconnect/ethereum-provider/node_modules/@reown/appkit-controllers/src/controllers/OptionsStateController.ts", "../../@walletconnect/ethereum-provider/node_modules/@reown/appkit-ui/src/utils/ThemeUtil.ts", "../../@walletconnect/ethereum-provider/node_modules/@reown/appkit-ui/src/utils/UiHelperUtil.ts", "../../@walletconnect/ethereum-provider/node_modules/@reown/appkit-ui/src/utils/WebComponentsUtil.ts", "../../@walletconnect/ethereum-provider/node_modules/@reown/appkit-scaffold-ui/src/utils/ConstantsUtil.ts"],
  "sourcesContent": [null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, "// symbols\nconst TRACK_MEMO_SYMBOL = Symbol();\nconst GET_ORIGINAL_SYMBOL = Symbol();\n\n// properties\nconst AFFECTED_PROPERTY = 'a';\nconst IS_TARGET_COPIED_PROPERTY = 'f';\nconst PROXY_PROPERTY = 'p';\nconst PROXY_CACHE_PROPERTY = 'c';\nconst TARGET_CACHE_PROPERTY = 't';\nconst NEXT_OBJECT_PROPERTY = 'n';\nconst CHANGED_PROPERTY = 'g';\nconst HAS_KEY_PROPERTY = 'h';\nconst ALL_OWN_KEYS_PROPERTY = 'w';\nconst HAS_OWN_KEY_PROPERTY = 'o';\nconst KEYS_PROPERTY = 'k';\n\n// function to create a new bare proxy\nlet newProxy = <T extends object>(\n  target: T,\n  handler: ProxyHandler<T>,\n) => new Proxy(target, handler);\n\n// get object prototype\nconst getProto = Object.getPrototypeOf;\n\nconst objectsToTrack = new WeakMap<object, boolean>();\n\n// check if obj is a plain object or an array\nconst isObjectToTrack = <T>(obj: T): obj is T extends object ? T : never => (\n  obj && (objectsToTrack.has(obj as unknown as object)\n    ? objectsToTrack.get(obj as unknown as object) as boolean\n    : (getProto(obj) === Object.prototype || getProto(obj) === Array.prototype)\n  )\n);\n\n// check if it is object\nconst isObject = (x: unknown): x is object => (\n  typeof x === 'object' && x !== null\n);\n\n// Properties that are both non-configurable and non-writable will break\n// the proxy get trap when we try to return a recursive/child compare proxy\n// from them. We can avoid this by making a copy of the target object with\n// all descriptors marked as configurable, see `copyTargetObject`.\n// See: https://github.com/dai-shi/proxy-compare/pull/8\nconst needsToCopyTargetObject = (obj: object) => (\n  Object.values(Object.getOwnPropertyDescriptors(obj)).some(\n    (descriptor) => !descriptor.configurable && !descriptor.writable,\n  )\n);\n\n// Make a copy with all descriptors marked as configurable.\nconst copyTargetObject = <T extends object>(obj: T): T => {\n  if (Array.isArray(obj)) {\n    // Arrays need a special way to copy\n    return Array.from(obj) as T;\n  }\n  // For non-array objects, we create a new object keeping the prototype\n  // with changing all configurable options (otherwise, proxies will complain)\n  const descriptors = Object.getOwnPropertyDescriptors(obj);\n  Object.values(descriptors).forEach((desc) => { desc.configurable = true; });\n  return Object.create(getProto(obj), descriptors);\n};\n\ntype HasKeySet = Set<string | symbol>\ntype HasOwnKeySet = Set<string | symbol>\ntype KeysSet = Set<string | symbol>\ntype Used = {\n  [HAS_KEY_PROPERTY]?: HasKeySet;\n  [ALL_OWN_KEYS_PROPERTY]?: true;\n  [HAS_OWN_KEY_PROPERTY]?: HasOwnKeySet;\n  [KEYS_PROPERTY]?: KeysSet;\n};\ntype Affected = WeakMap<object, Used>;\ntype ProxyHandlerState<T extends object> = {\n  readonly [IS_TARGET_COPIED_PROPERTY]: boolean;\n  [PROXY_PROPERTY]?: T;\n  [PROXY_CACHE_PROPERTY]?: ProxyCache<object> | undefined;\n  [TARGET_CACHE_PROPERTY]?: TargetCache<object> | undefined;\n  [AFFECTED_PROPERTY]?: Affected;\n}\ntype ProxyCache<T extends object> = WeakMap<\n  object,\n  readonly [ProxyHandler<T>, ProxyHandlerState<T>]\n>;\ntype TargetCache<T extends object> = WeakMap<\n  object,\n  readonly [target: T, copiedTarget?: T]\n>;\n\nconst createProxyHandler = <T extends object>(origObj: T, isTargetCopied: boolean) => {\n  const state: ProxyHandlerState<T> = {\n    [IS_TARGET_COPIED_PROPERTY]: isTargetCopied,\n  };\n  let trackObject = false; // for trackMemo\n  const recordUsage = (\n    type:\n      | typeof HAS_KEY_PROPERTY\n      | typeof ALL_OWN_KEYS_PROPERTY\n      | typeof HAS_OWN_KEY_PROPERTY\n      | typeof KEYS_PROPERTY,\n    key?: string | symbol,\n  ) => {\n    if (!trackObject) {\n      let used = (state[AFFECTED_PROPERTY] as Affected).get(origObj);\n      if (!used) {\n        used = {};\n        (state[AFFECTED_PROPERTY] as Affected).set(origObj, used);\n      }\n      if (type === ALL_OWN_KEYS_PROPERTY) {\n        used[ALL_OWN_KEYS_PROPERTY] = true;\n      } else {\n        let set = used[type];\n        if (!set) {\n          set = new Set();\n          used[type] = set;\n        }\n        set.add(key as string | symbol);\n      }\n    }\n  };\n  const recordObjectAsUsed = () => {\n    trackObject = true;\n    (state[AFFECTED_PROPERTY] as Affected).delete(origObj);\n  };\n  const handler: ProxyHandler<T> = {\n    get(target, key) {\n      if (key === GET_ORIGINAL_SYMBOL) {\n        return origObj;\n      }\n      recordUsage(KEYS_PROPERTY, key);\n      return createProxy(\n        Reflect.get(target, key),\n        (state[AFFECTED_PROPERTY] as Affected),\n        state[PROXY_CACHE_PROPERTY],\n        state[TARGET_CACHE_PROPERTY],\n      );\n    },\n    has(target, key) {\n      if (key === TRACK_MEMO_SYMBOL) {\n        recordObjectAsUsed();\n        return true;\n      }\n      recordUsage(HAS_KEY_PROPERTY, key);\n      return Reflect.has(target, key);\n    },\n    getOwnPropertyDescriptor(target, key) {\n      recordUsage(HAS_OWN_KEY_PROPERTY, key);\n      return Reflect.getOwnPropertyDescriptor(target, key);\n    },\n    ownKeys(target) {\n      recordUsage(ALL_OWN_KEYS_PROPERTY);\n      return Reflect.ownKeys(target);\n    },\n  };\n  if (isTargetCopied) {\n    handler.set = handler.deleteProperty = () => false;\n  }\n  return [handler, state] as const;\n};\n\nconst getOriginalObject = <T extends object>(obj: T) => (\n  // unwrap proxy\n  (obj as { [GET_ORIGINAL_SYMBOL]?: typeof obj })[GET_ORIGINAL_SYMBOL]\n  // otherwise\n  || obj\n);\n\n/**\n * Create a proxy.\n *\n * This function will create a proxy at top level and proxy nested objects as you access them,\n * in order to keep track of which properties were accessed via get/has proxy handlers:\n *\n * NOTE: Printing of WeakMap is hard to inspect and not very readable\n * for this purpose you can use the `affectedToPathList` helper.\n *\n * @param {object} obj - Object that will be wrapped on the proxy.\n * @param {WeakMap<object, unknown>} affected -\n * WeakMap that will hold the tracking of which properties in the proxied object were accessed.\n * @param {WeakMap<object, unknown>} [proxyCache] -\n * WeakMap that will help keep referential identity for proxies.\n * @returns {Proxy<object>} - Object wrapped in a proxy.\n *\n * @example\n * import { createProxy } from 'proxy-compare';\n *\n * const original = { a: \"1\", c: \"2\", d: { e: \"3\" } };\n * const affected = new WeakMap();\n * const proxy = createProxy(original, affected);\n *\n * proxy.a // Will mark as used and track its value.\n * // This will update the affected WeakMap with original as key\n * // and a Set with \"a\"\n *\n * proxy.d // Will mark \"d\" as accessed to track and proxy itself ({ e: \"3\" }).\n * // This will update the affected WeakMap with original as key\n * // and a Set with \"d\"\n */\nexport const createProxy = <T>(\n  obj: T,\n  affected: WeakMap<object, unknown>,\n  proxyCache?: WeakMap<object, unknown>,\n  targetCache?: WeakMap<object, unknown>,\n): T => {\n  if (!isObjectToTrack(obj)) return obj;\n  let targetAndCopied = (\n    targetCache && (targetCache as TargetCache<typeof obj>).get(obj)\n  );\n  if (!targetAndCopied) {\n    const target = getOriginalObject(obj);\n    if (needsToCopyTargetObject(target)) {\n      targetAndCopied = [target, copyTargetObject(target)];\n    } else {\n      targetAndCopied = [target];\n    }\n    targetCache?.set(obj, targetAndCopied);\n  }\n  const [target, copiedTarget] = targetAndCopied;\n  let handlerAndState = (\n    proxyCache && (proxyCache as ProxyCache<typeof target>).get(target)\n  );\n  if (\n    !handlerAndState\n    || handlerAndState[1][IS_TARGET_COPIED_PROPERTY] !== !!copiedTarget\n  ) {\n    handlerAndState = createProxyHandler<typeof target>(target, !!copiedTarget);\n    handlerAndState[1][PROXY_PROPERTY] = newProxy(\n      copiedTarget || target,\n      handlerAndState[0],\n    );\n    if (proxyCache) {\n      proxyCache.set(target, handlerAndState);\n    }\n  }\n  handlerAndState[1][AFFECTED_PROPERTY] = affected as Affected;\n  handlerAndState[1][PROXY_CACHE_PROPERTY] = proxyCache as ProxyCache<object> | undefined;\n  handlerAndState[1][TARGET_CACHE_PROPERTY] = targetCache as TargetCache<object> | undefined;\n  return handlerAndState[1][PROXY_PROPERTY] as typeof target;\n};\n\nconst isAllOwnKeysChanged = (prevObj: object, nextObj: object) => {\n  const prevKeys = Reflect.ownKeys(prevObj);\n  const nextKeys = Reflect.ownKeys(nextObj);\n  return prevKeys.length !== nextKeys.length\n    || prevKeys.some((k, i) => k !== nextKeys[i]);\n};\n\ntype ChangedCache = WeakMap<object, {\n  [NEXT_OBJECT_PROPERTY]: object;\n  [CHANGED_PROPERTY]: boolean;\n}>;\n\n/**\n * Compare changes on objects.\n *\n * This will compare the affected properties on tracked objects inside the proxy\n * to check if there were any changes made to it,\n * by default if no property was accessed on the proxy it will attempt to do a\n * reference equality check for the objects provided (Object.is(a, b)). If you access a property\n * on the proxy, then isChanged will only compare the affected properties.\n *\n * @param {object} prevObj - The previous object to compare.\n * @param {object} nextObj - Object to compare with the previous one.\n * @param {WeakMap<object, unknown>} affected -\n * WeakMap that holds the tracking of which properties in the proxied object were accessed.\n * @param {WeakMap<object, unknown>} [cache] -\n * WeakMap that holds a cache of the comparisons for better performance with repetitive comparisons,\n * and to avoid infinite loop with circular structures.\n * @returns {boolean} - Boolean indicating if the affected property on the object has changed.\n *\n * @example\n * import { createProxy, isChanged } from 'proxy-compare';\n *\n * const obj = { a: \"1\", c: \"2\", d: { e: \"3\" } };\n * const affected = new WeakMap();\n *\n * const proxy = createProxy(obj, affected);\n *\n * proxy.a\n *\n * isChanged(obj, { a: \"1\" }, affected) // false\n *\n * proxy.a = \"2\"\n *\n * isChanged(obj, { a: \"1\" }, affected) // true\n */\n\nexport const isChanged = (\n  prevObj: unknown,\n  nextObj: unknown,\n  affected: WeakMap<object, unknown>,\n  cache?: WeakMap<object, unknown>,\n  isEqual: (a: unknown, b: unknown) => boolean = Object.is,\n): boolean => {\n  if (isEqual(prevObj, nextObj)) {\n    return false;\n  }\n  if (!isObject(prevObj) || !isObject(nextObj)) return true;\n  const used = (affected as Affected).get(getOriginalObject(prevObj));\n  if (!used) return true;\n  if (cache) {\n    const hit = (cache as ChangedCache).get(prevObj);\n    if (hit && hit[NEXT_OBJECT_PROPERTY] === nextObj) {\n      return hit[CHANGED_PROPERTY];\n    }\n    // for object with cycles\n    (cache as ChangedCache).set(prevObj, {\n      [NEXT_OBJECT_PROPERTY]: nextObj,\n      [CHANGED_PROPERTY]: false,\n    });\n  }\n  let changed: boolean | null = null;\n  try {\n    for (const key of used[HAS_KEY_PROPERTY] || []) {\n      changed = Reflect.has(prevObj, key) !== Reflect.has(nextObj, key);\n      if (changed) return changed;\n    }\n    if (used[ALL_OWN_KEYS_PROPERTY] === true) {\n      changed = isAllOwnKeysChanged(prevObj, nextObj);\n      if (changed) return changed;\n    } else {\n      for (const key of used[HAS_OWN_KEY_PROPERTY] || []) {\n        const hasPrev = !!Reflect.getOwnPropertyDescriptor(prevObj, key);\n        const hasNext = !!Reflect.getOwnPropertyDescriptor(nextObj, key);\n        changed = hasPrev !== hasNext;\n        if (changed) return changed;\n      }\n    }\n    for (const key of used[KEYS_PROPERTY] || []) {\n      changed = isChanged(\n        (prevObj as any)[key],\n        (nextObj as any)[key],\n        affected,\n        cache,\n        isEqual,\n      );\n      if (changed) return changed;\n    }\n    if (changed === null) changed = true;\n    return changed;\n  } finally {\n    if (cache) {\n      cache.set(prevObj, {\n        [NEXT_OBJECT_PROPERTY]: nextObj,\n        [CHANGED_PROPERTY]: changed,\n      });\n    }\n  }\n};\n\n// explicitly track object with memo\nexport const trackMemo = (obj: unknown) => {\n  if (isObjectToTrack(obj)) {\n    return TRACK_MEMO_SYMBOL in obj;\n  }\n  return false;\n};\n\n/**\n * Unwrap proxy to get the original object.\n *\n * Used to retrieve the original object used to create the proxy instance with `createProxy`.\n *\n * @param {Proxy<object>} obj -  The proxy wrapper of the originial object.\n * @returns {object | null} - Return either the unwrapped object if exists.\n *\n * @example\n * import { createProxy, getUntracked } from 'proxy-compare';\n *\n * const original = { a: \"1\", c: \"2\", d: { e: \"3\" } };\n * const affected = new WeakMap();\n *\n * const proxy = createProxy(original, affected);\n * const originalFromProxy = getUntracked(proxy)\n *\n * Object.is(original, originalFromProxy) // true\n * isChanged(original, originalFromProxy, affected) // false\n */\nexport const getUntracked = <T>(obj: T): T | null => {\n  if (isObjectToTrack(obj)) {\n    return (obj as { [GET_ORIGINAL_SYMBOL]?: T })[GET_ORIGINAL_SYMBOL] || null;\n  }\n  return null;\n};\n\n/**\n * Mark object to be tracked.\n *\n * This function marks an object that will be passed into `createProxy`\n * as marked to track or not. By default only Array and Object are marked to track,\n * so this is useful for example to mark a class instance to track or to mark a object\n * to be untracked when creating your proxy.\n *\n * @param obj - Object to mark as tracked or not.\n * @param mark - Boolean indicating whether you want to track this object or not.\n * @returns - No return.\n *\n * @example\n * import { createProxy, markToTrack, isChanged } from 'proxy-compare';\n *\n * const nested = { e: \"3\" }\n *\n * markToTrack(nested, false)\n *\n * const original = { a: \"1\", c: \"2\", d: nested };\n * const affected = new WeakMap();\n *\n * const proxy = createProxy(original, affected);\n *\n * proxy.d.e\n *\n * isChanged(original, { d: { e: \"3\" } }, affected) // true\n */\nexport const markToTrack = (obj: object, mark = true) => {\n  objectsToTrack.set(obj, mark);\n};\n\n/**\n * Convert `affected` to path list\n *\n * `affected` is a weak map which is not printable.\n * This function is can convert it to printable path list.\n * It's for debugging purpose.\n *\n * @param obj - An object that is used with `createProxy`.\n * @param affected - A weak map that is used with `createProxy`.\n * @param onlyWithValues - An optional boolean to exclude object getters.\n * @returns - An array of paths.\n */\nexport const affectedToPathList = (\n  obj: unknown,\n  affected: WeakMap<object, unknown>,\n  onlyWithValues?: boolean,\n) => {\n  const list: (string | symbol)[][] = [];\n  const seen = new WeakSet();\n  const walk = (x: unknown, path?: (string | symbol)[]) => {\n    if (seen.has(x as object)) {\n      // for object with cycles\n      return;\n    }\n    if (isObject(x)) {\n      seen.add(x);\n    }\n    const used = isObject(x) && (affected as Affected).get(getOriginalObject(x));\n    if (used) {\n      used[HAS_KEY_PROPERTY]?.forEach((key) => {\n        const segment = `:has(${String(key)})`;\n        list.push(path ? [...path, segment] : [segment]);\n      });\n      if (used[ALL_OWN_KEYS_PROPERTY] === true) {\n        const segment = ':ownKeys';\n        list.push(path ? [...path, segment] : [segment]);\n      } else {\n        used[HAS_OWN_KEY_PROPERTY]?.forEach((key) => {\n          const segment = `:hasOwn(${String(key)})`;\n          list.push(path ? [...path, segment] : [segment]);\n        });\n      }\n      used[KEYS_PROPERTY]?.forEach((key) => {\n        if (!onlyWithValues || 'value' in (Object.getOwnPropertyDescriptor(x, key) || {})) {\n          walk((x as any)[key], path ? [...path, key] : [key]);\n        }\n      });\n    } else if (path) {\n      list.push(path);\n    }\n  };\n  walk(obj);\n  return list;\n};\n\n/**\n * replace newProxy function.\n *\n * This can be used if you want to use proxy-polyfill.\n * Note that proxy-polyfill can't polyfill everything.\n * Use it at your own risk.\n */\nexport const replaceNewProxy = (fn: typeof newProxy) => {\n  newProxy = fn;\n};\n", "import { markToTrack, getUntracked } from 'proxy-compare';\r\n\r\nconst isObject = (x) => typeof x === \"object\" && x !== null;\r\nconst proxyStateMap = /* @__PURE__ */ new WeakMap();\r\nconst refSet = /* @__PURE__ */ new WeakSet();\r\nconst buildProxyFunction = (objectIs = Object.is, newProxy = (target, handler) => new Proxy(target, handler), canProxy = (x) => isObject(x) && !refSet.has(x) && (Array.isArray(x) || !(Symbol.iterator in x)) && !(x instanceof WeakMap) && !(x instanceof WeakSet) && !(x instanceof Error) && !(x instanceof Number) && !(x instanceof Date) && !(x instanceof String) && !(x instanceof RegExp) && !(x instanceof ArrayBuffer), defaultHandlePromise = (promise) => {\r\n  switch (promise.status) {\r\n    case \"fulfilled\":\r\n      return promise.value;\r\n    case \"rejected\":\r\n      throw promise.reason;\r\n    default:\r\n      throw promise;\r\n  }\r\n}, snapCache = /* @__PURE__ */ new WeakMap(), createSnapshot = (target, version, handlePromise = defaultHandlePromise) => {\r\n  const cache = snapCache.get(target);\r\n  if ((cache == null ? void 0 : cache[0]) === version) {\r\n    return cache[1];\r\n  }\r\n  const snap = Array.isArray(target) ? [] : Object.create(Object.getPrototypeOf(target));\r\n  markToTrack(snap, true);\r\n  snapCache.set(target, [version, snap]);\r\n  Reflect.ownKeys(target).forEach((key) => {\r\n    if (Object.getOwnPropertyDescriptor(snap, key)) {\r\n      return;\r\n    }\r\n    const value = Reflect.get(target, key);\r\n    const { enumerable } = Reflect.getOwnPropertyDescriptor(\r\n      target,\r\n      key\r\n    );\r\n    const desc = {\r\n      value,\r\n      enumerable,\r\n      // This is intentional to avoid copying with proxy-compare.\r\n      // It's still non-writable, so it avoids assigning a value.\r\n      configurable: true\r\n    };\r\n    if (refSet.has(value)) {\r\n      markToTrack(value, false);\r\n    } else if (value instanceof Promise) {\r\n      delete desc.value;\r\n      desc.get = () => handlePromise(value);\r\n    } else if (proxyStateMap.has(value)) {\r\n      const [target2, ensureVersion] = proxyStateMap.get(\r\n        value\r\n      );\r\n      desc.value = createSnapshot(\r\n        target2,\r\n        ensureVersion(),\r\n        handlePromise\r\n      );\r\n    }\r\n    Object.defineProperty(snap, key, desc);\r\n  });\r\n  return Object.preventExtensions(snap);\r\n}, proxyCache = /* @__PURE__ */ new WeakMap(), versionHolder = [1, 1], proxyFunction = (initialObject) => {\r\n  if (!isObject(initialObject)) {\r\n    throw new Error(\"object required\");\r\n  }\r\n  const found = proxyCache.get(initialObject);\r\n  if (found) {\r\n    return found;\r\n  }\r\n  let version = versionHolder[0];\r\n  const listeners = /* @__PURE__ */ new Set();\r\n  const notifyUpdate = (op, nextVersion = ++versionHolder[0]) => {\r\n    if (version !== nextVersion) {\r\n      version = nextVersion;\r\n      listeners.forEach((listener) => listener(op, nextVersion));\r\n    }\r\n  };\r\n  let checkVersion = versionHolder[1];\r\n  const ensureVersion = (nextCheckVersion = ++versionHolder[1]) => {\r\n    if (checkVersion !== nextCheckVersion && !listeners.size) {\r\n      checkVersion = nextCheckVersion;\r\n      propProxyStates.forEach(([propProxyState]) => {\r\n        const propVersion = propProxyState[1](nextCheckVersion);\r\n        if (propVersion > version) {\r\n          version = propVersion;\r\n        }\r\n      });\r\n    }\r\n    return version;\r\n  };\r\n  const createPropListener = (prop) => (op, nextVersion) => {\r\n    const newOp = [...op];\r\n    newOp[1] = [prop, ...newOp[1]];\r\n    notifyUpdate(newOp, nextVersion);\r\n  };\r\n  const propProxyStates = /* @__PURE__ */ new Map();\r\n  const addPropListener = (prop, propProxyState) => {\r\n    if ((import.meta.env ? import.meta.env.MODE : void 0) !== \"production\" && propProxyStates.has(prop)) {\r\n      throw new Error(\"prop listener already exists\");\r\n    }\r\n    if (listeners.size) {\r\n      const remove = propProxyState[3](createPropListener(prop));\r\n      propProxyStates.set(prop, [propProxyState, remove]);\r\n    } else {\r\n      propProxyStates.set(prop, [propProxyState]);\r\n    }\r\n  };\r\n  const removePropListener = (prop) => {\r\n    var _a;\r\n    const entry = propProxyStates.get(prop);\r\n    if (entry) {\r\n      propProxyStates.delete(prop);\r\n      (_a = entry[1]) == null ? void 0 : _a.call(entry);\r\n    }\r\n  };\r\n  const addListener = (listener) => {\r\n    listeners.add(listener);\r\n    if (listeners.size === 1) {\r\n      propProxyStates.forEach(([propProxyState, prevRemove], prop) => {\r\n        if ((import.meta.env ? import.meta.env.MODE : void 0) !== \"production\" && prevRemove) {\r\n          throw new Error(\"remove already exists\");\r\n        }\r\n        const remove = propProxyState[3](createPropListener(prop));\r\n        propProxyStates.set(prop, [propProxyState, remove]);\r\n      });\r\n    }\r\n    const removeListener = () => {\r\n      listeners.delete(listener);\r\n      if (listeners.size === 0) {\r\n        propProxyStates.forEach(([propProxyState, remove], prop) => {\r\n          if (remove) {\r\n            remove();\r\n            propProxyStates.set(prop, [propProxyState]);\r\n          }\r\n        });\r\n      }\r\n    };\r\n    return removeListener;\r\n  };\r\n  const baseObject = Array.isArray(initialObject) ? [] : Object.create(Object.getPrototypeOf(initialObject));\r\n  const handler = {\r\n    deleteProperty(target, prop) {\r\n      const prevValue = Reflect.get(target, prop);\r\n      removePropListener(prop);\r\n      const deleted = Reflect.deleteProperty(target, prop);\r\n      if (deleted) {\r\n        notifyUpdate([\"delete\", [prop], prevValue]);\r\n      }\r\n      return deleted;\r\n    },\r\n    set(target, prop, value, receiver) {\r\n      const hasPrevValue = Reflect.has(target, prop);\r\n      const prevValue = Reflect.get(target, prop, receiver);\r\n      if (hasPrevValue && (objectIs(prevValue, value) || proxyCache.has(value) && objectIs(prevValue, proxyCache.get(value)))) {\r\n        return true;\r\n      }\r\n      removePropListener(prop);\r\n      if (isObject(value)) {\r\n        value = getUntracked(value) || value;\r\n      }\r\n      let nextValue = value;\r\n      if (value instanceof Promise) {\r\n        value.then((v) => {\r\n          value.status = \"fulfilled\";\r\n          value.value = v;\r\n          notifyUpdate([\"resolve\", [prop], v]);\r\n        }).catch((e) => {\r\n          value.status = \"rejected\";\r\n          value.reason = e;\r\n          notifyUpdate([\"reject\", [prop], e]);\r\n        });\r\n      } else {\r\n        if (!proxyStateMap.has(value) && canProxy(value)) {\r\n          nextValue = proxyFunction(value);\r\n        }\r\n        const childProxyState = !refSet.has(nextValue) && proxyStateMap.get(nextValue);\r\n        if (childProxyState) {\r\n          addPropListener(prop, childProxyState);\r\n        }\r\n      }\r\n      Reflect.set(target, prop, nextValue, receiver);\r\n      notifyUpdate([\"set\", [prop], value, prevValue]);\r\n      return true;\r\n    }\r\n  };\r\n  const proxyObject = newProxy(baseObject, handler);\r\n  proxyCache.set(initialObject, proxyObject);\r\n  const proxyState = [\r\n    baseObject,\r\n    ensureVersion,\r\n    createSnapshot,\r\n    addListener\r\n  ];\r\n  proxyStateMap.set(proxyObject, proxyState);\r\n  Reflect.ownKeys(initialObject).forEach((key) => {\r\n    const desc = Object.getOwnPropertyDescriptor(\r\n      initialObject,\r\n      key\r\n    );\r\n    if (\"value\" in desc) {\r\n      proxyObject[key] = initialObject[key];\r\n      delete desc.value;\r\n      delete desc.writable;\r\n    }\r\n    Object.defineProperty(baseObject, key, desc);\r\n  });\r\n  return proxyObject;\r\n}) => [\r\n  // public functions\r\n  proxyFunction,\r\n  // shared state\r\n  proxyStateMap,\r\n  refSet,\r\n  // internal things\r\n  objectIs,\r\n  newProxy,\r\n  canProxy,\r\n  defaultHandlePromise,\r\n  snapCache,\r\n  createSnapshot,\r\n  proxyCache,\r\n  versionHolder\r\n];\r\nconst [defaultProxyFunction] = buildProxyFunction();\r\nfunction proxy(initialObject = {}) {\r\n  return defaultProxyFunction(initialObject);\r\n}\r\nfunction getVersion(proxyObject) {\r\n  const proxyState = proxyStateMap.get(proxyObject);\r\n  return proxyState == null ? void 0 : proxyState[1]();\r\n}\r\nfunction subscribe(proxyObject, callback, notifyInSync) {\r\n  const proxyState = proxyStateMap.get(proxyObject);\r\n  if ((import.meta.env ? import.meta.env.MODE : void 0) !== \"production\" && !proxyState) {\r\n    console.warn(\"Please use proxy object\");\r\n  }\r\n  let promise;\r\n  const ops = [];\r\n  const addListener = proxyState[3];\r\n  let isListenerActive = false;\r\n  const listener = (op) => {\r\n    ops.push(op);\r\n    if (notifyInSync) {\r\n      callback(ops.splice(0));\r\n      return;\r\n    }\r\n    if (!promise) {\r\n      promise = Promise.resolve().then(() => {\r\n        promise = void 0;\r\n        if (isListenerActive) {\r\n          callback(ops.splice(0));\r\n        }\r\n      });\r\n    }\r\n  };\r\n  const removeListener = addListener(listener);\r\n  isListenerActive = true;\r\n  return () => {\r\n    isListenerActive = false;\r\n    removeListener();\r\n  };\r\n}\r\nfunction snapshot(proxyObject, handlePromise) {\r\n  const proxyState = proxyStateMap.get(proxyObject);\r\n  if ((import.meta.env ? import.meta.env.MODE : void 0) !== \"production\" && !proxyState) {\r\n    console.warn(\"Please use proxy object\");\r\n  }\r\n  const [target, ensureVersion, createSnapshot] = proxyState;\r\n  return createSnapshot(target, ensureVersion(), handlePromise);\r\n}\r\nfunction ref(obj) {\r\n  refSet.add(obj);\r\n  return obj;\r\n}\r\nconst unstable_buildProxyFunction = buildProxyFunction;\r\n\r\nexport { getVersion, proxy, ref, snapshot, subscribe, unstable_buildProxyFunction };\r\n", "import { subscribe, snapshot, proxy, ref, unstable_buildProxyFunction } from 'valtio/vanilla';\r\nimport { derive } from 'derive-valtio';\r\nexport { derive, underive, unstable_deriveSubscriptions } from 'derive-valtio';\r\n\r\nfunction subscribeKey(proxyObject, key, callback, notifyInSync) {\r\n  let prevValue = proxyObject[key];\r\n  return subscribe(\r\n    proxyObject,\r\n    () => {\r\n      const nextValue = proxyObject[key];\r\n      if (!Object.is(prevValue, nextValue)) {\r\n        callback(prevValue = nextValue);\r\n      }\r\n    },\r\n    notifyInSync\r\n  );\r\n}\r\n\r\nlet currentCleanups;\r\nfunction watch(callback, options) {\r\n  let alive = true;\r\n  const cleanups = /* @__PURE__ */ new Set();\r\n  const subscriptions = /* @__PURE__ */ new Map();\r\n  const cleanup = () => {\r\n    if (alive) {\r\n      alive = false;\r\n      cleanups.forEach((clean) => clean());\r\n      cleanups.clear();\r\n      subscriptions.forEach((unsubscribe) => unsubscribe());\r\n      subscriptions.clear();\r\n    }\r\n  };\r\n  const revalidate = async () => {\r\n    if (!alive) {\r\n      return;\r\n    }\r\n    cleanups.forEach((clean) => clean());\r\n    cleanups.clear();\r\n    const proxiesToSubscribe = /* @__PURE__ */ new Set();\r\n    const parent = currentCleanups;\r\n    currentCleanups = cleanups;\r\n    try {\r\n      const promiseOrPossibleCleanup = callback((proxyObject) => {\r\n        proxiesToSubscribe.add(proxyObject);\r\n        if (alive && !subscriptions.has(proxyObject)) {\r\n          const unsubscribe = subscribe(proxyObject, revalidate, options == null ? void 0 : options.sync);\r\n          subscriptions.set(proxyObject, unsubscribe);\r\n        }\r\n        return proxyObject;\r\n      });\r\n      const couldBeCleanup = promiseOrPossibleCleanup && promiseOrPossibleCleanup instanceof Promise ? await promiseOrPossibleCleanup : promiseOrPossibleCleanup;\r\n      if (couldBeCleanup) {\r\n        if (alive) {\r\n          cleanups.add(couldBeCleanup);\r\n        } else {\r\n          cleanup();\r\n        }\r\n      }\r\n    } finally {\r\n      currentCleanups = parent;\r\n    }\r\n    subscriptions.forEach((unsubscribe, proxyObject) => {\r\n      if (!proxiesToSubscribe.has(proxyObject)) {\r\n        subscriptions.delete(proxyObject);\r\n        unsubscribe();\r\n      }\r\n    });\r\n  };\r\n  if (currentCleanups) {\r\n    currentCleanups.add(cleanup);\r\n  }\r\n  revalidate();\r\n  return cleanup;\r\n}\r\n\r\nconst DEVTOOLS = Symbol();\r\nfunction devtools(proxyObject, options) {\r\n  if (typeof options === \"string\") {\r\n    console.warn(\r\n      \"string name option is deprecated, use { name }. https://github.com/pmndrs/valtio/pull/400\"\r\n    );\r\n    options = { name: options };\r\n  }\r\n  const { enabled, name = \"\", ...rest } = options || {};\r\n  let extension;\r\n  try {\r\n    extension = (enabled != null ? enabled : (import.meta.env ? import.meta.env.MODE : void 0) !== \"production\") && window.__REDUX_DEVTOOLS_EXTENSION__;\r\n  } catch (e) {\r\n  }\r\n  if (!extension) {\r\n    if ((import.meta.env ? import.meta.env.MODE : void 0) !== \"production\" && enabled) {\r\n      console.warn(\"[Warning] Please install/enable Redux devtools extension\");\r\n    }\r\n    return;\r\n  }\r\n  let isTimeTraveling = false;\r\n  const devtools2 = extension.connect({ name, ...rest });\r\n  const unsub1 = subscribe(proxyObject, (ops) => {\r\n    const action = ops.filter(([_, path]) => path[0] !== DEVTOOLS).map(([op, path]) => `${op}:${path.map(String).join(\".\")}`).join(\", \");\r\n    if (!action) {\r\n      return;\r\n    }\r\n    if (isTimeTraveling) {\r\n      isTimeTraveling = false;\r\n    } else {\r\n      const snapWithoutDevtools = Object.assign({}, snapshot(proxyObject));\r\n      delete snapWithoutDevtools[DEVTOOLS];\r\n      devtools2.send(\r\n        {\r\n          type: action,\r\n          updatedAt: (/* @__PURE__ */ new Date()).toLocaleString()\r\n        },\r\n        snapWithoutDevtools\r\n      );\r\n    }\r\n  });\r\n  const unsub2 = devtools2.subscribe((message) => {\r\n    var _a, _b, _c, _d, _e, _f;\r\n    if (message.type === \"ACTION\" && message.payload) {\r\n      try {\r\n        Object.assign(proxyObject, JSON.parse(message.payload));\r\n      } catch (e) {\r\n        console.error(\r\n          \"please dispatch a serializable value that JSON.parse() and proxy() support\\n\",\r\n          e\r\n        );\r\n      }\r\n    }\r\n    if (message.type === \"DISPATCH\" && message.state) {\r\n      if (((_a = message.payload) == null ? void 0 : _a.type) === \"JUMP_TO_ACTION\" || ((_b = message.payload) == null ? void 0 : _b.type) === \"JUMP_TO_STATE\") {\r\n        isTimeTraveling = true;\r\n        const state = JSON.parse(message.state);\r\n        Object.assign(proxyObject, state);\r\n      }\r\n      proxyObject[DEVTOOLS] = message;\r\n    } else if (message.type === \"DISPATCH\" && ((_c = message.payload) == null ? void 0 : _c.type) === \"COMMIT\") {\r\n      devtools2.init(snapshot(proxyObject));\r\n    } else if (message.type === \"DISPATCH\" && ((_d = message.payload) == null ? void 0 : _d.type) === \"IMPORT_STATE\") {\r\n      const actions = (_e = message.payload.nextLiftedState) == null ? void 0 : _e.actionsById;\r\n      const computedStates = ((_f = message.payload.nextLiftedState) == null ? void 0 : _f.computedStates) || [];\r\n      isTimeTraveling = true;\r\n      computedStates.forEach(({ state }, index) => {\r\n        const action = actions[index] || \"No action found\";\r\n        Object.assign(proxyObject, state);\r\n        if (index === 0) {\r\n          devtools2.init(snapshot(proxyObject));\r\n        } else {\r\n          devtools2.send(action, snapshot(proxyObject));\r\n        }\r\n      });\r\n    }\r\n  });\r\n  devtools2.init(snapshot(proxyObject));\r\n  return () => {\r\n    unsub1();\r\n    unsub2 == null ? void 0 : unsub2();\r\n  };\r\n}\r\n\r\nfunction addComputed_DEPRECATED(proxyObject, computedFns_FAKE, targetObject = proxyObject) {\r\n  if ((import.meta.env ? import.meta.env.MODE : void 0) !== \"production\") {\r\n    console.warn(\r\n      \"addComputed is deprecated. Please consider using `derive`. Falling back to emulation with derive. https://github.com/pmndrs/valtio/pull/201\"\r\n    );\r\n  }\r\n  const derivedFns = {};\r\n  Object.keys(computedFns_FAKE).forEach((key) => {\r\n    derivedFns[key] = (get) => computedFns_FAKE[key](get(proxyObject));\r\n  });\r\n  return derive(derivedFns, { proxy: targetObject });\r\n}\r\n\r\nfunction proxyWithComputed_DEPRECATED(initialObject, computedFns) {\r\n  if ((import.meta.env ? import.meta.env.MODE : void 0) !== \"production\") {\r\n    console.warn(\r\n      'proxyWithComputed is deprecated. Please follow \"Computed Properties\" guide in docs.'\r\n    );\r\n  }\r\n  Object.keys(computedFns).forEach((key) => {\r\n    if (Object.getOwnPropertyDescriptor(initialObject, key)) {\r\n      throw new Error(\"object property already defined\");\r\n    }\r\n    const computedFn = computedFns[key];\r\n    const { get, set } = typeof computedFn === \"function\" ? { get: computedFn } : computedFn;\r\n    const desc = {};\r\n    desc.get = () => get(snapshot(proxyObject));\r\n    if (set) {\r\n      desc.set = (newValue) => set(proxyObject, newValue);\r\n    }\r\n    Object.defineProperty(initialObject, key, desc);\r\n  });\r\n  const proxyObject = proxy(initialObject);\r\n  return proxyObject;\r\n}\r\n\r\nconst isObject = (x) => typeof x === \"object\" && x !== null;\r\nlet refSet;\r\nconst deepClone = (obj) => {\r\n  if (!refSet) {\r\n    refSet = unstable_buildProxyFunction()[2];\r\n  }\r\n  if (!isObject(obj) || refSet.has(obj)) {\r\n    return obj;\r\n  }\r\n  const baseObject = Array.isArray(obj) ? [] : Object.create(Object.getPrototypeOf(obj));\r\n  Reflect.ownKeys(obj).forEach((key) => {\r\n    baseObject[key] = deepClone(obj[key]);\r\n  });\r\n  return baseObject;\r\n};\r\nfunction proxyWithHistory_DEPRECATED(initialValue, skipSubscribe = false) {\r\n  if ((import.meta.env ? import.meta.env.MODE : void 0) !== \"production\") {\r\n    console.warn(\r\n      'proxyWithHistory is deprecated. Please use the \"valtio-history\" package; refer to the docs'\r\n    );\r\n  }\r\n  const proxyObject = proxy({\r\n    value: initialValue,\r\n    history: ref({\r\n      wip: void 0,\r\n      // to avoid infinite loop\r\n      snapshots: [],\r\n      index: -1\r\n    }),\r\n    clone: deepClone,\r\n    canUndo: () => proxyObject.history.index > 0,\r\n    undo: () => {\r\n      if (proxyObject.canUndo()) {\r\n        proxyObject.value = proxyObject.history.wip = proxyObject.clone(\r\n          proxyObject.history.snapshots[--proxyObject.history.index]\r\n        );\r\n      }\r\n    },\r\n    canRedo: () => proxyObject.history.index < proxyObject.history.snapshots.length - 1,\r\n    redo: () => {\r\n      if (proxyObject.canRedo()) {\r\n        proxyObject.value = proxyObject.history.wip = proxyObject.clone(\r\n          proxyObject.history.snapshots[++proxyObject.history.index]\r\n        );\r\n      }\r\n    },\r\n    saveHistory: () => {\r\n      proxyObject.history.snapshots.splice(proxyObject.history.index + 1);\r\n      proxyObject.history.snapshots.push(snapshot(proxyObject).value);\r\n      ++proxyObject.history.index;\r\n    },\r\n    subscribe: () => subscribe(proxyObject, (ops) => {\r\n      if (ops.every(\r\n        (op) => op[1][0] === \"value\" && (op[0] !== \"set\" || op[2] !== proxyObject.history.wip)\r\n      )) {\r\n        proxyObject.saveHistory();\r\n      }\r\n    })\r\n  });\r\n  proxyObject.saveHistory();\r\n  if (!skipSubscribe) {\r\n    proxyObject.subscribe();\r\n  }\r\n  return proxyObject;\r\n}\r\n\r\nfunction proxySet(initialValues) {\r\n  const set = proxy({\r\n    data: Array.from(new Set(initialValues)),\r\n    has(value) {\r\n      return this.data.indexOf(value) !== -1;\r\n    },\r\n    add(value) {\r\n      let hasProxy = false;\r\n      if (typeof value === \"object\" && value !== null) {\r\n        hasProxy = this.data.indexOf(proxy(value)) !== -1;\r\n      }\r\n      if (this.data.indexOf(value) === -1 && !hasProxy) {\r\n        this.data.push(value);\r\n      }\r\n      return this;\r\n    },\r\n    delete(value) {\r\n      const index = this.data.indexOf(value);\r\n      if (index === -1) {\r\n        return false;\r\n      }\r\n      this.data.splice(index, 1);\r\n      return true;\r\n    },\r\n    clear() {\r\n      this.data.splice(0);\r\n    },\r\n    get size() {\r\n      return this.data.length;\r\n    },\r\n    forEach(cb) {\r\n      this.data.forEach((value) => {\r\n        cb(value, value, this);\r\n      });\r\n    },\r\n    get [Symbol.toStringTag]() {\r\n      return \"Set\";\r\n    },\r\n    toJSON() {\r\n      return new Set(this.data);\r\n    },\r\n    [Symbol.iterator]() {\r\n      return this.data[Symbol.iterator]();\r\n    },\r\n    values() {\r\n      return this.data.values();\r\n    },\r\n    keys() {\r\n      return this.data.values();\r\n    },\r\n    entries() {\r\n      return new Set(this.data).entries();\r\n    }\r\n  });\r\n  Object.defineProperties(set, {\r\n    data: {\r\n      enumerable: false\r\n    },\r\n    size: {\r\n      enumerable: false\r\n    },\r\n    toJSON: {\r\n      enumerable: false\r\n    }\r\n  });\r\n  Object.seal(set);\r\n  return set;\r\n}\r\n\r\nfunction proxyMap(entries) {\r\n  const map = proxy({\r\n    data: Array.from(entries || []),\r\n    has(key) {\r\n      return this.data.some((p) => p[0] === key);\r\n    },\r\n    set(key, value) {\r\n      const record = this.data.find((p) => p[0] === key);\r\n      if (record) {\r\n        record[1] = value;\r\n      } else {\r\n        this.data.push([key, value]);\r\n      }\r\n      return this;\r\n    },\r\n    get(key) {\r\n      var _a;\r\n      return (_a = this.data.find((p) => p[0] === key)) == null ? void 0 : _a[1];\r\n    },\r\n    delete(key) {\r\n      const index = this.data.findIndex((p) => p[0] === key);\r\n      if (index === -1) {\r\n        return false;\r\n      }\r\n      this.data.splice(index, 1);\r\n      return true;\r\n    },\r\n    clear() {\r\n      this.data.splice(0);\r\n    },\r\n    get size() {\r\n      return this.data.length;\r\n    },\r\n    toJSON() {\r\n      return new Map(this.data);\r\n    },\r\n    forEach(cb) {\r\n      this.data.forEach((p) => {\r\n        cb(p[1], p[0], this);\r\n      });\r\n    },\r\n    keys() {\r\n      return this.data.map((p) => p[0]).values();\r\n    },\r\n    values() {\r\n      return this.data.map((p) => p[1]).values();\r\n    },\r\n    entries() {\r\n      return new Map(this.data).entries();\r\n    },\r\n    get [Symbol.toStringTag]() {\r\n      return \"Map\";\r\n    },\r\n    [Symbol.iterator]() {\r\n      return this.entries();\r\n    }\r\n  });\r\n  Object.defineProperties(map, {\r\n    data: {\r\n      enumerable: false\r\n    },\r\n    size: {\r\n      enumerable: false\r\n    },\r\n    toJSON: {\r\n      enumerable: false\r\n    }\r\n  });\r\n  Object.seal(map);\r\n  return map;\r\n}\r\n\r\nexport { addComputed_DEPRECATED as addComputed, devtools, proxyMap, proxySet, proxyWithComputed_DEPRECATED as proxyWithComputed, proxyWithHistory_DEPRECATED as proxyWithHistory, subscribeKey, watch };\r\n", null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, "function wrapToPromise(value) {\r\n  if (!value || typeof value.then !== \"function\") {\r\n    return Promise.resolve(value);\r\n  }\r\n  return value;\r\n}\r\nfunction asyncCall(function_, ...arguments_) {\r\n  try {\r\n    return wrapToPromise(function_(...arguments_));\r\n  } catch (error) {\r\n    return Promise.reject(error);\r\n  }\r\n}\r\nfunction isPrimitive(value) {\r\n  const type = typeof value;\r\n  return value === null || type !== \"object\" && type !== \"function\";\r\n}\r\nfunction isPureObject(value) {\r\n  const proto = Object.getPrototypeOf(value);\r\n  return !proto || proto.isPrototypeOf(Object);\r\n}\r\nfunction stringify(value) {\r\n  if (isPrimitive(value)) {\r\n    return String(value);\r\n  }\r\n  if (isPureObject(value) || Array.isArray(value)) {\r\n    return JSON.stringify(value);\r\n  }\r\n  if (typeof value.toJSON === \"function\") {\r\n    return stringify(value.toJSON());\r\n  }\r\n  throw new Error(\"[unstorage] Cannot stringify value!\");\r\n}\r\nconst BASE64_PREFIX = \"base64:\";\r\nfunction serializeRaw(value) {\r\n  if (typeof value === \"string\") {\r\n    return value;\r\n  }\r\n  return BASE64_PREFIX + base64Encode(value);\r\n}\r\nfunction deserializeRaw(value) {\r\n  if (typeof value !== \"string\") {\r\n    return value;\r\n  }\r\n  if (!value.startsWith(BASE64_PREFIX)) {\r\n    return value;\r\n  }\r\n  return base64Decode(value.slice(BASE64_PREFIX.length));\r\n}\r\nfunction base64Decode(input) {\r\n  if (globalThis.Buffer) {\r\n    return Buffer.from(input, \"base64\");\r\n  }\r\n  return Uint8Array.from(\r\n    globalThis.atob(input),\r\n    (c) => c.codePointAt(0)\r\n  );\r\n}\r\nfunction base64Encode(input) {\r\n  if (globalThis.Buffer) {\r\n    return Buffer.from(input).toString(\"base64\");\r\n  }\r\n  return globalThis.btoa(String.fromCodePoint(...input));\r\n}\r\n\r\nconst storageKeyProperties = [\r\n  \"has\",\r\n  \"hasItem\",\r\n  \"get\",\r\n  \"getItem\",\r\n  \"getItemRaw\",\r\n  \"set\",\r\n  \"setItem\",\r\n  \"setItemRaw\",\r\n  \"del\",\r\n  \"remove\",\r\n  \"removeItem\",\r\n  \"getMeta\",\r\n  \"setMeta\",\r\n  \"removeMeta\",\r\n  \"getKeys\",\r\n  \"clear\",\r\n  \"mount\",\r\n  \"unmount\"\r\n];\r\nfunction prefixStorage(storage, base) {\r\n  base = normalizeBaseKey(base);\r\n  if (!base) {\r\n    return storage;\r\n  }\r\n  const nsStorage = { ...storage };\r\n  for (const property of storageKeyProperties) {\r\n    nsStorage[property] = (key = \"\", ...args) => (\r\n      // @ts-ignore\r\n      storage[property](base + key, ...args)\r\n    );\r\n  }\r\n  nsStorage.getKeys = (key = \"\", ...arguments_) => storage.getKeys(base + key, ...arguments_).then((keys) => keys.map((key2) => key2.slice(base.length)));\r\n  nsStorage.getItems = async (items, commonOptions) => {\r\n    const prefixedItems = items.map(\r\n      (item) => typeof item === \"string\" ? base + item : { ...item, key: base + item.key }\r\n    );\r\n    const results = await storage.getItems(prefixedItems, commonOptions);\r\n    return results.map((entry) => ({\r\n      key: entry.key.slice(base.length),\r\n      value: entry.value\r\n    }));\r\n  };\r\n  nsStorage.setItems = async (items, commonOptions) => {\r\n    const prefixedItems = items.map((item) => ({\r\n      key: base + item.key,\r\n      value: item.value,\r\n      options: item.options\r\n    }));\r\n    return storage.setItems(prefixedItems, commonOptions);\r\n  };\r\n  return nsStorage;\r\n}\r\nfunction normalizeKey(key) {\r\n  if (!key) {\r\n    return \"\";\r\n  }\r\n  return key.split(\"?\")[0]?.replace(/[/\\\\]/g, \":\").replace(/:+/g, \":\").replace(/^:|:$/g, \"\") || \"\";\r\n}\r\nfunction joinKeys(...keys) {\r\n  return normalizeKey(keys.join(\":\"));\r\n}\r\nfunction normalizeBaseKey(base) {\r\n  base = normalizeKey(base);\r\n  return base ? base + \":\" : \"\";\r\n}\r\nfunction filterKeyByDepth(key, depth) {\r\n  if (depth === void 0) {\r\n    return true;\r\n  }\r\n  let substrCount = 0;\r\n  let index = key.indexOf(\":\");\r\n  while (index > -1) {\r\n    substrCount++;\r\n    index = key.indexOf(\":\", index + 1);\r\n  }\r\n  return substrCount <= depth;\r\n}\r\nfunction filterKeyByBase(key, base) {\r\n  if (base) {\r\n    return key.startsWith(base) && key[key.length - 1] !== \"$\";\r\n  }\r\n  return key[key.length - 1] !== \"$\";\r\n}\r\n\r\nexport { normalizeKey as a, asyncCall as b, filterKeyByBase as c, stringify as d, deserializeRaw as e, filterKeyByDepth as f, joinKeys as j, normalizeBaseKey as n, prefixStorage as p, serializeRaw as s };\r\n", "import destr from 'destr';\r\nimport { n as normalizeBaseKey, a as normalizeKey, b as asyncCall, f as filterKeyByDepth, c as filterKeyByBase, s as serializeRaw, d as stringify, e as deserializeRaw, j as joinKeys } from './shared/unstorage.CoCt7NXC.mjs';\r\nexport { p as prefixStorage } from './shared/unstorage.CoCt7NXC.mjs';\r\n\r\nfunction defineDriver(factory) {\r\n  return factory;\r\n}\r\n\r\nconst DRIVER_NAME = \"memory\";\r\nconst memory = defineDriver(() => {\r\n  const data = /* @__PURE__ */ new Map();\r\n  return {\r\n    name: DRIVER_NAME,\r\n    getInstance: () => data,\r\n    hasItem(key) {\r\n      return data.has(key);\r\n    },\r\n    getItem(key) {\r\n      return data.get(key) ?? null;\r\n    },\r\n    getItemRaw(key) {\r\n      return data.get(key) ?? null;\r\n    },\r\n    setItem(key, value) {\r\n      data.set(key, value);\r\n    },\r\n    setItemRaw(key, value) {\r\n      data.set(key, value);\r\n    },\r\n    removeItem(key) {\r\n      data.delete(key);\r\n    },\r\n    getKeys() {\r\n      return [...data.keys()];\r\n    },\r\n    clear() {\r\n      data.clear();\r\n    },\r\n    dispose() {\r\n      data.clear();\r\n    }\r\n  };\r\n});\r\n\r\nfunction createStorage(options = {}) {\r\n  const context = {\r\n    mounts: { \"\": options.driver || memory() },\r\n    mountpoints: [\"\"],\r\n    watching: false,\r\n    watchListeners: [],\r\n    unwatch: {}\r\n  };\r\n  const getMount = (key) => {\r\n    for (const base of context.mountpoints) {\r\n      if (key.startsWith(base)) {\r\n        return {\r\n          base,\r\n          relativeKey: key.slice(base.length),\r\n          driver: context.mounts[base]\r\n        };\r\n      }\r\n    }\r\n    return {\r\n      base: \"\",\r\n      relativeKey: key,\r\n      driver: context.mounts[\"\"]\r\n    };\r\n  };\r\n  const getMounts = (base, includeParent) => {\r\n    return context.mountpoints.filter(\r\n      (mountpoint) => mountpoint.startsWith(base) || includeParent && base.startsWith(mountpoint)\r\n    ).map((mountpoint) => ({\r\n      relativeBase: base.length > mountpoint.length ? base.slice(mountpoint.length) : void 0,\r\n      mountpoint,\r\n      driver: context.mounts[mountpoint]\r\n    }));\r\n  };\r\n  const onChange = (event, key) => {\r\n    if (!context.watching) {\r\n      return;\r\n    }\r\n    key = normalizeKey(key);\r\n    for (const listener of context.watchListeners) {\r\n      listener(event, key);\r\n    }\r\n  };\r\n  const startWatch = async () => {\r\n    if (context.watching) {\r\n      return;\r\n    }\r\n    context.watching = true;\r\n    for (const mountpoint in context.mounts) {\r\n      context.unwatch[mountpoint] = await watch(\r\n        context.mounts[mountpoint],\r\n        onChange,\r\n        mountpoint\r\n      );\r\n    }\r\n  };\r\n  const stopWatch = async () => {\r\n    if (!context.watching) {\r\n      return;\r\n    }\r\n    for (const mountpoint in context.unwatch) {\r\n      await context.unwatch[mountpoint]();\r\n    }\r\n    context.unwatch = {};\r\n    context.watching = false;\r\n  };\r\n  const runBatch = (items, commonOptions, cb) => {\r\n    const batches = /* @__PURE__ */ new Map();\r\n    const getBatch = (mount) => {\r\n      let batch = batches.get(mount.base);\r\n      if (!batch) {\r\n        batch = {\r\n          driver: mount.driver,\r\n          base: mount.base,\r\n          items: []\r\n        };\r\n        batches.set(mount.base, batch);\r\n      }\r\n      return batch;\r\n    };\r\n    for (const item of items) {\r\n      const isStringItem = typeof item === \"string\";\r\n      const key = normalizeKey(isStringItem ? item : item.key);\r\n      const value = isStringItem ? void 0 : item.value;\r\n      const options2 = isStringItem || !item.options ? commonOptions : { ...commonOptions, ...item.options };\r\n      const mount = getMount(key);\r\n      getBatch(mount).items.push({\r\n        key,\r\n        value,\r\n        relativeKey: mount.relativeKey,\r\n        options: options2\r\n      });\r\n    }\r\n    return Promise.all([...batches.values()].map((batch) => cb(batch))).then(\r\n      (r) => r.flat()\r\n    );\r\n  };\r\n  const storage = {\r\n    // Item\r\n    hasItem(key, opts = {}) {\r\n      key = normalizeKey(key);\r\n      const { relativeKey, driver } = getMount(key);\r\n      return asyncCall(driver.hasItem, relativeKey, opts);\r\n    },\r\n    getItem(key, opts = {}) {\r\n      key = normalizeKey(key);\r\n      const { relativeKey, driver } = getMount(key);\r\n      return asyncCall(driver.getItem, relativeKey, opts).then(\r\n        (value) => destr(value)\r\n      );\r\n    },\r\n    getItems(items, commonOptions = {}) {\r\n      return runBatch(items, commonOptions, (batch) => {\r\n        if (batch.driver.getItems) {\r\n          return asyncCall(\r\n            batch.driver.getItems,\r\n            batch.items.map((item) => ({\r\n              key: item.relativeKey,\r\n              options: item.options\r\n            })),\r\n            commonOptions\r\n          ).then(\r\n            (r) => r.map((item) => ({\r\n              key: joinKeys(batch.base, item.key),\r\n              value: destr(item.value)\r\n            }))\r\n          );\r\n        }\r\n        return Promise.all(\r\n          batch.items.map((item) => {\r\n            return asyncCall(\r\n              batch.driver.getItem,\r\n              item.relativeKey,\r\n              item.options\r\n            ).then((value) => ({\r\n              key: item.key,\r\n              value: destr(value)\r\n            }));\r\n          })\r\n        );\r\n      });\r\n    },\r\n    getItemRaw(key, opts = {}) {\r\n      key = normalizeKey(key);\r\n      const { relativeKey, driver } = getMount(key);\r\n      if (driver.getItemRaw) {\r\n        return asyncCall(driver.getItemRaw, relativeKey, opts);\r\n      }\r\n      return asyncCall(driver.getItem, relativeKey, opts).then(\r\n        (value) => deserializeRaw(value)\r\n      );\r\n    },\r\n    async setItem(key, value, opts = {}) {\r\n      if (value === void 0) {\r\n        return storage.removeItem(key);\r\n      }\r\n      key = normalizeKey(key);\r\n      const { relativeKey, driver } = getMount(key);\r\n      if (!driver.setItem) {\r\n        return;\r\n      }\r\n      await asyncCall(driver.setItem, relativeKey, stringify(value), opts);\r\n      if (!driver.watch) {\r\n        onChange(\"update\", key);\r\n      }\r\n    },\r\n    async setItems(items, commonOptions) {\r\n      await runBatch(items, commonOptions, async (batch) => {\r\n        if (batch.driver.setItems) {\r\n          return asyncCall(\r\n            batch.driver.setItems,\r\n            batch.items.map((item) => ({\r\n              key: item.relativeKey,\r\n              value: stringify(item.value),\r\n              options: item.options\r\n            })),\r\n            commonOptions\r\n          );\r\n        }\r\n        if (!batch.driver.setItem) {\r\n          return;\r\n        }\r\n        await Promise.all(\r\n          batch.items.map((item) => {\r\n            return asyncCall(\r\n              batch.driver.setItem,\r\n              item.relativeKey,\r\n              stringify(item.value),\r\n              item.options\r\n            );\r\n          })\r\n        );\r\n      });\r\n    },\r\n    async setItemRaw(key, value, opts = {}) {\r\n      if (value === void 0) {\r\n        return storage.removeItem(key, opts);\r\n      }\r\n      key = normalizeKey(key);\r\n      const { relativeKey, driver } = getMount(key);\r\n      if (driver.setItemRaw) {\r\n        await asyncCall(driver.setItemRaw, relativeKey, value, opts);\r\n      } else if (driver.setItem) {\r\n        await asyncCall(driver.setItem, relativeKey, serializeRaw(value), opts);\r\n      } else {\r\n        return;\r\n      }\r\n      if (!driver.watch) {\r\n        onChange(\"update\", key);\r\n      }\r\n    },\r\n    async removeItem(key, opts = {}) {\r\n      if (typeof opts === \"boolean\") {\r\n        opts = { removeMeta: opts };\r\n      }\r\n      key = normalizeKey(key);\r\n      const { relativeKey, driver } = getMount(key);\r\n      if (!driver.removeItem) {\r\n        return;\r\n      }\r\n      await asyncCall(driver.removeItem, relativeKey, opts);\r\n      if (opts.removeMeta || opts.removeMata) {\r\n        await asyncCall(driver.removeItem, relativeKey + \"$\", opts);\r\n      }\r\n      if (!driver.watch) {\r\n        onChange(\"remove\", key);\r\n      }\r\n    },\r\n    // Meta\r\n    async getMeta(key, opts = {}) {\r\n      if (typeof opts === \"boolean\") {\r\n        opts = { nativeOnly: opts };\r\n      }\r\n      key = normalizeKey(key);\r\n      const { relativeKey, driver } = getMount(key);\r\n      const meta = /* @__PURE__ */ Object.create(null);\r\n      if (driver.getMeta) {\r\n        Object.assign(meta, await asyncCall(driver.getMeta, relativeKey, opts));\r\n      }\r\n      if (!opts.nativeOnly) {\r\n        const value = await asyncCall(\r\n          driver.getItem,\r\n          relativeKey + \"$\",\r\n          opts\r\n        ).then((value_) => destr(value_));\r\n        if (value && typeof value === \"object\") {\r\n          if (typeof value.atime === \"string\") {\r\n            value.atime = new Date(value.atime);\r\n          }\r\n          if (typeof value.mtime === \"string\") {\r\n            value.mtime = new Date(value.mtime);\r\n          }\r\n          Object.assign(meta, value);\r\n        }\r\n      }\r\n      return meta;\r\n    },\r\n    setMeta(key, value, opts = {}) {\r\n      return this.setItem(key + \"$\", value, opts);\r\n    },\r\n    removeMeta(key, opts = {}) {\r\n      return this.removeItem(key + \"$\", opts);\r\n    },\r\n    // Keys\r\n    async getKeys(base, opts = {}) {\r\n      base = normalizeBaseKey(base);\r\n      const mounts = getMounts(base, true);\r\n      let maskedMounts = [];\r\n      const allKeys = [];\r\n      let allMountsSupportMaxDepth = true;\r\n      for (const mount of mounts) {\r\n        if (!mount.driver.flags?.maxDepth) {\r\n          allMountsSupportMaxDepth = false;\r\n        }\r\n        const rawKeys = await asyncCall(\r\n          mount.driver.getKeys,\r\n          mount.relativeBase,\r\n          opts\r\n        );\r\n        for (const key of rawKeys) {\r\n          const fullKey = mount.mountpoint + normalizeKey(key);\r\n          if (!maskedMounts.some((p) => fullKey.startsWith(p))) {\r\n            allKeys.push(fullKey);\r\n          }\r\n        }\r\n        maskedMounts = [\r\n          mount.mountpoint,\r\n          ...maskedMounts.filter((p) => !p.startsWith(mount.mountpoint))\r\n        ];\r\n      }\r\n      const shouldFilterByDepth = opts.maxDepth !== void 0 && !allMountsSupportMaxDepth;\r\n      return allKeys.filter(\r\n        (key) => (!shouldFilterByDepth || filterKeyByDepth(key, opts.maxDepth)) && filterKeyByBase(key, base)\r\n      );\r\n    },\r\n    // Utils\r\n    async clear(base, opts = {}) {\r\n      base = normalizeBaseKey(base);\r\n      await Promise.all(\r\n        getMounts(base, false).map(async (m) => {\r\n          if (m.driver.clear) {\r\n            return asyncCall(m.driver.clear, m.relativeBase, opts);\r\n          }\r\n          if (m.driver.removeItem) {\r\n            const keys = await m.driver.getKeys(m.relativeBase || \"\", opts);\r\n            return Promise.all(\r\n              keys.map((key) => m.driver.removeItem(key, opts))\r\n            );\r\n          }\r\n        })\r\n      );\r\n    },\r\n    async dispose() {\r\n      await Promise.all(\r\n        Object.values(context.mounts).map((driver) => dispose(driver))\r\n      );\r\n    },\r\n    async watch(callback) {\r\n      await startWatch();\r\n      context.watchListeners.push(callback);\r\n      return async () => {\r\n        context.watchListeners = context.watchListeners.filter(\r\n          (listener) => listener !== callback\r\n        );\r\n        if (context.watchListeners.length === 0) {\r\n          await stopWatch();\r\n        }\r\n      };\r\n    },\r\n    async unwatch() {\r\n      context.watchListeners = [];\r\n      await stopWatch();\r\n    },\r\n    // Mount\r\n    mount(base, driver) {\r\n      base = normalizeBaseKey(base);\r\n      if (base && context.mounts[base]) {\r\n        throw new Error(`already mounted at ${base}`);\r\n      }\r\n      if (base) {\r\n        context.mountpoints.push(base);\r\n        context.mountpoints.sort((a, b) => b.length - a.length);\r\n      }\r\n      context.mounts[base] = driver;\r\n      if (context.watching) {\r\n        Promise.resolve(watch(driver, onChange, base)).then((unwatcher) => {\r\n          context.unwatch[base] = unwatcher;\r\n        }).catch(console.error);\r\n      }\r\n      return storage;\r\n    },\r\n    async unmount(base, _dispose = true) {\r\n      base = normalizeBaseKey(base);\r\n      if (!base || !context.mounts[base]) {\r\n        return;\r\n      }\r\n      if (context.watching && base in context.unwatch) {\r\n        context.unwatch[base]?.();\r\n        delete context.unwatch[base];\r\n      }\r\n      if (_dispose) {\r\n        await dispose(context.mounts[base]);\r\n      }\r\n      context.mountpoints = context.mountpoints.filter((key) => key !== base);\r\n      delete context.mounts[base];\r\n    },\r\n    getMount(key = \"\") {\r\n      key = normalizeKey(key) + \":\";\r\n      const m = getMount(key);\r\n      return {\r\n        driver: m.driver,\r\n        base: m.base\r\n      };\r\n    },\r\n    getMounts(base = \"\", opts = {}) {\r\n      base = normalizeKey(base);\r\n      const mounts = getMounts(base, opts.parents);\r\n      return mounts.map((m) => ({\r\n        driver: m.driver,\r\n        base: m.mountpoint\r\n      }));\r\n    },\r\n    // Aliases\r\n    keys: (base, opts = {}) => storage.getKeys(base, opts),\r\n    get: (key, opts = {}) => storage.getItem(key, opts),\r\n    set: (key, value, opts = {}) => storage.setItem(key, value, opts),\r\n    has: (key, opts = {}) => storage.hasItem(key, opts),\r\n    del: (key, opts = {}) => storage.removeItem(key, opts),\r\n    remove: (key, opts = {}) => storage.removeItem(key, opts)\r\n  };\r\n  return storage;\r\n}\r\nasync function snapshot(storage, base) {\r\n  base = normalizeBaseKey(base);\r\n  const keys = await storage.getKeys(base);\r\n  const snapshot2 = {};\r\n  await Promise.all(\r\n    keys.map(async (key) => {\r\n      snapshot2[key.slice(base.length)] = await storage.getItem(key);\r\n    })\r\n  );\r\n  return snapshot2;\r\n}\r\nasync function restoreSnapshot(driver, snapshot2, base = \"\") {\r\n  base = normalizeBaseKey(base);\r\n  await Promise.all(\r\n    Object.entries(snapshot2).map((e) => driver.setItem(base + e[0], e[1]))\r\n  );\r\n}\r\nfunction watch(driver, onChange, base) {\r\n  return driver.watch ? driver.watch((event, key) => onChange(event, base + key)) : () => {\r\n  };\r\n}\r\nasync function dispose(driver) {\r\n  if (typeof driver.dispose === \"function\") {\r\n    await asyncCall(driver.dispose);\r\n  }\r\n}\r\n\r\nconst builtinDrivers = {\r\n  \"azure-app-configuration\": \"unstorage/drivers/azure-app-configuration\",\r\n  \"azureAppConfiguration\": \"unstorage/drivers/azure-app-configuration\",\r\n  \"azure-cosmos\": \"unstorage/drivers/azure-cosmos\",\r\n  \"azureCosmos\": \"unstorage/drivers/azure-cosmos\",\r\n  \"azure-key-vault\": \"unstorage/drivers/azure-key-vault\",\r\n  \"azureKeyVault\": \"unstorage/drivers/azure-key-vault\",\r\n  \"azure-storage-blob\": \"unstorage/drivers/azure-storage-blob\",\r\n  \"azureStorageBlob\": \"unstorage/drivers/azure-storage-blob\",\r\n  \"azure-storage-table\": \"unstorage/drivers/azure-storage-table\",\r\n  \"azureStorageTable\": \"unstorage/drivers/azure-storage-table\",\r\n  \"capacitor-preferences\": \"unstorage/drivers/capacitor-preferences\",\r\n  \"capacitorPreferences\": \"unstorage/drivers/capacitor-preferences\",\r\n  \"cloudflare-kv-binding\": \"unstorage/drivers/cloudflare-kv-binding\",\r\n  \"cloudflareKVBinding\": \"unstorage/drivers/cloudflare-kv-binding\",\r\n  \"cloudflare-kv-http\": \"unstorage/drivers/cloudflare-kv-http\",\r\n  \"cloudflareKVHttp\": \"unstorage/drivers/cloudflare-kv-http\",\r\n  \"cloudflare-r2-binding\": \"unstorage/drivers/cloudflare-r2-binding\",\r\n  \"cloudflareR2Binding\": \"unstorage/drivers/cloudflare-r2-binding\",\r\n  \"db0\": \"unstorage/drivers/db0\",\r\n  \"deno-kv-node\": \"unstorage/drivers/deno-kv-node\",\r\n  \"denoKVNode\": \"unstorage/drivers/deno-kv-node\",\r\n  \"deno-kv\": \"unstorage/drivers/deno-kv\",\r\n  \"denoKV\": \"unstorage/drivers/deno-kv\",\r\n  \"fs-lite\": \"unstorage/drivers/fs-lite\",\r\n  \"fsLite\": \"unstorage/drivers/fs-lite\",\r\n  \"fs\": \"unstorage/drivers/fs\",\r\n  \"github\": \"unstorage/drivers/github\",\r\n  \"http\": \"unstorage/drivers/http\",\r\n  \"indexedb\": \"unstorage/drivers/indexedb\",\r\n  \"localstorage\": \"unstorage/drivers/localstorage\",\r\n  \"lru-cache\": \"unstorage/drivers/lru-cache\",\r\n  \"lruCache\": \"unstorage/drivers/lru-cache\",\r\n  \"memory\": \"unstorage/drivers/memory\",\r\n  \"mongodb\": \"unstorage/drivers/mongodb\",\r\n  \"netlify-blobs\": \"unstorage/drivers/netlify-blobs\",\r\n  \"netlifyBlobs\": \"unstorage/drivers/netlify-blobs\",\r\n  \"null\": \"unstorage/drivers/null\",\r\n  \"overlay\": \"unstorage/drivers/overlay\",\r\n  \"planetscale\": \"unstorage/drivers/planetscale\",\r\n  \"redis\": \"unstorage/drivers/redis\",\r\n  \"s3\": \"unstorage/drivers/s3\",\r\n  \"session-storage\": \"unstorage/drivers/session-storage\",\r\n  \"sessionStorage\": \"unstorage/drivers/session-storage\",\r\n  \"uploadthing\": \"unstorage/drivers/uploadthing\",\r\n  \"upstash\": \"unstorage/drivers/upstash\",\r\n  \"vercel-blob\": \"unstorage/drivers/vercel-blob\",\r\n  \"vercelBlob\": \"unstorage/drivers/vercel-blob\",\r\n  \"vercel-kv\": \"unstorage/drivers/vercel-kv\",\r\n  \"vercelKV\": \"unstorage/drivers/vercel-kv\"\r\n};\r\n\r\nexport { builtinDrivers, createStorage, defineDriver, filterKeyByBase, filterKeyByDepth, joinKeys, normalizeBaseKey, normalizeKey, restoreSnapshot, snapshot };\r\n", "import type { ErrorType } from '../../errors/utils.js'\r\nimport type { SignedAuthorizationList } from '../../experimental/eip7702/types/authorization.js'\r\nimport type { RpcAuthorizationList } from '../../experimental/eip7702/types/rpc.js'\r\nimport type { BlockTag } from '../../types/block.js'\r\nimport type { Chain } from '../../types/chain.js'\r\nimport type {\r\n  ExtractChainFormatterExclude,\r\n  ExtractChainFormatterReturnType,\r\n} from '../../types/chain.js'\r\nimport type { Hex } from '../../types/misc.js'\r\nimport type { RpcTransaction } from '../../types/rpc.js'\r\nimport type { Transaction, TransactionType } from '../../types/transaction.js'\r\nimport type { ExactPartial, UnionLooseOmit } from '../../types/utils.js'\r\nimport { hexToNumber } from '../encoding/fromHex.js'\r\nimport { type DefineFormatterErrorType, defineFormatter } from './formatter.js'\r\n\r\ntype TransactionPendingDependencies =\r\n  | 'blockHash'\r\n  | 'blockNumber'\r\n  | 'transactionIndex'\r\n\r\nexport type FormattedTransaction<\r\n  chain extends Chain | undefined = undefined,\r\n  blockTag extends BlockTag = BlockTag,\r\n  _FormatterReturnType = ExtractChainFormatterReturnType<\r\n    chain,\r\n    'transaction',\r\n    Transaction\r\n  >,\r\n  _ExcludedPendingDependencies extends string = TransactionPendingDependencies &\r\n    ExtractChainFormatterExclude<chain, 'transaction'>,\r\n> = UnionLooseOmit<_FormatterReturnType, TransactionPendingDependencies> & {\r\n  [_K in _ExcludedPendingDependencies]: never\r\n} & Pick<\r\n    Transaction<bigint, number, blockTag extends 'pending' ? true : false>,\r\n    TransactionPendingDependencies\r\n  >\r\n\r\nexport const transactionType = {\r\n  '0x0': 'legacy',\r\n  '0x1': 'eip2930',\r\n  '0x2': 'eip1559',\r\n  '0x3': 'eip4844',\r\n  '0x4': 'eip7702',\r\n} as const satisfies Record<Hex, TransactionType>\r\n\r\nexport type FormatTransactionErrorType = ErrorType\r\n\r\nexport function formatTransaction(transaction: ExactPartial<RpcTransaction>) {\r\n  const transaction_ = {\r\n    ...transaction,\r\n    blockHash: transaction.blockHash ? transaction.blockHash : null,\r\n    blockNumber: transaction.blockNumber\r\n      ? BigInt(transaction.blockNumber)\r\n      : null,\r\n    chainId: transaction.chainId ? hexToNumber(transaction.chainId) : undefined,\r\n    gas: transaction.gas ? BigInt(transaction.gas) : undefined,\r\n    gasPrice: transaction.gasPrice ? BigInt(transaction.gasPrice) : undefined,\r\n    maxFeePerBlobGas: transaction.maxFeePerBlobGas\r\n      ? BigInt(transaction.maxFeePerBlobGas)\r\n      : undefined,\r\n    maxFeePerGas: transaction.maxFeePerGas\r\n      ? BigInt(transaction.maxFeePerGas)\r\n      : undefined,\r\n    maxPriorityFeePerGas: transaction.maxPriorityFeePerGas\r\n      ? BigInt(transaction.maxPriorityFeePerGas)\r\n      : undefined,\r\n    nonce: transaction.nonce ? hexToNumber(transaction.nonce) : undefined,\r\n    to: transaction.to ? transaction.to : null,\r\n    transactionIndex: transaction.transactionIndex\r\n      ? Number(transaction.transactionIndex)\r\n      : null,\r\n    type: transaction.type\r\n      ? (transactionType as any)[transaction.type]\r\n      : undefined,\r\n    typeHex: transaction.type ? transaction.type : undefined,\r\n    value: transaction.value ? BigInt(transaction.value) : undefined,\r\n    v: transaction.v ? BigInt(transaction.v) : undefined,\r\n  } as Transaction\r\n\r\n  if (transaction.authorizationList)\r\n    transaction_.authorizationList = formatAuthorizationList(\r\n      transaction.authorizationList,\r\n    )\r\n\r\n  transaction_.yParity = (() => {\r\n    // If `yParity` is provided, we will use it.\r\n    if (transaction.yParity) return Number(transaction.yParity)\r\n\r\n    // If no `yParity` provided, try derive from `v`.\r\n    if (typeof transaction_.v === 'bigint') {\r\n      if (transaction_.v === 0n || transaction_.v === 27n) return 0\r\n      if (transaction_.v === 1n || transaction_.v === 28n) return 1\r\n      if (transaction_.v >= 35n) return transaction_.v % 2n === 0n ? 1 : 0\r\n    }\r\n\r\n    return undefined\r\n  })()\r\n\r\n  if (transaction_.type === 'legacy') {\r\n    delete transaction_.accessList\r\n    delete transaction_.maxFeePerBlobGas\r\n    delete transaction_.maxFeePerGas\r\n    delete transaction_.maxPriorityFeePerGas\r\n    delete transaction_.yParity\r\n  }\r\n  if (transaction_.type === 'eip2930') {\r\n    delete transaction_.maxFeePerBlobGas\r\n    delete transaction_.maxFeePerGas\r\n    delete transaction_.maxPriorityFeePerGas\r\n  }\r\n  if (transaction_.type === 'eip1559') {\r\n    delete transaction_.maxFeePerBlobGas\r\n  }\r\n  return transaction_\r\n}\r\n\r\nexport type DefineTransactionErrorType = DefineFormatterErrorType | ErrorType\r\n\r\nexport const defineTransaction = /*#__PURE__*/ defineFormatter(\r\n  'transaction',\r\n  formatTransaction,\r\n)\r\n\r\n//////////////////////////////////////////////////////////////////////////////\r\n\r\nfunction formatAuthorizationList(\r\n  authorizationList: RpcAuthorizationList,\r\n): SignedAuthorizationList {\r\n  return authorizationList.map((authorization) => ({\r\n    contractAddress: (authorization as any).address,\r\n    chainId: Number(authorization.chainId),\r\n    nonce: Number(authorization.nonce),\r\n    r: authorization.r,\r\n    s: authorization.s,\r\n    yParity: Number(authorization.yParity),\r\n  })) as SignedAuthorizationList\r\n}\r\n", "import type { ErrorType } from '../../errors/utils.js'\r\nimport type { Block, BlockTag } from '../../types/block.js'\r\nimport type { Chain } from '../../types/chain.js'\r\nimport type {\r\n  ExtractChainFormatterExclude,\r\n  ExtractChainFormatterReturnType,\r\n} from '../../types/chain.js'\r\nimport type { Hash } from '../../types/misc.js'\r\nimport type { RpcBlock } from '../../types/rpc.js'\r\nimport type { ExactPartial, Prettify } from '../../types/utils.js'\r\n\r\nimport { type DefineFormatterErrorType, defineFormatter } from './formatter.js'\r\nimport { type FormattedTransaction, formatTransaction } from './transaction.js'\r\n\r\ntype BlockPendingDependencies = 'hash' | 'logsBloom' | 'nonce' | 'number'\r\n\r\nexport type FormattedBlock<\r\n  chain extends Chain | undefined = undefined,\r\n  includeTransactions extends boolean = boolean,\r\n  blockTag extends BlockTag = BlockTag,\r\n  _FormatterReturnType = ExtractChainFormatterReturnType<\r\n    chain,\r\n    'block',\r\n    Block<bigint, includeTransactions>\r\n  >,\r\n  _ExcludedPendingDependencies extends string = BlockPendingDependencies &\r\n    ExtractChainFormatterExclude<chain, 'block'>,\r\n  _Formatted = Omit<_FormatterReturnType, BlockPendingDependencies> & {\r\n    [_key in _ExcludedPendingDependencies]: never\r\n  } & Pick<\r\n      Block<bigint, includeTransactions, blockTag>,\r\n      BlockPendingDependencies\r\n    >,\r\n  _Transactions = includeTransactions extends true\r\n    ? Prettify<FormattedTransaction<chain, blockTag>>[]\r\n    : Hash[],\r\n> = Omit<_Formatted, 'transactions'> & {\r\n  transactions: _Transactions\r\n}\r\n\r\nexport type FormatBlockErrorType = ErrorType\r\n\r\nexport function formatBlock(block: ExactPartial<RpcBlock>) {\r\n  const transactions = (block.transactions ?? []).map((transaction) => {\r\n    if (typeof transaction === 'string') return transaction\r\n    return formatTransaction(transaction)\r\n  })\r\n  return {\r\n    ...block,\r\n    baseFeePerGas: block.baseFeePerGas ? BigInt(block.baseFeePerGas) : null,\r\n    blobGasUsed: block.blobGasUsed ? BigInt(block.blobGasUsed) : undefined,\r\n    difficulty: block.difficulty ? BigInt(block.difficulty) : undefined,\r\n    excessBlobGas: block.excessBlobGas\r\n      ? BigInt(block.excessBlobGas)\r\n      : undefined,\r\n    gasLimit: block.gasLimit ? BigInt(block.gasLimit) : undefined,\r\n    gasUsed: block.gasUsed ? BigInt(block.gasUsed) : undefined,\r\n    hash: block.hash ? block.hash : null,\r\n    logsBloom: block.logsBloom ? block.logsBloom : null,\r\n    nonce: block.nonce ? block.nonce : null,\r\n    number: block.number ? BigInt(block.number) : null,\r\n    size: block.size ? BigInt(block.size) : undefined,\r\n    timestamp: block.timestamp ? BigInt(block.timestamp) : undefined,\r\n    transactions,\r\n    totalDifficulty: block.totalDifficulty\r\n      ? BigInt(block.totalDifficulty)\r\n      : null,\r\n  } as Block\r\n}\r\n\r\nexport type DefineBlockErrorType = DefineFormatterErrorType | ErrorType\r\n\r\nexport const defineBlock = /*#__PURE__*/ defineFormatter('block', formatBlock)\r\n", "import type { Address } from 'abitype'\r\n\r\nimport type { Account } from '../../accounts/types.js'\r\nimport type { Client } from '../../clients/createClient.js'\r\nimport type { Transport } from '../../clients/transports/createTransport.js'\r\nimport type { ErrorType } from '../../errors/utils.js'\r\nimport type { BlockTag } from '../../types/block.js'\r\nimport type { Chain } from '../../types/chain.js'\r\nimport type { RequestErrorType } from '../../utils/buildRequest.js'\r\nimport {\r\n  type HexToNumberErrorType,\r\n  hexToNumber,\r\n} from '../../utils/encoding/fromHex.js'\r\nimport {\r\n  type NumberToHexErrorType,\r\n  numberToHex,\r\n} from '../../utils/encoding/toHex.js'\r\n\r\nexport type GetTransactionCountParameters = {\r\n  /** The account address. */\r\n  address: Address\r\n} & (\r\n  | {\r\n      /** The block number. */\r\n      blockNumber?: bigint | undefined\r\n      blockTag?: undefined\r\n    }\r\n  | {\r\n      blockNumber?: undefined\r\n      /** The block tag. Defaults to 'latest'. */\r\n      blockTag?: BlockTag | undefined\r\n    }\r\n)\r\nexport type GetTransactionCountReturnType = number\r\n\r\nexport type GetTransactionCountErrorType =\r\n  | RequestErrorType\r\n  | NumberToHexErrorType\r\n  | HexToNumberErrorType\r\n  | ErrorType\r\n\r\n/**\r\n * Returns the number of [Transactions](https://viem.sh/docs/glossary/terms#transaction) an Account has sent.\r\n *\r\n * - Docs: https://viem.sh/docs/actions/public/getTransactionCount\r\n * - JSON-RPC Methods: [`eth_getTransactionCount`](https://ethereum.org/en/developers/docs/apis/json-rpc/#eth_gettransactioncount)\r\n *\r\n * @param client - Client to use\r\n * @param parameters - {@link GetTransactionCountParameters}\r\n * @returns The number of transactions an account has sent. {@link GetTransactionCountReturnType}\r\n *\r\n * @example\r\n * import { createPublicClient, http } from 'viem'\r\n * import { mainnet } from 'viem/chains'\r\n * import { getTransactionCount } from 'viem/public'\r\n *\r\n * const client = createPublicClient({\r\n *   chain: mainnet,\r\n *   transport: http(),\r\n * })\r\n * const transactionCount = await getTransactionCount(client, {\r\n *   address: '0xA0Cf798816D4b9b9866b5330EEa46a18382f251e',\r\n * })\r\n */\r\nexport async function getTransactionCount<\r\n  chain extends Chain | undefined,\r\n  account extends Account | undefined,\r\n>(\r\n  client: Client<Transport, chain, account>,\r\n  { address, blockTag = 'latest', blockNumber }: GetTransactionCountParameters,\r\n): Promise<GetTransactionCountReturnType> {\r\n  const count = await client.request(\r\n    {\r\n      method: 'eth_getTransactionCount',\r\n      params: [address, blockNumber ? numberToHex(blockNumber) : blockTag],\r\n    },\r\n    { dedupe: Boolean(blockNumber) },\r\n  )\r\n  return hexToNumber(count)\r\n}\r\n", "// https://github.com/ethereum/EIPs/blob/master/EIPS/eip-4844.md#parameters\r\n\r\n/** Blob limit per transaction. */\r\nconst blobsPerTransaction = 6\r\n\r\n/** The number of bytes in a BLS scalar field element. */\r\nexport const bytesPerFieldElement = 32\r\n\r\n/** The number of field elements in a blob. */\r\nexport const fieldElementsPerBlob = 4096\r\n\r\n/** The number of bytes in a blob. */\r\nexport const bytesPerBlob = bytesPerFieldElement * fieldElementsPerBlob\r\n\r\n/** Blob bytes limit per transaction. */\r\nexport const maxBytesPerTransaction =\r\n  bytesPerBlob * blobsPerTransaction -\r\n  // terminator byte (0x80).\r\n  1 -\r\n  // zero byte (0x00) appended to each field element.\r\n  1 * fieldElementsPerBlob * blobsPerTransaction\r\n", "import type { ErrorType } from '../../errors/utils.js'\r\nimport type { Log } from '../../types/log.js'\r\nimport type { RpcLog } from '../../types/rpc.js'\r\nimport type { ExactPartial } from '../../types/utils.js'\r\n\r\nexport type FormatLogErrorType = ErrorType\r\n\r\nexport function formatLog(\r\n  log: ExactPartial<RpcLog>,\r\n  {\r\n    args,\r\n    eventName,\r\n  }: { args?: unknown | undefined; eventName?: string | undefined } = {},\r\n) {\r\n  return {\r\n    ...log,\r\n    blockHash: log.blockHash ? log.blockHash : null,\r\n    blockNumber: log.blockNumber ? BigInt(log.blockNumber) : null,\r\n    logIndex: log.logIndex ? Number(log.logIndex) : null,\r\n    transactionHash: log.transactionHash ? log.transactionHash : null,\r\n    transactionIndex: log.transactionIndex\r\n      ? Number(log.transactionIndex)\r\n      : null,\r\n    ...(eventName ? { args, eventName } : {}),\r\n  } as Log\r\n}\r\n", "import type { Address } from 'abitype'\r\n\r\nimport type { Account } from '../../accounts/types.js'\r\nimport {\r\n  type ParseAccountErrorType,\r\n  parseAccount,\r\n} from '../../accounts/utils/parseAccount.js'\r\nimport type { SignTransactionErrorType } from '../../accounts/utils/signTransaction.js'\r\nimport type { Client } from '../../clients/createClient.js'\r\nimport type { Transport } from '../../clients/transports/createTransport.js'\r\nimport {\r\n  AccountNotFoundError,\r\n  type AccountNotFoundErrorType,\r\n  AccountTypeNotSupportedError,\r\n  type AccountTypeNotSupportedErrorType,\r\n} from '../../errors/account.js'\r\nimport { BaseError } from '../../errors/base.js'\r\nimport type { ErrorType } from '../../errors/utils.js'\r\nimport {\r\n  type RecoverAuthorizationAddressErrorType,\r\n  recoverAuthorizationAddress,\r\n} from '../../experimental/eip7702/utils/recoverAuthorizationAddress.js'\r\nimport type { GetAccountParameter } from '../../types/account.js'\r\nimport type { Chain, DeriveChain } from '../../types/chain.js'\r\nimport type { GetChainParameter } from '../../types/chain.js'\r\nimport type { GetTransactionRequestKzgParameter } from '../../types/kzg.js'\r\nimport type { Hash } from '../../types/misc.js'\r\nimport type { TransactionRequest } from '../../types/transaction.js'\r\nimport type { UnionOmit } from '../../types/utils.js'\r\nimport type { RequestErrorType } from '../../utils/buildRequest.js'\r\nimport {\r\n  type AssertCurrentChainErrorType,\r\n  assertCurrentChain,\r\n} from '../../utils/chain/assertCurrentChain.js'\r\nimport {\r\n  type GetTransactionErrorReturnType,\r\n  getTransactionError,\r\n} from '../../utils/errors/getTransactionError.js'\r\nimport { extract } from '../../utils/formatters/extract.js'\r\nimport {\r\n  type FormattedTransactionRequest,\r\n  formatTransactionRequest,\r\n} from '../../utils/formatters/transactionRequest.js'\r\nimport { getAction } from '../../utils/getAction.js'\r\nimport { LruMap } from '../../utils/lru.js'\r\nimport {\r\n  type AssertRequestErrorType,\r\n  type AssertRequestParameters,\r\n  assertRequest,\r\n} from '../../utils/transaction/assertRequest.js'\r\nimport { type GetChainIdErrorType, getChainId } from '../public/getChainId.js'\r\nimport {\r\n  type PrepareTransactionRequestErrorType,\r\n  defaultParameters,\r\n  prepareTransactionRequest,\r\n} from './prepareTransactionRequest.js'\r\nimport {\r\n  type SendRawTransactionErrorType,\r\n  sendRawTransaction,\r\n} from './sendRawTransaction.js'\r\n\r\nconst supportsWalletNamespace = new LruMap<boolean>(128)\r\n\r\nexport type SendTransactionRequest<\r\n  chain extends Chain | undefined = Chain | undefined,\r\n  chainOverride extends Chain | undefined = Chain | undefined,\r\n  ///\r\n  _derivedChain extends Chain | undefined = DeriveChain<chain, chainOverride>,\r\n> = UnionOmit<FormattedTransactionRequest<_derivedChain>, 'from'> &\r\n  GetTransactionRequestKzgParameter\r\n\r\nexport type SendTransactionParameters<\r\n  chain extends Chain | undefined = Chain | undefined,\r\n  account extends Account | undefined = Account | undefined,\r\n  chainOverride extends Chain | undefined = Chain | undefined,\r\n  request extends SendTransactionRequest<\r\n    chain,\r\n    chainOverride\r\n  > = SendTransactionRequest<chain, chainOverride>,\r\n> = request &\r\n  GetAccountParameter<account, Account | Address, true, true> &\r\n  GetChainParameter<chain, chainOverride> &\r\n  GetTransactionRequestKzgParameter<request>\r\n\r\nexport type SendTransactionReturnType = Hash\r\n\r\nexport type SendTransactionErrorType =\r\n  | ParseAccountErrorType\r\n  | GetTransactionErrorReturnType<\r\n      | AccountNotFoundErrorType\r\n      | AccountTypeNotSupportedErrorType\r\n      | AssertCurrentChainErrorType\r\n      | AssertRequestErrorType\r\n      | GetChainIdErrorType\r\n      | PrepareTransactionRequestErrorType\r\n      | SendRawTransactionErrorType\r\n      | RecoverAuthorizationAddressErrorType\r\n      | SignTransactionErrorType\r\n      | RequestErrorType\r\n    >\r\n  | ErrorType\r\n\r\n/**\r\n * Creates, signs, and sends a new transaction to the network.\r\n *\r\n * - Docs: https://viem.sh/docs/actions/wallet/sendTransaction\r\n * - Examples: https://stackblitz.com/github/wevm/viem/tree/main/examples/transactions_sending-transactions\r\n * - JSON-RPC Methods:\r\n *   - JSON-RPC Accounts: [`eth_sendTransaction`](https://ethereum.org/en/developers/docs/apis/json-rpc/#eth_sendtransaction)\r\n *   - Local Accounts: [`eth_sendRawTransaction`](https://ethereum.org/en/developers/docs/apis/json-rpc/#eth_sendrawtransaction)\r\n *\r\n * @param client - Client to use\r\n * @param parameters - {@link SendTransactionParameters}\r\n * @returns The [Transaction](https://viem.sh/docs/glossary/terms#transaction) hash. {@link SendTransactionReturnType}\r\n *\r\n * @example\r\n * import { createWalletClient, custom } from 'viem'\r\n * import { mainnet } from 'viem/chains'\r\n * import { sendTransaction } from 'viem/wallet'\r\n *\r\n * const client = createWalletClient({\r\n *   chain: mainnet,\r\n *   transport: custom(window.ethereum),\r\n * })\r\n * const hash = await sendTransaction(client, {\r\n *   account: '0xA0Cf798816D4b9b9866b5330EEa46a18382f251e',\r\n *   to: '0x70997970c51812dc3a010c7d01b50e0d17dc79c8',\r\n *   value: 1000000000000000000n,\r\n * })\r\n *\r\n * @example\r\n * // Account Hoisting\r\n * import { createWalletClient, http } from 'viem'\r\n * import { privateKeyToAccount } from 'viem/accounts'\r\n * import { mainnet } from 'viem/chains'\r\n * import { sendTransaction } from 'viem/wallet'\r\n *\r\n * const client = createWalletClient({\r\n *   account: privateKeyToAccount('0x…'),\r\n *   chain: mainnet,\r\n *   transport: http(),\r\n * })\r\n * const hash = await sendTransaction(client, {\r\n *   to: '0x70997970c51812dc3a010c7d01b50e0d17dc79c8',\r\n *   value: 1000000000000000000n,\r\n * })\r\n */\r\nexport async function sendTransaction<\r\n  chain extends Chain | undefined,\r\n  account extends Account | undefined,\r\n  const request extends SendTransactionRequest<chain, chainOverride>,\r\n  chainOverride extends Chain | undefined = undefined,\r\n>(\r\n  client: Client<Transport, chain, account>,\r\n  parameters: SendTransactionParameters<chain, account, chainOverride, request>,\r\n): Promise<SendTransactionReturnType> {\r\n  const {\r\n    account: account_ = client.account,\r\n    chain = client.chain,\r\n    accessList,\r\n    authorizationList,\r\n    blobs,\r\n    data,\r\n    gas,\r\n    gasPrice,\r\n    maxFeePerBlobGas,\r\n    maxFeePerGas,\r\n    maxPriorityFeePerGas,\r\n    nonce,\r\n    value,\r\n    ...rest\r\n  } = parameters\r\n\r\n  if (typeof account_ === 'undefined')\r\n    throw new AccountNotFoundError({\r\n      docsPath: '/docs/actions/wallet/sendTransaction',\r\n    })\r\n  const account = account_ ? parseAccount(account_) : null\r\n\r\n  try {\r\n    assertRequest(parameters as AssertRequestParameters)\r\n\r\n    const to = await (async () => {\r\n      // If `to` exists on the parameters, use that.\r\n      if (parameters.to) return parameters.to\r\n\r\n      // If no `to` exists, and we are sending a EIP-7702 transaction, use the\r\n      // address of the first authorization in the list.\r\n      if (authorizationList && authorizationList.length > 0)\r\n        return await recoverAuthorizationAddress({\r\n          authorization: authorizationList[0],\r\n        }).catch(() => {\r\n          throw new BaseError(\r\n            '`to` is required. Could not infer from `authorizationList`.',\r\n          )\r\n        })\r\n\r\n      // Otherwise, we are sending a deployment transaction.\r\n      return undefined\r\n    })()\r\n\r\n    if (account?.type === 'json-rpc' || account === null) {\r\n      let chainId: number | undefined\r\n      if (chain !== null) {\r\n        chainId = await getAction(client, getChainId, 'getChainId')({})\r\n        assertCurrentChain({\r\n          currentChainId: chainId,\r\n          chain,\r\n        })\r\n      }\r\n\r\n      const chainFormat = client.chain?.formatters?.transactionRequest?.format\r\n      const format = chainFormat || formatTransactionRequest\r\n\r\n      const request = format({\r\n        // Pick out extra data that might exist on the chain's transaction request type.\r\n        ...extract(rest, { format: chainFormat }),\r\n        accessList,\r\n        authorizationList,\r\n        blobs,\r\n        chainId,\r\n        data,\r\n        from: account?.address,\r\n        gas,\r\n        gasPrice,\r\n        maxFeePerBlobGas,\r\n        maxFeePerGas,\r\n        maxPriorityFeePerGas,\r\n        nonce,\r\n        to,\r\n        value,\r\n      } as TransactionRequest)\r\n\r\n      const isWalletNamespaceSupported = supportsWalletNamespace.get(client.uid)\r\n      const method = isWalletNamespaceSupported\r\n        ? 'wallet_sendTransaction'\r\n        : 'eth_sendTransaction'\r\n\r\n      try {\r\n        return await client.request(\r\n          {\r\n            method,\r\n            params: [request],\r\n          },\r\n          { retryCount: 0 },\r\n        )\r\n      } catch (e) {\r\n        if (isWalletNamespaceSupported === false) throw e\r\n\r\n        const error = e as BaseError\r\n        // If the transport does not support the method or input, attempt to use the\r\n        // `wallet_sendTransaction` method.\r\n        if (\r\n          error.name === 'InvalidInputRpcError' ||\r\n          error.name === 'InvalidParamsRpcError' ||\r\n          error.name === 'MethodNotFoundRpcError' ||\r\n          error.name === 'MethodNotSupportedRpcError'\r\n        ) {\r\n          return await client\r\n            .request(\r\n              {\r\n                method: 'wallet_sendTransaction',\r\n                params: [request],\r\n              },\r\n              { retryCount: 0 },\r\n            )\r\n            .then((hash) => {\r\n              supportsWalletNamespace.set(client.uid, true)\r\n              return hash\r\n            })\r\n            .catch((e) => {\r\n              const walletNamespaceError = e as BaseError\r\n              if (\r\n                walletNamespaceError.name === 'MethodNotFoundRpcError' ||\r\n                walletNamespaceError.name === 'MethodNotSupportedRpcError'\r\n              ) {\r\n                supportsWalletNamespace.set(client.uid, false)\r\n                throw error\r\n              }\r\n\r\n              throw walletNamespaceError\r\n            })\r\n        }\r\n\r\n        throw error\r\n      }\r\n    }\r\n\r\n    if (account?.type === 'local') {\r\n      // Prepare the request for signing (assign appropriate fees, etc.)\r\n      const request = await getAction(\r\n        client,\r\n        prepareTransactionRequest,\r\n        'prepareTransactionRequest',\r\n      )({\r\n        account,\r\n        accessList,\r\n        authorizationList,\r\n        blobs,\r\n        chain,\r\n        data,\r\n        gas,\r\n        gasPrice,\r\n        maxFeePerBlobGas,\r\n        maxFeePerGas,\r\n        maxPriorityFeePerGas,\r\n        nonce,\r\n        nonceManager: account.nonceManager,\r\n        parameters: [...defaultParameters, 'sidecars'],\r\n        value,\r\n        ...rest,\r\n        to,\r\n      } as any)\r\n\r\n      const serializer = chain?.serializers?.transaction\r\n      const serializedTransaction = (await account.signTransaction(request, {\r\n        serializer,\r\n      })) as Hash\r\n      return await getAction(\r\n        client,\r\n        sendRawTransaction,\r\n        'sendRawTransaction',\r\n      )({\r\n        serializedTransaction,\r\n      })\r\n    }\r\n\r\n    if (account?.type === 'smart')\r\n      throw new AccountTypeNotSupportedError({\r\n        metaMessages: [\r\n          'Consider using the `sendUserOperation` Action instead.',\r\n        ],\r\n        docsPath: '/docs/actions/bundler/sendUserOperation',\r\n        type: 'smart',\r\n      })\r\n\r\n    throw new AccountTypeNotSupportedError({\r\n      docsPath: '/docs/actions/wallet/sendTransaction',\r\n      type: (account as any)?.type,\r\n    })\r\n  } catch (err) {\r\n    if (err instanceof AccountTypeNotSupportedError) throw err\r\n    throw getTransactionError(err as BaseError, {\r\n      ...parameters,\r\n      account,\r\n      chain: parameters.chain || undefined,\r\n    })\r\n  }\r\n}\r\n", "import { LruMap } from '../lru.js'\r\n\r\n/** @internal */\r\nexport const promiseCache = /*#__PURE__*/ new LruMap<Promise<any>>(8192)\r\n\r\ntype WithDedupeOptions = {\r\n  enabled?: boolean | undefined\r\n  id?: string | undefined\r\n}\r\n\r\n/** Deduplicates in-flight promises. */\r\nexport function withDedupe<data>(\r\n  fn: () => Promise<data>,\r\n  { enabled = true, id }: WithDedupeOptions,\r\n): Promise<data> {\r\n  if (!enabled || !id) return fn()\r\n  if (promiseCache.get(id)) return promiseCache.get(id)!\r\n  const promise = fn().finally(() => promiseCache.delete(id))\r\n  promiseCache.set(id, promise)\r\n  return promise\r\n}\r\n", "function createIdStore() {\r\n  return {\r\n    current: 0,\r\n    take() {\r\n      return this.current++\r\n    },\r\n    reset() {\r\n      this.current = 0\r\n    },\r\n  }\r\n}\r\n\r\nexport const idCache = /*#__PURE__*/ createIdStore()\r\n", "import type { ErrorType } from '../../errors/utils.js'\r\nimport type {\r\n  Chain,\r\n  ExtractChainFormatterReturnType,\r\n} from '../../types/chain.js'\r\nimport type { RpcTransactionReceipt } from '../../types/rpc.js'\r\nimport type { TransactionReceipt } from '../../types/transaction.js'\r\nimport type { ExactPartial } from '../../types/utils.js'\r\nimport { hexToNumber } from '../encoding/fromHex.js'\r\n\r\nimport { type DefineFormatterErrorType, defineFormatter } from './formatter.js'\r\nimport { formatLog } from './log.js'\r\nimport { transactionType } from './transaction.js'\r\n\r\nexport type FormattedTransactionReceipt<\r\n  chain extends Chain | undefined = undefined,\r\n> = ExtractChainFormatterReturnType<\r\n  chain,\r\n  'transactionReceipt',\r\n  TransactionReceipt\r\n>\r\n\r\nexport const receiptStatuses = {\r\n  '0x0': 'reverted',\r\n  '0x1': 'success',\r\n} as const\r\n\r\nexport type FormatTransactionReceiptErrorType = ErrorType\r\n\r\nexport function formatTransactionReceipt(\r\n  transactionReceipt: ExactPartial<RpcTransactionReceipt>,\r\n) {\r\n  const receipt = {\r\n    ...transactionReceipt,\r\n    blockNumber: transactionReceipt.blockNumber\r\n      ? BigInt(transactionReceipt.blockNumber)\r\n      : null,\r\n    contractAddress: transactionReceipt.contractAddress\r\n      ? transactionReceipt.contractAddress\r\n      : null,\r\n    cumulativeGasUsed: transactionReceipt.cumulativeGasUsed\r\n      ? BigInt(transactionReceipt.cumulativeGasUsed)\r\n      : null,\r\n    effectiveGasPrice: transactionReceipt.effectiveGasPrice\r\n      ? BigInt(transactionReceipt.effectiveGasPrice)\r\n      : null,\r\n    gasUsed: transactionReceipt.gasUsed\r\n      ? BigInt(transactionReceipt.gasUsed)\r\n      : null,\r\n    logs: transactionReceipt.logs\r\n      ? transactionReceipt.logs.map((log) => formatLog(log))\r\n      : null,\r\n    to: transactionReceipt.to ? transactionReceipt.to : null,\r\n    transactionIndex: transactionReceipt.transactionIndex\r\n      ? hexToNumber(transactionReceipt.transactionIndex)\r\n      : null,\r\n    status: transactionReceipt.status\r\n      ? receiptStatuses[transactionReceipt.status]\r\n      : null,\r\n    type: transactionReceipt.type\r\n      ? transactionType[\r\n          transactionReceipt.type as keyof typeof transactionType\r\n        ] || transactionReceipt.type\r\n      : null,\r\n  } as TransactionReceipt\r\n\r\n  if (transactionReceipt.blobGasPrice)\r\n    receipt.blobGasPrice = BigInt(transactionReceipt.blobGasPrice)\r\n  if (transactionReceipt.blobGasUsed)\r\n    receipt.blobGasUsed = BigInt(transactionReceipt.blobGasUsed)\r\n\r\n  return receipt\r\n}\r\n\r\nexport type DefineTransactionReceiptErrorType =\r\n  | DefineFormatterErrorType\r\n  | ErrorType\r\n\r\nexport const defineTransactionReceipt = /*#__PURE__*/ defineFormatter(\r\n  'transactionReceipt',\r\n  formatTransactionReceipt,\r\n)\r\n", "/**\r\n * RIPEMD-160 legacy hash function.\r\n * https://homes.esat.kuleuven.be/~bosselae/ripemd160.html\r\n * https://homes.esat.kuleuven.be/~bosselae/ripemd160/pdf/AB-9601/AB-9601.pdf\r\n * @module\r\n */\r\nimport { HashMD } from './_md.js';\r\nimport { rotl, wrapConstructor, type CHash } from './utils.js';\r\n\r\nconst Rho = /* @__PURE__ */ new Uint8Array([7, 4, 13, 1, 10, 6, 15, 3, 12, 0, 9, 5, 2, 14, 11, 8]);\r\nconst Id = /* @__PURE__ */ new Uint8Array(new Array(16).fill(0).map((_, i) => i));\r\nconst Pi = /* @__PURE__ */ Id.map((i) => (9 * i + 5) % 16);\r\nlet idxL = [Id];\r\nlet idxR = [Pi];\r\nfor (let i = 0; i < 4; i++) for (let j of [idxL, idxR]) j.push(j[i].map((k) => Rho[k]));\r\n\r\nconst shifts = /* @__PURE__ */ [\r\n  [11, 14, 15, 12, 5, 8, 7, 9, 11, 13, 14, 15, 6, 7, 9, 8],\r\n  [12, 13, 11, 15, 6, 9, 9, 7, 12, 15, 11, 13, 7, 8, 7, 7],\r\n  [13, 15, 14, 11, 7, 7, 6, 8, 13, 14, 13, 12, 5, 5, 6, 9],\r\n  [14, 11, 12, 14, 8, 6, 5, 5, 15, 12, 15, 14, 9, 9, 8, 6],\r\n  [15, 12, 13, 13, 9, 5, 8, 6, 14, 11, 12, 11, 8, 6, 5, 5],\r\n].map((i) => new Uint8Array(i));\r\nconst shiftsL = /* @__PURE__ */ idxL.map((idx, i) => idx.map((j) => shifts[i][j]));\r\nconst shiftsR = /* @__PURE__ */ idxR.map((idx, i) => idx.map((j) => shifts[i][j]));\r\nconst Kl = /* @__PURE__ */ new Uint32Array([\r\n  0x00000000, 0x5a827999, 0x6ed9eba1, 0x8f1bbcdc, 0xa953fd4e,\r\n]);\r\nconst Kr = /* @__PURE__ */ new Uint32Array([\r\n  0x50a28be6, 0x5c4dd124, 0x6d703ef3, 0x7a6d76e9, 0x00000000,\r\n]);\r\n// It's called f() in spec.\r\nfunction f(group: number, x: number, y: number, z: number): number {\r\n  if (group === 0) return x ^ y ^ z;\r\n  else if (group === 1) return (x & y) | (~x & z);\r\n  else if (group === 2) return (x | ~y) ^ z;\r\n  else if (group === 3) return (x & z) | (y & ~z);\r\n  else return x ^ (y | ~z);\r\n}\r\n// Temporary buffer, not used to store anything between runs\r\nconst R_BUF = /* @__PURE__ */ new Uint32Array(16);\r\nexport class RIPEMD160 extends HashMD<RIPEMD160> {\r\n  private h0 = 0x67452301 | 0;\r\n  private h1 = 0xefcdab89 | 0;\r\n  private h2 = 0x98badcfe | 0;\r\n  private h3 = 0x10325476 | 0;\r\n  private h4 = 0xc3d2e1f0 | 0;\r\n\r\n  constructor() {\r\n    super(64, 20, 8, true);\r\n  }\r\n  protected get(): [number, number, number, number, number] {\r\n    const { h0, h1, h2, h3, h4 } = this;\r\n    return [h0, h1, h2, h3, h4];\r\n  }\r\n  protected set(h0: number, h1: number, h2: number, h3: number, h4: number): void {\r\n    this.h0 = h0 | 0;\r\n    this.h1 = h1 | 0;\r\n    this.h2 = h2 | 0;\r\n    this.h3 = h3 | 0;\r\n    this.h4 = h4 | 0;\r\n  }\r\n  protected process(view: DataView, offset: number): void {\r\n    for (let i = 0; i < 16; i++, offset += 4) R_BUF[i] = view.getUint32(offset, true);\r\n    // prettier-ignore\r\n    let al = this.h0 | 0, ar = al,\r\n        bl = this.h1 | 0, br = bl,\r\n        cl = this.h2 | 0, cr = cl,\r\n        dl = this.h3 | 0, dr = dl,\r\n        el = this.h4 | 0, er = el;\r\n\r\n    // Instead of iterating 0 to 80, we split it into 5 groups\r\n    // And use the groups in constants, functions, etc. Much simpler\r\n    for (let group = 0; group < 5; group++) {\r\n      const rGroup = 4 - group;\r\n      const hbl = Kl[group], hbr = Kr[group]; // prettier-ignore\r\n      const rl = idxL[group], rr = idxR[group]; // prettier-ignore\r\n      const sl = shiftsL[group], sr = shiftsR[group]; // prettier-ignore\r\n      for (let i = 0; i < 16; i++) {\r\n        const tl = (rotl(al + f(group, bl, cl, dl) + R_BUF[rl[i]] + hbl, sl[i]) + el) | 0;\r\n        al = el, el = dl, dl = rotl(cl, 10) | 0, cl = bl, bl = tl; // prettier-ignore\r\n      }\r\n      // 2 loops are 10% faster\r\n      for (let i = 0; i < 16; i++) {\r\n        const tr = (rotl(ar + f(rGroup, br, cr, dr) + R_BUF[rr[i]] + hbr, sr[i]) + er) | 0;\r\n        ar = er, er = dr, dr = rotl(cr, 10) | 0, cr = br, br = tr; // prettier-ignore\r\n      }\r\n    }\r\n    // Add the compressed chunk to the current hash value\r\n    this.set(\r\n      (this.h1 + cl + dr) | 0,\r\n      (this.h2 + dl + er) | 0,\r\n      (this.h3 + el + ar) | 0,\r\n      (this.h4 + al + br) | 0,\r\n      (this.h0 + bl + cr) | 0\r\n    );\r\n  }\r\n  protected roundClean(): void {\r\n    R_BUF.fill(0);\r\n  }\r\n  destroy(): void {\r\n    this.destroyed = true;\r\n    this.buffer.fill(0);\r\n    this.set(0, 0, 0, 0, 0);\r\n  }\r\n}\r\n\r\n/** RIPEMD-160 - a legacy hash function from 1990s. */\r\nexport const ripemd160: CHash = /* @__PURE__ */ wrapConstructor(() => new RIPEMD160());\r\n", "import type { Address } from 'abitype'\r\n\r\nimport { getTransactionCount } from '../actions/public/getTransactionCount.js'\r\nimport type { Client } from '../clients/createClient.js'\r\nimport type { MaybePromise } from '../types/utils.js'\r\nimport { LruMap } from './lru.js'\r\n\r\nexport type CreateNonceManagerParameters = {\r\n  source: NonceManagerSource\r\n}\r\n\r\ntype FunctionParameters = {\r\n  address: Address\r\n  chainId: number\r\n}\r\n\r\nexport type NonceManager = {\r\n  /** Get and increment a nonce. */\r\n  consume: (\r\n    parameters: FunctionParameters & { client: Client },\r\n  ) => Promise<number>\r\n  /** Increment a nonce. */\r\n  increment: (chainId: FunctionParameters) => void\r\n  /** Get a nonce. */\r\n  get: (chainId: FunctionParameters & { client: Client }) => Promise<number>\r\n  /** Reset a nonce. */\r\n  reset: (chainId: FunctionParameters) => void\r\n}\r\n\r\n/**\r\n * Creates a nonce manager for auto-incrementing transaction nonces.\r\n *\r\n * - Docs: https://viem.sh/docs/accounts/createNonceManager\r\n *\r\n * @example\r\n * ```ts\r\n * const nonceManager = createNonceManager({\r\n *   source: jsonRpc(),\r\n * })\r\n * ```\r\n */\r\nexport function createNonceManager(\r\n  parameters: CreateNonceManagerParameters,\r\n): NonceManager {\r\n  const { source } = parameters\r\n\r\n  const deltaMap = new Map()\r\n  const nonceMap = new LruMap<number>(8192)\r\n  const promiseMap = new Map<string, Promise<number>>()\r\n\r\n  const getKey = ({ address, chainId }: FunctionParameters) =>\r\n    `${address}.${chainId}`\r\n\r\n  return {\r\n    async consume({ address, chainId, client }) {\r\n      const key = getKey({ address, chainId })\r\n      const promise = this.get({ address, chainId, client })\r\n\r\n      this.increment({ address, chainId })\r\n      const nonce = await promise\r\n\r\n      await source.set({ address, chainId }, nonce)\r\n      nonceMap.set(key, nonce)\r\n\r\n      return nonce\r\n    },\r\n    async increment({ address, chainId }) {\r\n      const key = getKey({ address, chainId })\r\n      const delta = deltaMap.get(key) ?? 0\r\n      deltaMap.set(key, delta + 1)\r\n    },\r\n    async get({ address, chainId, client }) {\r\n      const key = getKey({ address, chainId })\r\n\r\n      let promise = promiseMap.get(key)\r\n      if (!promise) {\r\n        promise = (async () => {\r\n          try {\r\n            const nonce = await source.get({ address, chainId, client })\r\n            const previousNonce = nonceMap.get(key) ?? 0\r\n            if (previousNonce > 0 && nonce <= previousNonce)\r\n              return previousNonce + 1\r\n            nonceMap.delete(key)\r\n            return nonce\r\n          } finally {\r\n            this.reset({ address, chainId })\r\n          }\r\n        })()\r\n        promiseMap.set(key, promise)\r\n      }\r\n\r\n      const delta = deltaMap.get(key) ?? 0\r\n      return delta + (await promise)\r\n    },\r\n    reset({ address, chainId }) {\r\n      const key = getKey({ address, chainId })\r\n      deltaMap.delete(key)\r\n      promiseMap.delete(key)\r\n    },\r\n  }\r\n}\r\n\r\n////////////////////////////////////////////////////////////////////////////////////////////\r\n// Sources\r\n\r\nexport type NonceManagerSource = {\r\n  /** Get a nonce. */\r\n  get(parameters: FunctionParameters & { client: Client }): MaybePromise<number>\r\n  /** Set a nonce. */\r\n  set(parameters: FunctionParameters, nonce: number): MaybePromise<void>\r\n}\r\n\r\n/** JSON-RPC source for a nonce manager. */\r\nexport function jsonRpc(): NonceManagerSource {\r\n  return {\r\n    async get(parameters) {\r\n      const { address, client } = parameters\r\n      return getTransactionCount(client, {\r\n        address,\r\n        blockTag: 'pending',\r\n      })\r\n    },\r\n    set() {},\r\n  }\r\n}\r\n\r\n////////////////////////////////////////////////////////////////////////////////////////////\r\n// Default\r\n\r\n/** Default Nonce Manager with a JSON-RPC source. */\r\nexport const nonceManager = /*#__PURE__*/ createNonceManager({\r\n  source: jsonRpc(),\r\n})\r\n", "/** @internal */\r\nexport const version = '0.1.1'\r\n", "import { version } from '../version.js'\r\n\r\n/** @internal */\r\nexport function getUrl(url: string) {\r\n  return url\r\n}\r\n\r\n/** @internal */\r\nexport function getVersion() {\r\n  return version\r\n}\r\n\r\n/** @internal */\r\nexport function prettyPrint(args: unknown) {\r\n  if (!args) return ''\r\n  const entries = Object.entries(args)\r\n    .map(([key, value]) => {\r\n      if (value === undefined || value === false) return null\r\n      return [key, value]\r\n    })\r\n    .filter(Boolean) as [string, string][]\r\n  const maxLength = entries.reduce((acc, [key]) => Math.max(acc, key.length), 0)\r\n  return entries\r\n    .map(([key, value]) => `  ${`${key}:`.padEnd(maxLength + 1)}  ${value}`)\r\n    .join('\\n')\r\n}\r\n", "import { getVersion } from './internal/errors.js'\r\n\r\nexport type GlobalErrorType<name extends string = 'Error'> = Error & {\r\n  name: name\r\n}\r\n\r\n/**\r\n * Base error class inherited by all errors thrown by ox.\r\n *\r\n * @example\r\n * ```ts\r\n * import { Errors } from 'ox'\r\n * throw new Errors.BaseError('An error occurred')\r\n * ```\r\n */\r\nexport class BaseError<\r\n  cause extends Error | undefined = undefined,\r\n> extends Error {\r\n  details: string\r\n  docs?: string | undefined\r\n  docsPath?: string | undefined\r\n  shortMessage: string\r\n\r\n  override cause: cause\r\n  override name = 'BaseError'\r\n\r\n  version = `ox@${getVersion()}`\r\n\r\n  constructor(shortMessage: string, options: BaseError.Options<cause> = {}) {\r\n    const details = (() => {\r\n      if (options.cause instanceof BaseError) {\r\n        if (options.cause.details) return options.cause.details\r\n        if (options.cause.shortMessage) return options.cause.shortMessage\r\n      }\r\n      if (options.cause?.message) return options.cause.message\r\n      return options.details!\r\n    })()\r\n    const docsPath = (() => {\r\n      if (options.cause instanceof BaseError)\r\n        return options.cause.docsPath || options.docsPath\r\n      return options.docsPath\r\n    })()\r\n\r\n    const docsBaseUrl = 'https://oxlib.sh'\r\n    const docs = `${docsBaseUrl}${docsPath ?? ''}`\r\n\r\n    const message = [\r\n      shortMessage || 'An error occurred.',\r\n      ...(options.metaMessages ? ['', ...options.metaMessages] : []),\r\n      ...(details || docsPath\r\n        ? [\r\n            '',\r\n            details ? `Details: ${details}` : undefined,\r\n            docsPath ? `See: ${docs}` : undefined,\r\n          ]\r\n        : []),\r\n    ]\r\n      .filter((x) => typeof x === 'string')\r\n      .join('\\n')\r\n\r\n    super(message, options.cause ? { cause: options.cause } : undefined)\r\n\r\n    this.cause = options.cause as any\r\n    this.details = details\r\n    this.docs = docs\r\n    this.docsPath = docsPath\r\n    this.shortMessage = shortMessage\r\n  }\r\n\r\n  walk(): Error\r\n  walk(fn: (err: unknown) => boolean): Error | null\r\n  walk(fn?: any): any {\r\n    return walk(this, fn)\r\n  }\r\n}\r\n\r\nexport declare namespace BaseError {\r\n  type Options<cause extends Error | undefined = Error | undefined> = {\r\n    cause?: cause | undefined\r\n    details?: string | undefined\r\n    docsPath?: string | undefined\r\n    metaMessages?: (string | undefined)[] | undefined\r\n  }\r\n}\r\n\r\n/** @internal */\r\nfunction walk(\r\n  err: unknown,\r\n  fn?: ((err: unknown) => boolean) | undefined,\r\n): unknown {\r\n  if (fn?.(err)) return err\r\n  if (err && typeof err === 'object' && 'cause' in err && err.cause)\r\n    return walk(err.cause, fn)\r\n  return fn ? null : err\r\n}\r\n", "import * as Bytes from '../Bytes.js'\r\nimport type * as Errors from '../Errors.js'\r\n\r\n/** @internal */\r\nexport function assertSize(bytes: Bytes.Bytes, size_: number): void {\r\n  if (Bytes.size(bytes) > size_)\r\n    throw new Bytes.SizeOverflowError({\r\n      givenSize: Bytes.size(bytes),\r\n      maxSize: size_,\r\n    })\r\n}\r\n\r\n/** @internal */\r\nexport declare namespace assertSize {\r\n  type ErrorType =\r\n    | Bytes.size.ErrorType\r\n    | Bytes.SizeOverflowError\r\n    | Errors.GlobalErrorType\r\n}\r\n\r\n/** @internal */\r\nexport function assertStartOffset(\r\n  value: Bytes.Bytes,\r\n  start?: number | undefined,\r\n) {\r\n  if (typeof start === 'number' && start > 0 && start > Bytes.size(value) - 1)\r\n    throw new Bytes.SliceOffsetOutOfBoundsError({\r\n      offset: start,\r\n      position: 'start',\r\n      size: Bytes.size(value),\r\n    })\r\n}\r\n\r\nexport declare namespace assertStartOffset {\r\n  export type ErrorType =\r\n    | Bytes.SliceOffsetOutOfBoundsError\r\n    | Bytes.size.ErrorType\r\n    | Errors.GlobalErrorType\r\n}\r\n\r\n/** @internal */\r\nexport function assertEndOffset(\r\n  value: Bytes.Bytes,\r\n  start?: number | undefined,\r\n  end?: number | undefined,\r\n) {\r\n  if (\r\n    typeof start === 'number' &&\r\n    typeof end === 'number' &&\r\n    Bytes.size(value) !== end - start\r\n  ) {\r\n    throw new Bytes.SliceOffsetOutOfBoundsError({\r\n      offset: end,\r\n      position: 'end',\r\n      size: Bytes.size(value),\r\n    })\r\n  }\r\n}\r\n\r\n/** @internal */\r\nexport declare namespace assertEndOffset {\r\n  type ErrorType =\r\n    | Bytes.SliceOffsetOutOfBoundsError\r\n    | Bytes.size.ErrorType\r\n    | Errors.GlobalErrorType\r\n}\r\n\r\n/** @internal */\r\nexport const charCodeMap = {\r\n  zero: 48,\r\n  nine: 57,\r\n  A: 65,\r\n  F: 70,\r\n  a: 97,\r\n  f: 102,\r\n} as const\r\n\r\n/** @internal */\r\nexport function charCodeToBase16(char: number) {\r\n  if (char >= charCodeMap.zero && char <= charCodeMap.nine)\r\n    return char - charCodeMap.zero\r\n  if (char >= charCodeMap.A && char <= charCodeMap.F)\r\n    return char - (charCodeMap.A - 10)\r\n  if (char >= charCodeMap.a && char <= charCodeMap.f)\r\n    return char - (charCodeMap.a - 10)\r\n  return undefined\r\n}\r\n\r\n/** @internal */\r\nexport function pad(bytes: Bytes.Bytes, options: pad.Options = {}) {\r\n  const { dir, size = 32 } = options\r\n  if (size === 0) return bytes\r\n  if (bytes.length > size)\r\n    throw new Bytes.SizeExceedsPaddingSizeError({\r\n      size: bytes.length,\r\n      targetSize: size,\r\n      type: 'Bytes',\r\n    })\r\n  const paddedBytes = new Uint8Array(size)\r\n  for (let i = 0; i < size; i++) {\r\n    const padEnd = dir === 'right'\r\n    paddedBytes[padEnd ? i : size - i - 1] =\r\n      bytes[padEnd ? i : bytes.length - i - 1]!\r\n  }\r\n  return paddedBytes\r\n}\r\n\r\n/** @internal */\r\nexport declare namespace pad {\r\n  type Options = {\r\n    dir?: 'left' | 'right' | undefined\r\n    size?: number | undefined\r\n  }\r\n\r\n  type ReturnType = Bytes.Bytes\r\n\r\n  type ErrorType = Bytes.SizeExceedsPaddingSizeError | Errors.GlobalErrorType\r\n}\r\n\r\n/** @internal */\r\nexport function trim(\r\n  value: Bytes.Bytes,\r\n  options: trim.Options = {},\r\n): trim.ReturnType {\r\n  const { dir = 'left' } = options\r\n\r\n  let data = value\r\n\r\n  let sliceLength = 0\r\n  for (let i = 0; i < data.length - 1; i++) {\r\n    if (data[dir === 'left' ? i : data.length - i - 1]!.toString() === '0')\r\n      sliceLength++\r\n    else break\r\n  }\r\n  data =\r\n    dir === 'left'\r\n      ? data.slice(sliceLength)\r\n      : data.slice(0, data.length - sliceLength)\r\n\r\n  return data as trim.ReturnType\r\n}\r\n\r\n/** @internal */\r\nexport declare namespace trim {\r\n  type Options = {\r\n    dir?: 'left' | 'right' | undefined\r\n  }\r\n\r\n  type ReturnType = Bytes.Bytes\r\n\r\n  type ErrorType = Errors.GlobalErrorType\r\n}\r\n", "import type * as Errors from '../Errors.js'\r\nimport * as Hex from '../Hex.js'\r\n\r\n/** @internal */\r\nexport function assertSize(hex: Hex.Hex, size_: number): void {\r\n  if (Hex.size(hex) > size_)\r\n    throw new Hex.SizeOverflowError({\r\n      givenSize: Hex.size(hex),\r\n      maxSize: size_,\r\n    })\r\n}\r\n\r\n/** @internal */\r\nexport declare namespace assertSize {\r\n  type ErrorType =\r\n    | Hex.size.ErrorType\r\n    | Hex.SizeOverflowError\r\n    | Errors.GlobalErrorType\r\n}\r\n\r\n/** @internal */\r\nexport function assertStartOffset(value: Hex.Hex, start?: number | undefined) {\r\n  if (typeof start === 'number' && start > 0 && start > Hex.size(value) - 1)\r\n    throw new Hex.SliceOffsetOutOfBoundsError({\r\n      offset: start,\r\n      position: 'start',\r\n      size: Hex.size(value),\r\n    })\r\n}\r\n\r\nexport declare namespace assertStartOffset {\r\n  type ErrorType =\r\n    | Hex.SliceOffsetOutOfBoundsError\r\n    | Hex.size.ErrorType\r\n    | Errors.GlobalErrorType\r\n}\r\n\r\n/** @internal */\r\nexport function assertEndOffset(\r\n  value: Hex.Hex,\r\n  start?: number | undefined,\r\n  end?: number | undefined,\r\n) {\r\n  if (\r\n    typeof start === 'number' &&\r\n    typeof end === 'number' &&\r\n    Hex.size(value) !== end - start\r\n  ) {\r\n    throw new Hex.SliceOffsetOutOfBoundsError({\r\n      offset: end,\r\n      position: 'end',\r\n      size: Hex.size(value),\r\n    })\r\n  }\r\n}\r\n\r\nexport declare namespace assertEndOffset {\r\n  type ErrorType =\r\n    | Hex.SliceOffsetOutOfBoundsError\r\n    | Hex.size.ErrorType\r\n    | Errors.GlobalErrorType\r\n}\r\n\r\n/** @internal */\r\nexport function pad(hex_: Hex.Hex, options: pad.Options = {}) {\r\n  const { dir, size = 32 } = options\r\n\r\n  if (size === 0) return hex_\r\n\r\n  const hex = hex_.replace('0x', '')\r\n  if (hex.length > size * 2)\r\n    throw new Hex.SizeExceedsPaddingSizeError({\r\n      size: Math.ceil(hex.length / 2),\r\n      targetSize: size,\r\n      type: 'Hex',\r\n    })\r\n\r\n  return `0x${hex[dir === 'right' ? 'padEnd' : 'padStart'](size * 2, '0')}` as Hex.Hex\r\n}\r\n\r\n/** @internal */\r\nexport declare namespace pad {\r\n  type Options = {\r\n    dir?: 'left' | 'right' | undefined\r\n    size?: number | undefined\r\n  }\r\n  type ErrorType = Hex.SizeExceedsPaddingSizeError | Errors.GlobalErrorType\r\n}\r\n\r\n/** @internal */\r\nexport function trim(\r\n  value: Hex.Hex,\r\n  options: trim.Options = {},\r\n): trim.ReturnType {\r\n  const { dir = 'left' } = options\r\n\r\n  let data = value.replace('0x', '')\r\n\r\n  let sliceLength = 0\r\n  for (let i = 0; i < data.length - 1; i++) {\r\n    if (data[dir === 'left' ? i : data.length - i - 1]!.toString() === '0')\r\n      sliceLength++\r\n    else break\r\n  }\r\n  data =\r\n    dir === 'left'\r\n      ? data.slice(sliceLength)\r\n      : data.slice(0, data.length - sliceLength)\r\n\r\n  if (data === '0') return '0x'\r\n  if (dir === 'right' && data.length % 2 === 1) return `0x${data}0`\r\n  return `0x${data}` as trim.ReturnType\r\n}\r\n\r\n/** @internal */\r\nexport declare namespace trim {\r\n  type Options = {\r\n    dir?: 'left' | 'right' | undefined\r\n  }\r\n\r\n  type ReturnType = Hex.Hex\r\n\r\n  type ErrorType = Errors.GlobalErrorType\r\n}\r\n", "import { equalBytes } from '@noble/curves/abstract/utils'\r\nimport * as Errors from './Errors.js'\r\nimport * as Hex from './Hex.js'\r\nimport * as Json from './Json.js'\r\nimport * as internal from './internal/bytes.js'\r\nimport * as internal_hex from './internal/hex.js'\r\n\r\nconst decoder = /*#__PURE__*/ new TextDecoder()\r\nconst encoder = /*#__PURE__*/ new TextEncoder()\r\n\r\n/** Root type for a Bytes array. */\r\nexport type Bytes = Uint8Array\r\n\r\n/**\r\n * Asserts if the given value is {@link ox#Bytes.Bytes}.\r\n *\r\n * @example\r\n * ```ts twoslash\r\n * import { Bytes } from 'ox'\r\n *\r\n * Bytes.assert('abc')\r\n * // @error: Bytes.InvalidBytesTypeError:\r\n * // @error: Value `\"abc\"` of type `string` is an invalid Bytes value.\r\n * // @error: Bytes values must be of type `Uint8Array`.\r\n * ```\r\n *\r\n * @param value - Value to assert.\r\n */\r\nexport function assert(value: unknown): asserts value is Bytes {\r\n  if (value instanceof Uint8Array) return\r\n  if (!value) throw new InvalidBytesTypeError(value)\r\n  if (typeof value !== 'object') throw new InvalidBytesTypeError(value)\r\n  if (!('BYTES_PER_ELEMENT' in value)) throw new InvalidBytesTypeError(value)\r\n  if (value.BYTES_PER_ELEMENT !== 1 || value.constructor.name !== 'Uint8Array')\r\n    throw new InvalidBytesTypeError(value)\r\n}\r\n\r\nexport declare namespace assert {\r\n  type ErrorType = InvalidBytesTypeError | Errors.GlobalErrorType\r\n}\r\n\r\n/**\r\n * Concatenates two or more {@link ox#Bytes.Bytes}.\r\n *\r\n * @example\r\n * ```ts twoslash\r\n * import { Bytes } from 'ox'\r\n *\r\n * const bytes = Bytes.concat(\r\n *   Bytes.from([1]),\r\n *   Bytes.from([69]),\r\n *   Bytes.from([420, 69]),\r\n * )\r\n * // @log: Uint8Array [ 1, 69, 420, 69 ]\r\n * ```\r\n *\r\n * @param values - Values to concatenate.\r\n * @returns Concatenated {@link ox#Bytes.Bytes}.\r\n */\r\nexport function concat(...values: readonly Bytes[]): Bytes {\r\n  let length = 0\r\n  for (const arr of values) {\r\n    length += arr.length\r\n  }\r\n  const result = new Uint8Array(length)\r\n  for (let i = 0, index = 0; i < values.length; i++) {\r\n    const arr = values[i]\r\n    result.set(arr!, index)\r\n    index += arr!.length\r\n  }\r\n  return result\r\n}\r\n\r\nexport declare namespace concat {\r\n  type ErrorType = Errors.GlobalErrorType\r\n}\r\n\r\n/**\r\n * Instantiates a {@link ox#Bytes.Bytes} value from a `Uint8Array`, a hex string, or an array of unsigned 8-bit integers.\r\n *\r\n * :::tip\r\n *\r\n * To instantiate from a **Boolean**, **String**, or **Number**, use one of the following:\r\n *\r\n * - `Bytes.fromBoolean`\r\n *\r\n * - `Bytes.fromString`\r\n *\r\n * - `Bytes.fromNumber`\r\n *\r\n * :::\r\n *\r\n * @example\r\n * ```ts twoslash\r\n * // @noErrors\r\n * import { Bytes } from 'ox'\r\n *\r\n * const data = Bytes.from([255, 124, 5, 4])\r\n * // @log: Uint8Array([255, 124, 5, 4])\r\n *\r\n * const data = Bytes.from('0xdeadbeef')\r\n * // @log: Uint8Array([222, 173, 190, 239])\r\n * ```\r\n *\r\n * @param value - Value to convert.\r\n * @returns A {@link ox#Bytes.Bytes} instance.\r\n */\r\nexport function from(value: Hex.Hex | Bytes | readonly number[]): Bytes {\r\n  if (value instanceof Uint8Array) return value\r\n  if (typeof value === 'string') return fromHex(value)\r\n  return fromArray(value)\r\n}\r\n\r\nexport declare namespace from {\r\n  type ErrorType =\r\n    | fromHex.ErrorType\r\n    | fromArray.ErrorType\r\n    | Errors.GlobalErrorType\r\n}\r\n\r\n/**\r\n * Converts an array of unsigned 8-bit integers into {@link ox#Bytes.Bytes}.\r\n *\r\n * @example\r\n * ```ts twoslash\r\n * import { Bytes } from 'ox'\r\n *\r\n * const data = Bytes.fromArray([255, 124, 5, 4])\r\n * // @log: Uint8Array([255, 124, 5, 4])\r\n * ```\r\n *\r\n * @param value - Value to convert.\r\n * @returns A {@link ox#Bytes.Bytes} instance.\r\n */\r\nexport function fromArray(value: readonly number[] | Uint8Array): Bytes {\r\n  return value instanceof Uint8Array ? value : new Uint8Array(value)\r\n}\r\n\r\nexport declare namespace fromArray {\r\n  type ErrorType = Errors.GlobalErrorType\r\n}\r\n\r\n/**\r\n * Encodes a boolean value into {@link ox#Bytes.Bytes}.\r\n *\r\n * @example\r\n * ```ts twoslash\r\n * import { Bytes } from 'ox'\r\n *\r\n * const data = Bytes.fromBoolean(true)\r\n * // @log: Uint8Array([1])\r\n * ```\r\n *\r\n * @example\r\n * ```ts twoslash\r\n * import { Bytes } from 'ox'\r\n *\r\n * const data = Bytes.fromBoolean(true, { size: 32 })\r\n * // @log: Uint8Array([0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1])\r\n * ```\r\n *\r\n * @param value - Boolean value to encode.\r\n * @param options - Encoding options.\r\n * @returns Encoded {@link ox#Bytes.Bytes}.\r\n */\r\nexport function fromBoolean(value: boolean, options: fromBoolean.Options = {}) {\r\n  const { size } = options\r\n  const bytes = new Uint8Array(1)\r\n  bytes[0] = Number(value)\r\n  if (typeof size === 'number') {\r\n    internal.assertSize(bytes, size)\r\n    return padLeft(bytes, size)\r\n  }\r\n  return bytes\r\n}\r\n\r\nexport declare namespace fromBoolean {\r\n  type Options = {\r\n    /** Size of the output bytes. */\r\n    size?: number | undefined\r\n  }\r\n\r\n  type ErrorType =\r\n    | internal.assertSize.ErrorType\r\n    | padLeft.ErrorType\r\n    | Errors.GlobalErrorType\r\n}\r\n\r\n/**\r\n * Encodes a {@link ox#Hex.Hex} value into {@link ox#Bytes.Bytes}.\r\n *\r\n * @example\r\n * ```ts twoslash\r\n * import { Bytes } from 'ox'\r\n *\r\n * const data = Bytes.fromHex('0x48656c6c6f20776f726c6421')\r\n * // @log: Uint8Array([72, 101, 108, 108, 111, 32, 87, 111, 114, 108, 100, 33])\r\n * ```\r\n *\r\n * @example\r\n * ```ts twoslash\r\n * import { Bytes } from 'ox'\r\n *\r\n * const data = Bytes.fromHex('0x48656c6c6f20776f726c6421', { size: 32 })\r\n * // @log: Uint8Array([72, 101, 108, 108, 111, 32, 87, 111, 114, 108, 100, 33, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0])\r\n * ```\r\n *\r\n * @param value - {@link ox#Hex.Hex} value to encode.\r\n * @param options - Encoding options.\r\n * @returns Encoded {@link ox#Bytes.Bytes}.\r\n */\r\nexport function fromHex(value: Hex.Hex, options: fromHex.Options = {}): Bytes {\r\n  const { size } = options\r\n\r\n  let hex = value\r\n  if (size) {\r\n    internal_hex.assertSize(value, size)\r\n    hex = Hex.padRight(value, size)\r\n  }\r\n\r\n  let hexString = hex.slice(2) as string\r\n  if (hexString.length % 2) hexString = `0${hexString}`\r\n\r\n  const length = hexString.length / 2\r\n  const bytes = new Uint8Array(length)\r\n  for (let index = 0, j = 0; index < length; index++) {\r\n    const nibbleLeft = internal.charCodeToBase16(hexString.charCodeAt(j++))\r\n    const nibbleRight = internal.charCodeToBase16(hexString.charCodeAt(j++))\r\n    if (nibbleLeft === undefined || nibbleRight === undefined) {\r\n      throw new Errors.BaseError(\r\n        `Invalid byte sequence (\"${hexString[j - 2]}${hexString[j - 1]}\" in \"${hexString}\").`,\r\n      )\r\n    }\r\n    bytes[index] = nibbleLeft * 16 + nibbleRight\r\n  }\r\n  return bytes\r\n}\r\n\r\nexport declare namespace fromHex {\r\n  type Options = {\r\n    /** Size of the output bytes. */\r\n    size?: number | undefined\r\n  }\r\n\r\n  type ErrorType =\r\n    | internal_hex.assertSize.ErrorType\r\n    | Hex.padRight.ErrorType\r\n    | Errors.GlobalErrorType\r\n}\r\n\r\n/**\r\n * Encodes a number value into {@link ox#Bytes.Bytes}.\r\n *\r\n * @example\r\n * ```ts twoslash\r\n * import { Bytes } from 'ox'\r\n *\r\n * const data = Bytes.fromNumber(420)\r\n * // @log: Uint8Array([1, 164])\r\n * ```\r\n *\r\n * @example\r\n * ```ts twoslash\r\n * import { Bytes } from 'ox'\r\n *\r\n * const data = Bytes.fromNumber(420, { size: 4 })\r\n * // @log: Uint8Array([0, 0, 1, 164])\r\n * ```\r\n *\r\n * @param value - Number value to encode.\r\n * @param options - Encoding options.\r\n * @returns Encoded {@link ox#Bytes.Bytes}.\r\n */\r\nexport function fromNumber(\r\n  value: bigint | number,\r\n  options?: fromNumber.Options | undefined,\r\n) {\r\n  const hex = Hex.fromNumber(value, options)\r\n  return fromHex(hex)\r\n}\r\n\r\nexport declare namespace fromNumber {\r\n  export type Options = Hex.fromNumber.Options\r\n\r\n  export type ErrorType =\r\n    | Hex.fromNumber.ErrorType\r\n    | fromHex.ErrorType\r\n    | Errors.GlobalErrorType\r\n}\r\n\r\n/**\r\n * Encodes a string into {@link ox#Bytes.Bytes}.\r\n *\r\n * @example\r\n * ```ts twoslash\r\n * import { Bytes } from 'ox'\r\n *\r\n * const data = Bytes.fromString('Hello world!')\r\n * // @log: Uint8Array([72, 101, 108, 108, 111, 32, 119, 111, 114, 108, 100, 33])\r\n * ```\r\n *\r\n * @example\r\n * ```ts twoslash\r\n * import { Bytes } from 'ox'\r\n *\r\n * const data = Bytes.fromString('Hello world!', { size: 32 })\r\n * // @log: Uint8Array([72, 101, 108, 108, 111, 32, 87, 111, 114, 108, 100, 33, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0])\r\n * ```\r\n *\r\n * @param value - String to encode.\r\n * @param options - Encoding options.\r\n * @returns Encoded {@link ox#Bytes.Bytes}.\r\n */\r\nexport function fromString(\r\n  value: string,\r\n  options: fromString.Options = {},\r\n): Bytes {\r\n  const { size } = options\r\n\r\n  const bytes = encoder.encode(value)\r\n  if (typeof size === 'number') {\r\n    internal.assertSize(bytes, size)\r\n    return padRight(bytes, size)\r\n  }\r\n  return bytes\r\n}\r\n\r\nexport declare namespace fromString {\r\n  type Options = {\r\n    /** Size of the output bytes. */\r\n    size?: number | undefined\r\n  }\r\n\r\n  type ErrorType =\r\n    | internal.assertSize.ErrorType\r\n    | padRight.ErrorType\r\n    | Errors.GlobalErrorType\r\n}\r\n\r\n/**\r\n * Checks if two {@link ox#Bytes.Bytes} values are equal.\r\n *\r\n * @example\r\n * ```ts twoslash\r\n * import { Bytes } from 'ox'\r\n *\r\n * Bytes.isEqual(Bytes.from([1]), Bytes.from([1]))\r\n * // @log: true\r\n *\r\n * Bytes.isEqual(Bytes.from([1]), Bytes.from([2]))\r\n * // @log: false\r\n * ```\r\n *\r\n * @param bytesA - First {@link ox#Bytes.Bytes} value.\r\n * @param bytesB - Second {@link ox#Bytes.Bytes} value.\r\n * @returns `true` if the two values are equal, otherwise `false`.\r\n */\r\nexport function isEqual(bytesA: Bytes, bytesB: Bytes) {\r\n  return equalBytes(bytesA, bytesB)\r\n}\r\n\r\nexport declare namespace isEqual {\r\n  type ErrorType = Errors.GlobalErrorType\r\n}\r\n\r\n/**\r\n * Pads a {@link ox#Bytes.Bytes} value to the left with zero bytes until it reaches the given `size` (default: 32 bytes).\r\n *\r\n * @example\r\n * ```ts twoslash\r\n * import { Bytes } from 'ox'\r\n *\r\n * Bytes.padLeft(Bytes.from([1]), 4)\r\n * // @log: Uint8Array([0, 0, 0, 1])\r\n * ```\r\n *\r\n * @param value - {@link ox#Bytes.Bytes} value to pad.\r\n * @param size - Size to pad the {@link ox#Bytes.Bytes} value to.\r\n * @returns Padded {@link ox#Bytes.Bytes} value.\r\n */\r\nexport function padLeft(\r\n  value: Bytes,\r\n  size?: number | undefined,\r\n): padLeft.ReturnType {\r\n  return internal.pad(value, { dir: 'left', size })\r\n}\r\n\r\nexport declare namespace padLeft {\r\n  type ReturnType = internal.pad.ReturnType\r\n  type ErrorType = internal.pad.ErrorType | Errors.GlobalErrorType\r\n}\r\n\r\n/**\r\n * Pads a {@link ox#Bytes.Bytes} value to the right with zero bytes until it reaches the given `size` (default: 32 bytes).\r\n *\r\n * @example\r\n * ```ts twoslash\r\n * import { Bytes } from 'ox'\r\n *\r\n * Bytes.padRight(Bytes.from([1]), 4)\r\n * // @log: Uint8Array([1, 0, 0, 0])\r\n * ```\r\n *\r\n * @param value - {@link ox#Bytes.Bytes} value to pad.\r\n * @param size - Size to pad the {@link ox#Bytes.Bytes} value to.\r\n * @returns Padded {@link ox#Bytes.Bytes} value.\r\n */\r\nexport function padRight(\r\n  value: Bytes,\r\n  size?: number | undefined,\r\n): padRight.ReturnType {\r\n  return internal.pad(value, { dir: 'right', size })\r\n}\r\n\r\nexport declare namespace padRight {\r\n  type ReturnType = internal.pad.ReturnType\r\n  type ErrorType = internal.pad.ErrorType | Errors.GlobalErrorType\r\n}\r\n\r\n/**\r\n * Generates random {@link ox#Bytes.Bytes} of the specified length.\r\n *\r\n * @example\r\n * ```ts twoslash\r\n * import { Bytes } from 'ox'\r\n *\r\n * const bytes = Bytes.random(32)\r\n * // @log: Uint8Array([... x32])\r\n * ```\r\n *\r\n * @param length - Length of the random {@link ox#Bytes.Bytes} to generate.\r\n * @returns Random {@link ox#Bytes.Bytes} of the specified length.\r\n */\r\nexport function random(length: number): Bytes {\r\n  return crypto.getRandomValues(new Uint8Array(length))\r\n}\r\n\r\nexport declare namespace random {\r\n  type ErrorType = Errors.GlobalErrorType\r\n}\r\n\r\n/**\r\n * Retrieves the size of a {@link ox#Bytes.Bytes} value.\r\n *\r\n * @example\r\n * ```ts twoslash\r\n * import { Bytes } from 'ox'\r\n *\r\n * Bytes.size(Bytes.from([1, 2, 3, 4]))\r\n * // @log: 4\r\n * ```\r\n *\r\n * @param value - {@link ox#Bytes.Bytes} value.\r\n * @returns Size of the {@link ox#Bytes.Bytes} value.\r\n */\r\nexport function size(value: Bytes): number {\r\n  return value.length\r\n}\r\n\r\nexport declare namespace size {\r\n  export type ErrorType = Errors.GlobalErrorType\r\n}\r\n\r\n/**\r\n * Returns a section of a {@link ox#Bytes.Bytes} value given a start/end bytes offset.\r\n *\r\n * @example\r\n * ```ts twoslash\r\n * import { Bytes } from 'ox'\r\n *\r\n * Bytes.slice(\r\n *   Bytes.from([1, 2, 3, 4, 5, 6, 7, 8, 9]),\r\n *   1,\r\n *   4,\r\n * )\r\n * // @log: Uint8Array([2, 3, 4])\r\n * ```\r\n *\r\n * @param value - The {@link ox#Bytes.Bytes} value.\r\n * @param start - Start offset.\r\n * @param end - End offset.\r\n * @param options - Slice options.\r\n * @returns Sliced {@link ox#Bytes.Bytes} value.\r\n */\r\nexport function slice(\r\n  value: Bytes,\r\n  start?: number | undefined,\r\n  end?: number | undefined,\r\n  options: slice.Options = {},\r\n): Bytes {\r\n  const { strict } = options\r\n  internal.assertStartOffset(value, start)\r\n  const value_ = value.slice(start, end)\r\n  if (strict) internal.assertEndOffset(value_, start, end)\r\n  return value_\r\n}\r\n\r\nexport declare namespace slice {\r\n  type Options = {\r\n    /** Asserts that the sliced value is the same size as the given start/end offsets. */\r\n    strict?: boolean | undefined\r\n  }\r\n\r\n  export type ErrorType =\r\n    | internal.assertStartOffset.ErrorType\r\n    | internal.assertEndOffset.ErrorType\r\n    | Errors.GlobalErrorType\r\n}\r\n\r\n/**\r\n * Decodes a {@link ox#Bytes.Bytes} into a bigint.\r\n *\r\n * @example\r\n * ```ts\r\n * import { Bytes } from 'ox'\r\n *\r\n * Bytes.toBigInt(Bytes.from([1, 164]))\r\n * // @log: 420n\r\n * ```\r\n *\r\n * @param bytes - The {@link ox#Bytes.Bytes} to decode.\r\n * @param options - Decoding options.\r\n * @returns Decoded bigint.\r\n */\r\nexport function toBigInt(bytes: Bytes, options: toBigInt.Options = {}): bigint {\r\n  const { size } = options\r\n  if (typeof size !== 'undefined') internal.assertSize(bytes, size)\r\n  const hex = Hex.fromBytes(bytes, options)\r\n  return Hex.toBigInt(hex, options)\r\n}\r\n\r\nexport declare namespace toBigInt {\r\n  type Options = {\r\n    /** Whether or not the number of a signed representation. */\r\n    signed?: boolean | undefined\r\n    /** Size of the bytes. */\r\n    size?: number | undefined\r\n  }\r\n\r\n  type ErrorType =\r\n    | Hex.fromBytes.ErrorType\r\n    | Hex.toBigInt.ErrorType\r\n    | Errors.GlobalErrorType\r\n}\r\n\r\n/**\r\n * Decodes a {@link ox#Bytes.Bytes} into a boolean.\r\n *\r\n * @example\r\n * ```ts\r\n * import { Bytes } from 'ox'\r\n *\r\n * Bytes.toBoolean(Bytes.from([1]))\r\n * // @log: true\r\n * ```\r\n *\r\n * @param bytes - The {@link ox#Bytes.Bytes} to decode.\r\n * @param options - Decoding options.\r\n * @returns Decoded boolean.\r\n */\r\nexport function toBoolean(\r\n  bytes: Bytes,\r\n  options: toBoolean.Options = {},\r\n): boolean {\r\n  const { size } = options\r\n  let bytes_ = bytes\r\n  if (typeof size !== 'undefined') {\r\n    internal.assertSize(bytes_, size)\r\n    bytes_ = trimLeft(bytes_)\r\n  }\r\n  if (bytes_.length > 1 || bytes_[0]! > 1)\r\n    throw new InvalidBytesBooleanError(bytes_)\r\n  return Boolean(bytes_[0])\r\n}\r\n\r\nexport declare namespace toBoolean {\r\n  type Options = {\r\n    /** Size of the bytes. */\r\n    size?: number | undefined\r\n  }\r\n\r\n  type ErrorType =\r\n    | internal.assertSize.ErrorType\r\n    | trimLeft.ErrorType\r\n    | Errors.GlobalErrorType\r\n}\r\n\r\n/**\r\n * Encodes a {@link ox#Bytes.Bytes} value into a {@link ox#Hex.Hex} value.\r\n *\r\n * @example\r\n * ```ts twoslash\r\n * import { Bytes } from 'ox'\r\n *\r\n * Bytes.toHex(Bytes.from([72, 101, 108, 108, 111, 32, 87, 111, 114, 108, 100, 33]))\r\n * // '0x48656c6c6f20576f726c6421'\r\n * ```\r\n *\r\n * @param value - The {@link ox#Bytes.Bytes} to decode.\r\n * @param options - Options.\r\n * @returns Decoded {@link ox#Hex.Hex} value.\r\n */\r\nexport function toHex(value: Bytes, options: toHex.Options = {}): Hex.Hex {\r\n  return Hex.fromBytes(value, options)\r\n}\r\n\r\nexport declare namespace toHex {\r\n  type Options = {\r\n    /** Size of the bytes. */\r\n    size?: number | undefined\r\n  }\r\n\r\n  type ErrorType = Hex.fromBytes.ErrorType | Errors.GlobalErrorType\r\n}\r\n\r\n/**\r\n * Decodes a {@link ox#Bytes.Bytes} into a number.\r\n *\r\n * @example\r\n * ```ts twoslash\r\n * import { Bytes } from 'ox'\r\n *\r\n * Bytes.toNumber(Bytes.from([1, 164]))\r\n * // @log: 420\r\n * ```\r\n */\r\nexport function toNumber(bytes: Bytes, options: toNumber.Options = {}): number {\r\n  const { size } = options\r\n  if (typeof size !== 'undefined') internal.assertSize(bytes, size)\r\n  const hex = Hex.fromBytes(bytes, options)\r\n  return Hex.toNumber(hex, options)\r\n}\r\n\r\nexport declare namespace toNumber {\r\n  type Options = {\r\n    /** Whether or not the number of a signed representation. */\r\n    signed?: boolean | undefined\r\n    /** Size of the bytes. */\r\n    size?: number | undefined\r\n  }\r\n\r\n  type ErrorType =\r\n    | Hex.fromBytes.ErrorType\r\n    | Hex.toNumber.ErrorType\r\n    | Errors.GlobalErrorType\r\n}\r\n\r\n/**\r\n * Decodes a {@link ox#Bytes.Bytes} into a string.\r\n *\r\n * @example\r\n * ```ts twoslash\r\n * import { Bytes } from 'ox'\r\n *\r\n * const data = Bytes.toString(Bytes.from([72, 101, 108, 108, 111, 32, 87, 111, 114, 108, 100, 33]))\r\n * // @log: 'Hello world'\r\n * ```\r\n *\r\n * @param bytes - The {@link ox#Bytes.Bytes} to decode.\r\n * @param options - Options.\r\n * @returns Decoded string.\r\n */\r\nexport function toString(bytes: Bytes, options: toString.Options = {}): string {\r\n  const { size } = options\r\n\r\n  let bytes_ = bytes\r\n  if (typeof size !== 'undefined') {\r\n    internal.assertSize(bytes_, size)\r\n    bytes_ = trimRight(bytes_)\r\n  }\r\n  return decoder.decode(bytes_)\r\n}\r\n\r\nexport declare namespace toString {\r\n  export type Options = {\r\n    /** Size of the bytes. */\r\n    size?: number | undefined\r\n  }\r\n\r\n  export type ErrorType =\r\n    | internal.assertSize.ErrorType\r\n    | trimRight.ErrorType\r\n    | Errors.GlobalErrorType\r\n}\r\n\r\n/**\r\n * Trims leading zeros from a {@link ox#Bytes.Bytes} value.\r\n *\r\n * @example\r\n * ```ts twoslash\r\n * import { Bytes } from 'ox'\r\n *\r\n * Bytes.trimLeft(Bytes.from([0, 0, 0, 0, 1, 2, 3]))\r\n * // @log: Uint8Array([1, 2, 3])\r\n * ```\r\n *\r\n * @param value - {@link ox#Bytes.Bytes} value.\r\n * @returns Trimmed {@link ox#Bytes.Bytes} value.\r\n */\r\nexport function trimLeft(value: Bytes): Bytes {\r\n  return internal.trim(value, { dir: 'left' })\r\n}\r\n\r\nexport declare namespace trimLeft {\r\n  type ErrorType = internal.trim.ErrorType | Errors.GlobalErrorType\r\n}\r\n\r\n/**\r\n * Trims trailing zeros from a {@link ox#Bytes.Bytes} value.\r\n *\r\n * @example\r\n * ```ts twoslash\r\n * import { Bytes } from 'ox'\r\n *\r\n * Bytes.trimRight(Bytes.from([1, 2, 3, 0, 0, 0, 0]))\r\n * // @log: Uint8Array([1, 2, 3])\r\n * ```\r\n *\r\n * @param value - {@link ox#Bytes.Bytes} value.\r\n * @returns Trimmed {@link ox#Bytes.Bytes} value.\r\n */\r\nexport function trimRight(value: Bytes): Bytes {\r\n  return internal.trim(value, { dir: 'right' })\r\n}\r\n\r\nexport declare namespace trimRight {\r\n  export type ErrorType = internal.trim.ErrorType | Errors.GlobalErrorType\r\n}\r\n\r\n/**\r\n * Checks if the given value is {@link ox#Bytes.Bytes}.\r\n *\r\n * @example\r\n * ```ts twoslash\r\n * import { Bytes } from 'ox'\r\n *\r\n * Bytes.validate('0x')\r\n * // @log: false\r\n *\r\n * Bytes.validate(Bytes.from([1, 2, 3]))\r\n * // @log: true\r\n * ```\r\n *\r\n * @param value - Value to check.\r\n * @returns `true` if the value is {@link ox#Bytes.Bytes}, otherwise `false`.\r\n */\r\nexport function validate(value: unknown): value is Bytes {\r\n  try {\r\n    assert(value)\r\n    return true\r\n  } catch {\r\n    return false\r\n  }\r\n}\r\n\r\nexport declare namespace validate {\r\n  export type ErrorType = Errors.GlobalErrorType\r\n}\r\n\r\n/**\r\n * Thrown when the bytes value cannot be represented as a boolean.\r\n *\r\n * @example\r\n * ```ts twoslash\r\n * import { Bytes } from 'ox'\r\n *\r\n * Bytes.toBoolean(Bytes.from([5]))\r\n * // @error: Bytes.InvalidBytesBooleanError: Bytes value `[5]` is not a valid boolean.\r\n * // @error: The bytes array must contain a single byte of either a `0` or `1` value.\r\n * ```\r\n */\r\nexport class InvalidBytesBooleanError extends Errors.BaseError {\r\n  override readonly name = 'Bytes.InvalidBytesBooleanError'\r\n\r\n  constructor(bytes: Bytes) {\r\n    super(`Bytes value \\`${bytes}\\` is not a valid boolean.`, {\r\n      metaMessages: [\r\n        'The bytes array must contain a single byte of either a `0` or `1` value.',\r\n      ],\r\n    })\r\n  }\r\n}\r\n\r\n/**\r\n * Thrown when a value cannot be converted to bytes.\r\n *\r\n * @example\r\n * ```ts twoslash\r\n * // @noErrors\r\n * import { Bytes } from 'ox'\r\n *\r\n * Bytes.from('foo')\r\n * // @error: Bytes.InvalidBytesTypeError: Value `foo` of type `string` is an invalid Bytes value.\r\n * ```\r\n */\r\nexport class InvalidBytesTypeError extends Errors.BaseError {\r\n  override readonly name = 'Bytes.InvalidBytesTypeError'\r\n\r\n  constructor(value: unknown) {\r\n    super(\r\n      `Value \\`${typeof value === 'object' ? Json.stringify(value) : value}\\` of type \\`${typeof value}\\` is an invalid Bytes value.`,\r\n      {\r\n        metaMessages: ['Bytes values must be of type `Bytes`.'],\r\n      },\r\n    )\r\n  }\r\n}\r\n\r\n/**\r\n * Thrown when a size exceeds the maximum allowed size.\r\n *\r\n * @example\r\n * ```ts twoslash\r\n * import { Bytes } from 'ox'\r\n *\r\n * Bytes.fromString('Hello World!', { size: 8 })\r\n * // @error: Bytes.SizeOverflowError: Size cannot exceed `8` bytes. Given size: `12` bytes.\r\n * ```\r\n */\r\nexport class SizeOverflowError extends Errors.BaseError {\r\n  override readonly name = 'Bytes.SizeOverflowError'\r\n\r\n  constructor({ givenSize, maxSize }: { givenSize: number; maxSize: number }) {\r\n    super(\r\n      `Size cannot exceed \\`${maxSize}\\` bytes. Given size: \\`${givenSize}\\` bytes.`,\r\n    )\r\n  }\r\n}\r\n\r\n/**\r\n * Thrown when a slice offset is out-of-bounds.\r\n *\r\n * @example\r\n * ```ts twoslash\r\n * import { Bytes } from 'ox'\r\n *\r\n * Bytes.slice(Bytes.from([1, 2, 3]), 4)\r\n * // @error: Bytes.SliceOffsetOutOfBoundsError: Slice starting at offset `4` is out-of-bounds (size: `3`).\r\n * ```\r\n */\r\nexport class SliceOffsetOutOfBoundsError extends Errors.BaseError {\r\n  override readonly name = 'Bytes.SliceOffsetOutOfBoundsError'\r\n\r\n  constructor({\r\n    offset,\r\n    position,\r\n    size,\r\n  }: { offset: number; position: 'start' | 'end'; size: number }) {\r\n    super(\r\n      `Slice ${\r\n        position === 'start' ? 'starting' : 'ending'\r\n      } at offset \\`${offset}\\` is out-of-bounds (size: \\`${size}\\`).`,\r\n    )\r\n  }\r\n}\r\n\r\n/**\r\n * Thrown when a the padding size exceeds the maximum allowed size.\r\n *\r\n * @example\r\n * ```ts twoslash\r\n * import { Bytes } from 'ox'\r\n *\r\n * Bytes.padLeft(Bytes.fromString('Hello World!'), 8)\r\n * // @error: [Bytes.SizeExceedsPaddingSizeError: Bytes size (`12`) exceeds padding size (`8`).\r\n * ```\r\n */\r\nexport class SizeExceedsPaddingSizeError extends Errors.BaseError {\r\n  override readonly name = 'Bytes.SizeExceedsPaddingSizeError'\r\n\r\n  constructor({\r\n    size,\r\n    targetSize,\r\n    type,\r\n  }: {\r\n    size: number\r\n    targetSize: number\r\n    type: 'Hex' | 'Bytes'\r\n  }) {\r\n    super(\r\n      `${type.charAt(0).toUpperCase()}${type\r\n        .slice(1)\r\n        .toLowerCase()} size (\\`${size}\\`) exceeds padding size (\\`${targetSize}\\`).`,\r\n    )\r\n  }\r\n}\r\n", "import { equalBytes } from '@noble/curves/abstract/utils'\r\nimport * as Bytes from './Bytes.js'\r\nimport * as Errors from './Errors.js'\r\nimport * as Json from './Json.js'\r\nimport * as internal_bytes from './internal/bytes.js'\r\nimport * as internal from './internal/hex.js'\r\n\r\nconst encoder = /*#__PURE__*/ new TextEncoder()\r\n\r\nconst hexes = /*#__PURE__*/ Array.from({ length: 256 }, (_v, i) =>\r\n  i.toString(16).padStart(2, '0'),\r\n)\r\n\r\n/** Root type for a Hex string. */\r\nexport type Hex = `0x${string}`\r\n\r\n/**\r\n * Asserts if the given value is {@link ox#Hex.Hex}.\r\n *\r\n * @example\r\n * ```ts twoslash\r\n * import { Hex } from 'ox'\r\n *\r\n * Hex.assert('abc')\r\n * // @error: InvalidHexValueTypeError:\r\n * // @error: Value `\"abc\"` of type `string` is an invalid hex type.\r\n * // @error: Hex types must be represented as `\"0x\\${string}\"`.\r\n * ```\r\n *\r\n * @param value - The value to assert.\r\n * @param options - Options.\r\n */\r\nexport function assert(\r\n  value: unknown,\r\n  options: assert.Options = {},\r\n): asserts value is Hex {\r\n  const { strict = false } = options\r\n  if (!value) throw new InvalidHexTypeError(value)\r\n  if (typeof value !== 'string') throw new InvalidHexTypeError(value)\r\n  if (strict) {\r\n    if (!/^0x[0-9a-fA-F]*$/.test(value)) throw new InvalidHexValueError(value)\r\n  }\r\n  if (!value.startsWith('0x')) throw new InvalidHexValueError(value)\r\n}\r\n\r\nexport declare namespace assert {\r\n  type Options = {\r\n    /** Checks if the {@link ox#Hex.Hex} value contains invalid hexadecimal characters. @default false */\r\n    strict?: boolean | undefined\r\n  }\r\n\r\n  type ErrorType =\r\n    | InvalidHexTypeError\r\n    | InvalidHexValueError\r\n    | Errors.GlobalErrorType\r\n}\r\n\r\n/**\r\n * Concatenates two or more {@link ox#Hex.Hex}.\r\n *\r\n * @example\r\n * ```ts twoslash\r\n * import { Hex } from 'ox'\r\n *\r\n * Hex.concat('0x123', '0x456')\r\n * // @log: '0x123456'\r\n * ```\r\n *\r\n * @param values - The {@link ox#Hex.Hex} values to concatenate.\r\n * @returns The concatenated {@link ox#Hex.Hex} value.\r\n */\r\nexport function concat(...values: readonly Hex[]): Hex {\r\n  return `0x${(values as Hex[]).reduce((acc, x) => acc + x.replace('0x', ''), '')}`\r\n}\r\n\r\nexport declare namespace concat {\r\n  type ErrorType = Errors.GlobalErrorType\r\n}\r\n\r\n/**\r\n * Instantiates a {@link ox#Hex.Hex} value from a hex string or {@link ox#Bytes.Bytes} value.\r\n *\r\n * :::tip\r\n *\r\n * To instantiate from a **Boolean**, **String**, or **Number**, use one of the following:\r\n *\r\n * - `Hex.fromBoolean`\r\n *\r\n * - `Hex.fromString`\r\n *\r\n * - `Hex.fromNumber`\r\n *\r\n * :::\r\n *\r\n * @example\r\n * ```ts twoslash\r\n * import { Bytes, Hex } from 'ox'\r\n *\r\n * Hex.from('0x48656c6c6f20576f726c6421')\r\n * // @log: '0x48656c6c6f20576f726c6421'\r\n *\r\n * Hex.from(Bytes.from([72, 101, 108, 108, 111, 32, 87, 111, 114, 108, 100, 33]))\r\n * // @log: '0x48656c6c6f20576f726c6421'\r\n * ```\r\n *\r\n * @param value - The {@link ox#Bytes.Bytes} value to encode.\r\n * @returns The encoded {@link ox#Hex.Hex} value.\r\n */\r\nexport function from(value: Hex | Bytes.Bytes | readonly number[]): Hex {\r\n  if (value instanceof Uint8Array) return fromBytes(value)\r\n  if (Array.isArray(value)) return fromBytes(new Uint8Array(value))\r\n  return value as never\r\n}\r\n\r\nexport declare namespace from {\r\n  type Options = {\r\n    /** The size (in bytes) of the output hex value. */\r\n    size?: number | undefined\r\n  }\r\n\r\n  type ErrorType = fromBytes.ErrorType | Errors.GlobalErrorType\r\n}\r\n\r\n/**\r\n * Encodes a boolean into a {@link ox#Hex.Hex} value.\r\n *\r\n * @example\r\n * ```ts twoslash\r\n * import { Hex } from 'ox'\r\n *\r\n * Hex.fromBoolean(true)\r\n * // @log: '0x1'\r\n *\r\n * Hex.fromBoolean(false)\r\n * // @log: '0x0'\r\n *\r\n * Hex.fromBoolean(true, { size: 32 })\r\n * // @log: '0x0000000000000000000000000000000000000000000000000000000000000001'\r\n * ```\r\n *\r\n * @param value - The boolean value to encode.\r\n * @param options - Options.\r\n * @returns The encoded {@link ox#Hex.Hex} value.\r\n */\r\nexport function fromBoolean(\r\n  value: boolean,\r\n  options: fromBoolean.Options = {},\r\n): Hex {\r\n  const hex: Hex = `0x${Number(value)}`\r\n  if (typeof options.size === 'number') {\r\n    internal.assertSize(hex, options.size)\r\n    return padLeft(hex, options.size)\r\n  }\r\n  return hex\r\n}\r\n\r\nexport declare namespace fromBoolean {\r\n  type Options = {\r\n    /** The size (in bytes) of the output hex value. */\r\n    size?: number | undefined\r\n  }\r\n\r\n  type ErrorType =\r\n    | internal.assertSize.ErrorType\r\n    | padLeft.ErrorType\r\n    | Errors.GlobalErrorType\r\n}\r\n\r\n/**\r\n * Encodes a {@link ox#Bytes.Bytes} value into a {@link ox#Hex.Hex} value.\r\n *\r\n * @example\r\n * ```ts twoslash\r\n * import { Bytes, Hex } from 'ox'\r\n *\r\n * Hex.fromBytes(Bytes.from([72, 101, 108, 108, 111, 32, 87, 111, 114, 108, 100, 33]))\r\n * // @log: '0x48656c6c6f20576f726c6421'\r\n * ```\r\n *\r\n * @param value - The {@link ox#Bytes.Bytes} value to encode.\r\n * @param options - Options.\r\n * @returns The encoded {@link ox#Hex.Hex} value.\r\n */\r\nexport function fromBytes(\r\n  value: Bytes.Bytes,\r\n  options: fromBytes.Options = {},\r\n): Hex {\r\n  let string = ''\r\n  for (let i = 0; i < value.length; i++) string += hexes[value[i]!]\r\n  const hex = `0x${string}` as const\r\n\r\n  if (typeof options.size === 'number') {\r\n    internal.assertSize(hex, options.size)\r\n    return padRight(hex, options.size)\r\n  }\r\n  return hex\r\n}\r\n\r\nexport declare namespace fromBytes {\r\n  type Options = {\r\n    /** The size (in bytes) of the output hex value. */\r\n    size?: number | undefined\r\n  }\r\n\r\n  type ErrorType =\r\n    | internal.assertSize.ErrorType\r\n    | padRight.ErrorType\r\n    | Errors.GlobalErrorType\r\n}\r\n\r\n/**\r\n * Encodes a number or bigint into a {@link ox#Hex.Hex} value.\r\n *\r\n * @example\r\n * ```ts twoslash\r\n * import { Hex } from 'ox'\r\n *\r\n * Hex.fromNumber(420)\r\n * // @log: '0x1a4'\r\n *\r\n * Hex.fromNumber(420, { size: 32 })\r\n * // @log: '0x00000000000000000000000000000000000000000000000000000000000001a4'\r\n * ```\r\n *\r\n * @param value - The number or bigint value to encode.\r\n * @param options - Options.\r\n * @returns The encoded {@link ox#Hex.Hex} value.\r\n */\r\nexport function fromNumber(\r\n  value: number | bigint,\r\n  options: fromNumber.Options = {},\r\n): Hex {\r\n  const { signed, size } = options\r\n\r\n  const value_ = BigInt(value)\r\n\r\n  let maxValue: bigint | number | undefined\r\n  if (size) {\r\n    if (signed) maxValue = (1n << (BigInt(size) * 8n - 1n)) - 1n\r\n    else maxValue = 2n ** (BigInt(size) * 8n) - 1n\r\n  } else if (typeof value === 'number') {\r\n    maxValue = BigInt(Number.MAX_SAFE_INTEGER)\r\n  }\r\n\r\n  const minValue = typeof maxValue === 'bigint' && signed ? -maxValue - 1n : 0\r\n\r\n  if ((maxValue && value_ > maxValue) || value_ < minValue) {\r\n    const suffix = typeof value === 'bigint' ? 'n' : ''\r\n    throw new IntegerOutOfRangeError({\r\n      max: maxValue ? `${maxValue}${suffix}` : undefined,\r\n      min: `${minValue}${suffix}`,\r\n      signed,\r\n      size,\r\n      value: `${value}${suffix}`,\r\n    })\r\n  }\r\n\r\n  const stringValue = (\r\n    signed && value_ < 0 ? (1n << BigInt(size * 8)) + BigInt(value_) : value_\r\n  ).toString(16)\r\n\r\n  const hex = `0x${stringValue}` as Hex\r\n  if (size) return padLeft(hex, size) as Hex\r\n  return hex\r\n}\r\n\r\nexport declare namespace fromNumber {\r\n  type Options =\r\n    | {\r\n        /** Whether or not the number of a signed representation. */\r\n        signed?: boolean | undefined\r\n        /** The size (in bytes) of the output hex value. */\r\n        size: number\r\n      }\r\n    | {\r\n        signed?: undefined\r\n        /** The size (in bytes) of the output hex value. */\r\n        size?: number | undefined\r\n      }\r\n\r\n  type ErrorType =\r\n    | IntegerOutOfRangeError\r\n    | padLeft.ErrorType\r\n    | Errors.GlobalErrorType\r\n}\r\n\r\n/**\r\n * Encodes a string into a {@link ox#Hex.Hex} value.\r\n *\r\n * @example\r\n * ```ts twoslash\r\n * import { Hex } from 'ox'\r\n * Hex.fromString('Hello World!')\r\n * // '0x48656c6c6f20576f726c6421'\r\n *\r\n * Hex.fromString('Hello World!', { size: 32 })\r\n * // '0x48656c6c6f20576f726c64210000000000000000000000000000000000000000'\r\n * ```\r\n *\r\n * @param value - The string value to encode.\r\n * @param options - Options.\r\n * @returns The encoded {@link ox#Hex.Hex} value.\r\n */\r\nexport function fromString(\r\n  value: string,\r\n  options: fromString.Options = {},\r\n): Hex {\r\n  return fromBytes(encoder.encode(value), options)\r\n}\r\n\r\nexport declare namespace fromString {\r\n  type Options = {\r\n    /** The size (in bytes) of the output hex value. */\r\n    size?: number | undefined\r\n  }\r\n\r\n  type ErrorType = fromBytes.ErrorType | Errors.GlobalErrorType\r\n}\r\n\r\n/**\r\n * Checks if two {@link ox#Hex.Hex} values are equal.\r\n *\r\n * @example\r\n * ```ts twoslash\r\n * import { Hex } from 'ox'\r\n *\r\n * Hex.isEqual('0xdeadbeef', '0xdeadbeef')\r\n * // @log: true\r\n *\r\n * Hex.isEqual('0xda', '0xba')\r\n * // @log: false\r\n * ```\r\n *\r\n * @param hexA - The first {@link ox#Hex.Hex} value.\r\n * @param hexB - The second {@link ox#Hex.Hex} value.\r\n * @returns `true` if the two {@link ox#Hex.Hex} values are equal, `false` otherwise.\r\n */\r\nexport function isEqual(hexA: Hex, hexB: Hex) {\r\n  return equalBytes(Bytes.fromHex(hexA), Bytes.fromHex(hexB))\r\n}\r\n\r\nexport declare namespace isEqual {\r\n  type ErrorType = Bytes.fromHex.ErrorType | Errors.GlobalErrorType\r\n}\r\n\r\n/**\r\n * Pads a {@link ox#Hex.Hex} value to the left with zero bytes until it reaches the given `size` (default: 32 bytes).\r\n *\r\n * @example\r\n * ```ts twoslash\r\n * import { Hex } from 'ox'\r\n *\r\n * Hex.padLeft('0x1234', 4)\r\n * // @log: '0x00001234'\r\n * ```\r\n *\r\n * @param value - The {@link ox#Hex.Hex} value to pad.\r\n * @param size - The size (in bytes) of the output hex value.\r\n * @returns The padded {@link ox#Hex.Hex} value.\r\n */\r\nexport function padLeft(\r\n  value: Hex,\r\n  size?: number | undefined,\r\n): padLeft.ReturnType {\r\n  return internal.pad(value, { dir: 'left', size })\r\n}\r\n\r\nexport declare namespace padLeft {\r\n  type ReturnType = Hex\r\n  type ErrorType = internal.pad.ErrorType | Errors.GlobalErrorType\r\n}\r\n\r\n/**\r\n * Pads a {@link ox#Hex.Hex} value to the right with zero bytes until it reaches the given `size` (default: 32 bytes).\r\n *\r\n * @example\r\n * ```ts\r\n * import { Hex } from 'ox'\r\n *\r\n * Hex.padRight('0x1234', 4)\r\n * // @log: '0x12340000'\r\n * ```\r\n *\r\n * @param value - The {@link ox#Hex.Hex} value to pad.\r\n * @param size - The size (in bytes) of the output hex value.\r\n * @returns The padded {@link ox#Hex.Hex} value.\r\n */\r\nexport function padRight(\r\n  value: Hex,\r\n  size?: number | undefined,\r\n): padRight.ReturnType {\r\n  return internal.pad(value, { dir: 'right', size })\r\n}\r\n\r\nexport declare namespace padRight {\r\n  type ReturnType = Hex\r\n  type ErrorType = internal.pad.ErrorType | Errors.GlobalErrorType\r\n}\r\n\r\n/**\r\n * Generates a random {@link ox#Hex.Hex} value of the specified length.\r\n *\r\n * @example\r\n * ```ts twoslash\r\n * import { Hex } from 'ox'\r\n *\r\n * const hex = Hex.random(32)\r\n * // @log: '0x...'\r\n * ```\r\n *\r\n * @returns Random {@link ox#Hex.Hex} value.\r\n */\r\nexport function random(length: number): Hex {\r\n  return fromBytes(Bytes.random(length))\r\n}\r\n\r\nexport declare namespace random {\r\n  type ErrorType = Errors.GlobalErrorType\r\n}\r\n\r\n/**\r\n * Returns a section of a {@link ox#Bytes.Bytes} value given a start/end bytes offset.\r\n *\r\n * @example\r\n * ```ts twoslash\r\n * import { Hex } from 'ox'\r\n *\r\n * Hex.slice('0x0123456789', 1, 4)\r\n * // @log: '0x234567'\r\n * ```\r\n *\r\n * @param value - The {@link ox#Hex.Hex} value to slice.\r\n * @param start - The start offset (in bytes).\r\n * @param end - The end offset (in bytes).\r\n * @param options - Options.\r\n * @returns The sliced {@link ox#Hex.Hex} value.\r\n */\r\nexport function slice(\r\n  value: Hex,\r\n  start?: number | undefined,\r\n  end?: number | undefined,\r\n  options: slice.Options = {},\r\n): Hex {\r\n  const { strict } = options\r\n  internal.assertStartOffset(value, start)\r\n  const value_ = `0x${value\r\n    .replace('0x', '')\r\n    .slice((start ?? 0) * 2, (end ?? value.length) * 2)}` as const\r\n  if (strict) internal.assertEndOffset(value_, start, end)\r\n  return value_\r\n}\r\n\r\nexport declare namespace slice {\r\n  type Options = {\r\n    /** Asserts that the sliced value is the same size as the given start/end offsets. */\r\n    strict?: boolean | undefined\r\n  }\r\n\r\n  type ErrorType =\r\n    | internal.assertStartOffset.ErrorType\r\n    | internal.assertEndOffset.ErrorType\r\n    | Errors.GlobalErrorType\r\n}\r\n\r\n/**\r\n * Retrieves the size of a {@link ox#Hex.Hex} value (in bytes).\r\n *\r\n * @example\r\n * ```ts twoslash\r\n * import { Hex } from 'ox'\r\n *\r\n * Hex.size('0xdeadbeef')\r\n * // @log: 4\r\n * ```\r\n *\r\n * @param value - The {@link ox#Hex.Hex} value to get the size of.\r\n * @returns The size of the {@link ox#Hex.Hex} value (in bytes).\r\n */\r\nexport function size(value: Hex): number {\r\n  return Math.ceil((value.length - 2) / 2)\r\n}\r\n\r\nexport declare namespace size {\r\n  export type ErrorType = Errors.GlobalErrorType\r\n}\r\n\r\n/**\r\n * Trims leading zeros from a {@link ox#Hex.Hex} value.\r\n *\r\n * @example\r\n * ```ts twoslash\r\n * import { Hex } from 'ox'\r\n *\r\n * Hex.trimLeft('0x00000000deadbeef')\r\n * // @log: '0xdeadbeef'\r\n * ```\r\n *\r\n * @param value - The {@link ox#Hex.Hex} value to trim.\r\n * @returns The trimmed {@link ox#Hex.Hex} value.\r\n */\r\nexport function trimLeft(value: Hex): trimLeft.ReturnType {\r\n  return internal.trim(value, { dir: 'left' })\r\n}\r\n\r\nexport declare namespace trimLeft {\r\n  type ReturnType = Hex\r\n\r\n  type ErrorType = internal.trim.ErrorType | Errors.GlobalErrorType\r\n}\r\n\r\n/**\r\n * Trims trailing zeros from a {@link ox#Hex.Hex} value.\r\n *\r\n * @example\r\n * ```ts twoslash\r\n * import { Hex } from 'ox'\r\n *\r\n * Hex.trimRight('0xdeadbeef00000000')\r\n * // @log: '0xdeadbeef'\r\n * ```\r\n *\r\n * @param value - The {@link ox#Hex.Hex} value to trim.\r\n * @returns The trimmed {@link ox#Hex.Hex} value.\r\n */\r\nexport function trimRight(value: Hex): trimRight.ReturnType {\r\n  return internal.trim(value, { dir: 'right' })\r\n}\r\n\r\nexport declare namespace trimRight {\r\n  type ReturnType = Hex\r\n\r\n  type ErrorType = internal.trim.ErrorType | Errors.GlobalErrorType\r\n}\r\n\r\n/**\r\n * Decodes a {@link ox#Hex.Hex} value into a BigInt.\r\n *\r\n * @example\r\n * ```ts twoslash\r\n * import { Hex } from 'ox'\r\n *\r\n * Hex.toBigInt('0x1a4')\r\n * // @log: 420n\r\n *\r\n * Hex.toBigInt('0x00000000000000000000000000000000000000000000000000000000000001a4', { size: 32 })\r\n * // @log: 420n\r\n * ```\r\n *\r\n * @param hex - The {@link ox#Hex.Hex} value to decode.\r\n * @param options - Options.\r\n * @returns The decoded BigInt.\r\n */\r\nexport function toBigInt(hex: Hex, options: toBigInt.Options = {}): bigint {\r\n  const { signed } = options\r\n\r\n  if (options.size) internal.assertSize(hex, options.size)\r\n\r\n  const value = BigInt(hex)\r\n  if (!signed) return value\r\n\r\n  const size = (hex.length - 2) / 2\r\n\r\n  const max_unsigned = (1n << (BigInt(size) * 8n)) - 1n\r\n  const max_signed = max_unsigned >> 1n\r\n\r\n  if (value <= max_signed) return value\r\n  return value - max_unsigned - 1n\r\n}\r\n\r\nexport declare namespace toBigInt {\r\n  type Options = {\r\n    /** Whether or not the number of a signed representation. */\r\n    signed?: boolean | undefined\r\n    /** Size (in bytes) of the hex value. */\r\n    size?: number | undefined\r\n  }\r\n\r\n  type ErrorType = internal.assertSize.ErrorType | Errors.GlobalErrorType\r\n}\r\n\r\n/**\r\n * Decodes a {@link ox#Hex.Hex} value into a boolean.\r\n *\r\n * @example\r\n * ```ts twoslash\r\n * import { Hex } from 'ox'\r\n *\r\n * Hex.toBoolean('0x01')\r\n * // @log: true\r\n *\r\n * Hex.toBoolean('0x0000000000000000000000000000000000000000000000000000000000000001', { size: 32 })\r\n * // @log: true\r\n * ```\r\n *\r\n * @param hex - The {@link ox#Hex.Hex} value to decode.\r\n * @param options - Options.\r\n * @returns The decoded boolean.\r\n */\r\nexport function toBoolean(hex: Hex, options: toBoolean.Options = {}): boolean {\r\n  if (options.size) internal.assertSize(hex, options.size)\r\n  const hex_ = trimLeft(hex)\r\n  if (hex_ === '0x') return false\r\n  if (hex_ === '0x1') return true\r\n  throw new InvalidHexBooleanError(hex)\r\n}\r\n\r\nexport declare namespace toBoolean {\r\n  type Options = {\r\n    /** Size (in bytes) of the hex value. */\r\n    size?: number | undefined\r\n  }\r\n\r\n  type ErrorType =\r\n    | internal.assertSize.ErrorType\r\n    | trimLeft.ErrorType\r\n    | InvalidHexBooleanError\r\n    | Errors.GlobalErrorType\r\n}\r\n\r\n/**\r\n * Decodes a {@link ox#Hex.Hex} value into a {@link ox#Bytes.Bytes}.\r\n *\r\n * @example\r\n * ```ts twoslash\r\n * import { Hex } from 'ox'\r\n *\r\n * const data = Hex.toBytes('0x48656c6c6f20776f726c6421')\r\n * // @log: Uint8Array([72, 101, 108, 108, 111, 32, 87, 111, 114, 108, 100, 33])\r\n * ```\r\n *\r\n * @param hex - The {@link ox#Hex.Hex} value to decode.\r\n * @param options - Options.\r\n * @returns The decoded {@link ox#Bytes.Bytes}.\r\n */\r\nexport function toBytes(hex: Hex, options: toBytes.Options = {}): Bytes.Bytes {\r\n  return Bytes.fromHex(hex, options)\r\n}\r\n\r\nexport declare namespace toBytes {\r\n  type Options = {\r\n    /** Size (in bytes) of the hex value. */\r\n    size?: number | undefined\r\n  }\r\n\r\n  type ErrorType = Bytes.fromHex.ErrorType | Errors.GlobalErrorType\r\n}\r\n\r\n/**\r\n * Decodes a {@link ox#Hex.Hex} value into a number.\r\n *\r\n * @example\r\n * ```ts twoslash\r\n * import { Hex } from 'ox'\r\n *\r\n * Hex.toNumber('0x1a4')\r\n * // @log: 420\r\n *\r\n * Hex.toNumber('0x00000000000000000000000000000000000000000000000000000000000001a4', { size: 32 })\r\n * // @log: 420\r\n * ```\r\n *\r\n * @param hex - The {@link ox#Hex.Hex} value to decode.\r\n * @param options - Options.\r\n * @returns The decoded number.\r\n */\r\nexport function toNumber(hex: Hex, options: toNumber.Options = {}): number {\r\n  const { signed, size } = options\r\n  if (!signed && !size) return Number(hex)\r\n  return Number(toBigInt(hex, options))\r\n}\r\n\r\nexport declare namespace toNumber {\r\n  type Options = toBigInt.Options\r\n\r\n  type ErrorType = toBigInt.ErrorType | Errors.GlobalErrorType\r\n}\r\n\r\n/**\r\n * Decodes a {@link ox#Hex.Hex} value into a string.\r\n *\r\n * @example\r\n * ```ts twoslash\r\n * import { Hex } from 'ox'\r\n *\r\n * Hex.toString('0x48656c6c6f20576f726c6421')\r\n * // @log: 'Hello world!'\r\n *\r\n * Hex.toString('0x48656c6c6f20576f726c64210000000000000000000000000000000000000000', {\r\n *  size: 32,\r\n * })\r\n * // @log: 'Hello world'\r\n * ```\r\n *\r\n * @param hex - The {@link ox#Hex.Hex} value to decode.\r\n * @param options - Options.\r\n * @returns The decoded string.\r\n */\r\nexport function toString(hex: Hex, options: toString.Options = {}): string {\r\n  const { size } = options\r\n\r\n  let bytes = Bytes.fromHex(hex)\r\n  if (size) {\r\n    internal_bytes.assertSize(bytes, size)\r\n    bytes = Bytes.trimRight(bytes)\r\n  }\r\n  return new TextDecoder().decode(bytes)\r\n}\r\n\r\nexport declare namespace toString {\r\n  type Options = {\r\n    /** Size (in bytes) of the hex value. */\r\n    size?: number | undefined\r\n  }\r\n\r\n  type ErrorType =\r\n    | internal_bytes.assertSize.ErrorType\r\n    | Bytes.fromHex.ErrorType\r\n    | Bytes.trimRight.ErrorType\r\n    | Errors.GlobalErrorType\r\n}\r\n\r\n/**\r\n * Checks if the given value is {@link ox#Hex.Hex}.\r\n *\r\n * @example\r\n * ```ts twoslash\r\n * import { Bytes, Hex } from 'ox'\r\n *\r\n * Hex.validate('0xdeadbeef')\r\n * // @log: true\r\n *\r\n * Hex.validate(Bytes.from([1, 2, 3]))\r\n * // @log: false\r\n * ```\r\n *\r\n * @param value - The value to check.\r\n * @param options - Options.\r\n * @returns `true` if the value is a {@link ox#Hex.Hex}, `false` otherwise.\r\n */\r\nexport function validate(\r\n  value: unknown,\r\n  options: validate.Options = {},\r\n): value is Hex {\r\n  const { strict = false } = options\r\n  try {\r\n    assert(value, { strict })\r\n    return true\r\n  } catch {\r\n    return false\r\n  }\r\n}\r\n\r\nexport declare namespace validate {\r\n  type Options = {\r\n    /** Checks if the {@link ox#Hex.Hex} value contains invalid hexadecimal characters. @default false */\r\n    strict?: boolean | undefined\r\n  }\r\n\r\n  type ErrorType = Errors.GlobalErrorType\r\n}\r\n\r\n/**\r\n * Thrown when the provided integer is out of range, and cannot be represented as a hex value.\r\n *\r\n * @example\r\n * ```ts twoslash\r\n * import { Hex } from 'ox'\r\n *\r\n * Hex.fromNumber(420182738912731283712937129)\r\n * // @error: Hex.IntegerOutOfRangeError: Number \\`4.2018273891273126e+26\\` is not in safe unsigned integer range (`0` to `9007199254740991`)\r\n * ```\r\n */\r\nexport class IntegerOutOfRangeError extends Errors.BaseError {\r\n  override readonly name = 'Hex.IntegerOutOfRangeError'\r\n\r\n  constructor({\r\n    max,\r\n    min,\r\n    signed,\r\n    size,\r\n    value,\r\n  }: {\r\n    max?: string | undefined\r\n    min: string\r\n    signed?: boolean | undefined\r\n    size?: number | undefined\r\n    value: string\r\n  }) {\r\n    super(\r\n      `Number \\`${value}\\` is not in safe${\r\n        size ? ` ${size * 8}-bit` : ''\r\n      }${signed ? ' signed' : ' unsigned'} integer range ${max ? `(\\`${min}\\` to \\`${max}\\`)` : `(above \\`${min}\\`)`}`,\r\n    )\r\n  }\r\n}\r\n\r\n/**\r\n * Thrown when the provided hex value cannot be represented as a boolean.\r\n *\r\n * @example\r\n * ```ts twoslash\r\n * import { Hex } from 'ox'\r\n *\r\n * Hex.toBoolean('0xa')\r\n * // @error: Hex.InvalidHexBooleanError: Hex value `\"0xa\"` is not a valid boolean.\r\n * // @error: The hex value must be `\"0x0\"` (false) or `\"0x1\"` (true).\r\n * ```\r\n */\r\nexport class InvalidHexBooleanError extends Errors.BaseError {\r\n  override readonly name = 'Hex.InvalidHexBooleanError'\r\n\r\n  constructor(hex: Hex) {\r\n    super(`Hex value \\`\"${hex}\"\\` is not a valid boolean.`, {\r\n      metaMessages: [\r\n        'The hex value must be `\"0x0\"` (false) or `\"0x1\"` (true).',\r\n      ],\r\n    })\r\n  }\r\n}\r\n\r\n/**\r\n * Thrown when the provided value is not a valid hex type.\r\n *\r\n * @example\r\n * ```ts twoslash\r\n * import { Hex } from 'ox'\r\n *\r\n * Hex.assert(1)\r\n * // @error: Hex.InvalidHexTypeError: Value `1` of type `number` is an invalid hex type.\r\n * ```\r\n */\r\nexport class InvalidHexTypeError extends Errors.BaseError {\r\n  override readonly name = 'Hex.InvalidHexTypeError'\r\n\r\n  constructor(value: unknown) {\r\n    super(\r\n      `Value \\`${typeof value === 'object' ? Json.stringify(value) : value}\\` of type \\`${typeof value}\\` is an invalid hex type.`,\r\n      {\r\n        metaMessages: ['Hex types must be represented as `\"0x${string}\"`.'],\r\n      },\r\n    )\r\n  }\r\n}\r\n\r\n/**\r\n * Thrown when the provided hex value is invalid.\r\n *\r\n * @example\r\n * ```ts twoslash\r\n * import { Hex } from 'ox'\r\n *\r\n * Hex.assert('0x0123456789abcdefg')\r\n * // @error: Hex.InvalidHexValueError: Value `0x0123456789abcdefg` is an invalid hex value.\r\n * // @error: Hex values must start with `\"0x\"` and contain only hexadecimal characters (0-9, a-f, A-F).\r\n * ```\r\n */\r\nexport class InvalidHexValueError extends Errors.BaseError {\r\n  override readonly name = 'Hex.InvalidHexValueError'\r\n\r\n  constructor(value: unknown) {\r\n    super(`Value \\`${value}\\` is an invalid hex value.`, {\r\n      metaMessages: [\r\n        'Hex values must start with `\"0x\"` and contain only hexadecimal characters (0-9, a-f, A-F).',\r\n      ],\r\n    })\r\n  }\r\n}\r\n\r\n/**\r\n * Thrown when the provided hex value is an odd length.\r\n *\r\n * @example\r\n * ```ts twoslash\r\n * import { Bytes } from 'ox'\r\n *\r\n * Bytes.fromHex('0xabcde')\r\n * // @error: Hex.InvalidLengthError: Hex value `\"0xabcde\"` is an odd length (5 nibbles).\r\n * ```\r\n */\r\nexport class InvalidLengthError extends Errors.BaseError {\r\n  override readonly name = 'Hex.InvalidLengthError'\r\n\r\n  constructor(value: Hex) {\r\n    super(\r\n      `Hex value \\`\"${value}\"\\` is an odd length (${value.length - 2} nibbles).`,\r\n      {\r\n        metaMessages: ['It must be an even length.'],\r\n      },\r\n    )\r\n  }\r\n}\r\n\r\n/**\r\n * Thrown when the size of the value exceeds the expected max size.\r\n *\r\n * @example\r\n * ```ts twoslash\r\n * import { Hex } from 'ox'\r\n *\r\n * Hex.fromString('Hello World!', { size: 8 })\r\n * // @error: Hex.SizeOverflowError: Size cannot exceed `8` bytes. Given size: `12` bytes.\r\n * ```\r\n */\r\nexport class SizeOverflowError extends Errors.BaseError {\r\n  override readonly name = 'Hex.SizeOverflowError'\r\n\r\n  constructor({ givenSize, maxSize }: { givenSize: number; maxSize: number }) {\r\n    super(\r\n      `Size cannot exceed \\`${maxSize}\\` bytes. Given size: \\`${givenSize}\\` bytes.`,\r\n    )\r\n  }\r\n}\r\n\r\n/**\r\n * Thrown when the slice offset exceeds the bounds of the value.\r\n *\r\n * @example\r\n * ```ts twoslash\r\n * import { Hex } from 'ox'\r\n *\r\n * Hex.slice('0x0123456789', 6)\r\n * // @error: Hex.SliceOffsetOutOfBoundsError: Slice starting at offset `6` is out-of-bounds (size: `5`).\r\n * ```\r\n */\r\nexport class SliceOffsetOutOfBoundsError extends Errors.BaseError {\r\n  override readonly name = 'Hex.SliceOffsetOutOfBoundsError'\r\n\r\n  constructor({\r\n    offset,\r\n    position,\r\n    size,\r\n  }: { offset: number; position: 'start' | 'end'; size: number }) {\r\n    super(\r\n      `Slice ${\r\n        position === 'start' ? 'starting' : 'ending'\r\n      } at offset \\`${offset}\\` is out-of-bounds (size: \\`${size}\\`).`,\r\n    )\r\n  }\r\n}\r\n\r\n/**\r\n * Thrown when the size of the value exceeds the pad size.\r\n *\r\n * @example\r\n * ```ts twoslash\r\n * import { Hex } from 'ox'\r\n *\r\n * Hex.padLeft('0x1a4e12a45a21323123aaa87a897a897a898a6567a578a867a98778a667a85a875a87a6a787a65a675a6a9', 32)\r\n * // @error: Hex.SizeExceedsPaddingSizeError: Hex size (`43`) exceeds padding size (`32`).\r\n * ```\r\n */\r\nexport class SizeExceedsPaddingSizeError extends Errors.BaseError {\r\n  override readonly name = 'Hex.SizeExceedsPaddingSizeError'\r\n\r\n  constructor({\r\n    size,\r\n    targetSize,\r\n    type,\r\n  }: {\r\n    size: number\r\n    targetSize: number\r\n    type: 'Hex' | 'Bytes'\r\n  }) {\r\n    super(\r\n      `${type.charAt(0).toUpperCase()}${type\r\n        .slice(1)\r\n        .toLowerCase()} size (\\`${size}\\`) exceeds padding size (\\`${targetSize}\\`).`,\r\n    )\r\n  }\r\n}\r\n", "import { ripemd160 as noble_ripemd160 } from '@noble/hashes/ripemd160'\r\nimport { keccak_256 as noble_keccak256 } from '@noble/hashes/sha3'\r\nimport { sha256 as noble_sha256 } from '@noble/hashes/sha256'\r\nimport * as Bytes from './Bytes.js'\r\nimport type * as Errors from './Errors.js'\r\nimport * as Hex from './Hex.js'\r\n\r\n/**\r\n * Calculates the [Keccak256](https://en.wikipedia.org/wiki/SHA-3) hash of a {@link ox#Bytes.Bytes} or {@link ox#Hex.Hex} value.\r\n *\r\n * This function is a re-export of `keccak_256` from [`@noble/hashes`](https://github.com/paulmillr/noble-hashes), an audited & minimal JS hashing library.\r\n *\r\n * @example\r\n * ```ts twoslash\r\n * import { Hash } from 'ox'\r\n *\r\n * Hash.keccak256('0xdeadbeef')\r\n * // @log: '0xd4fd4e189132273036449fc9e11198c739161b4c0116a9a2dccdfa1c492006f1'\r\n * ```\r\n *\r\n * @example\r\n * ### Calculate Hash of a String\r\n *\r\n * ```ts twoslash\r\n * import { Hash, Hex } from 'ox'\r\n *\r\n * Hash.keccak256(Hex.fromString('hello world'))\r\n * // @log: '0x3ea2f1d0abf3fc66cf29eebb70cbd4e7fe762ef8a09bcc06c8edf641230afec0'\r\n * ```\r\n *\r\n * @example\r\n * ### Configure Return Type\r\n *\r\n * ```ts twoslash\r\n * import { Hash } from 'ox'\r\n *\r\n * Hash.keccak256('0xdeadbeef', { as: 'Bytes' })\r\n * // @log: Uint8Array [...]\r\n * ```\r\n *\r\n * @param value - {@link ox#Bytes.Bytes} or {@link ox#Hex.Hex} value.\r\n * @param options - Options.\r\n * @returns Keccak256 hash.\r\n */\r\nexport function keccak256<\r\n  value extends Hex.Hex | Bytes.Bytes,\r\n  as extends 'Hex' | 'Bytes' =\r\n    | (value extends Hex.Hex ? 'Hex' : never)\r\n    | (value extends Bytes.Bytes ? 'Bytes' : never),\r\n>(\r\n  value: value | Hex.Hex | Bytes.Bytes,\r\n  options: keccak256.Options<as> = {},\r\n): keccak256.ReturnType<as> {\r\n  const { as = typeof value === 'string' ? 'Hex' : 'Bytes' } = options\r\n  const bytes = noble_keccak256(Bytes.from(value))\r\n  if (as === 'Bytes') return bytes as never\r\n  return Hex.fromBytes(bytes) as never\r\n}\r\n\r\nexport declare namespace keccak256 {\r\n  type Options<as extends 'Hex' | 'Bytes' = 'Hex' | 'Bytes'> = {\r\n    /** The return type. @default 'Hex' */\r\n    as?: as | 'Hex' | 'Bytes' | undefined\r\n  }\r\n\r\n  type ReturnType<as extends 'Hex' | 'Bytes' = 'Hex' | 'Bytes'> =\r\n    | (as extends 'Bytes' ? Bytes.Bytes : never)\r\n    | (as extends 'Hex' ? Hex.Hex : never)\r\n\r\n  type ErrorType =\r\n    | Bytes.from.ErrorType\r\n    | Hex.fromBytes.ErrorType\r\n    | Errors.GlobalErrorType\r\n}\r\n\r\n/**\r\n * Calculates the [Ripemd160](https://en.wikipedia.org/wiki/RIPEMD) hash of a {@link ox#Bytes.Bytes} or {@link ox#Hex.Hex} value.\r\n *\r\n * This function is a re-export of `ripemd160` from [`@noble/hashes`](https://github.com/paulmillr/noble-hashes), an audited & minimal JS hashing library.\r\n *\r\n * @example\r\n * ```ts twoslash\r\n * import { Hash } from 'ox'\r\n *\r\n * Hash.ripemd160('0xdeadbeef')\r\n * // '0x226821c2f5423e11fe9af68bd285c249db2e4b5a'\r\n * ```\r\n *\r\n * @param value - {@link ox#Bytes.Bytes} or {@link ox#Hex.Hex} value.\r\n * @param options - Options.\r\n * @returns Ripemd160 hash.\r\n */\r\nexport function ripemd160<\r\n  value extends Hex.Hex | Bytes.Bytes,\r\n  as extends 'Hex' | 'Bytes' =\r\n    | (value extends Hex.Hex ? 'Hex' : never)\r\n    | (value extends Bytes.Bytes ? 'Bytes' : never),\r\n>(\r\n  value: value | Hex.Hex | Bytes.Bytes,\r\n  options: ripemd160.Options<as> = {},\r\n): ripemd160.ReturnType<as> {\r\n  const { as = typeof value === 'string' ? 'Hex' : 'Bytes' } = options\r\n  const bytes = noble_ripemd160(Bytes.from(value))\r\n  if (as === 'Bytes') return bytes as never\r\n  return Hex.fromBytes(bytes) as never\r\n}\r\n\r\nexport declare namespace ripemd160 {\r\n  type Options<as extends 'Hex' | 'Bytes' = 'Hex' | 'Bytes'> = {\r\n    /** The return type. @default 'Hex' */\r\n    as?: as | 'Hex' | 'Bytes' | undefined\r\n  }\r\n\r\n  type ReturnType<as extends 'Hex' | 'Bytes' = 'Hex' | 'Bytes'> =\r\n    | (as extends 'Bytes' ? Bytes.Bytes : never)\r\n    | (as extends 'Hex' ? Hex.Hex : never)\r\n\r\n  type ErrorType =\r\n    | Bytes.from.ErrorType\r\n    | Hex.fromBytes.ErrorType\r\n    | Errors.GlobalErrorType\r\n}\r\n\r\n/**\r\n * Calculates the [Sha256](https://en.wikipedia.org/wiki/SHA-256) hash of a {@link ox#Bytes.Bytes} or {@link ox#Hex.Hex} value.\r\n *\r\n * This function is a re-export of `sha256` from [`@noble/hashes`](https://github.com/paulmillr/noble-hashes), an audited & minimal JS hashing library.\r\n *\r\n * @example\r\n * ```ts twoslash\r\n * import { Hash } from 'ox'\r\n *\r\n * Hash.sha256('0xdeadbeef')\r\n * // '0x5f78c33274e43fa9de5659265c1d917e25c03722dcb0b8d27db8d5feaa813953'\r\n * ```\r\n *\r\n * @param value - {@link ox#Bytes.Bytes} or {@link ox#Hex.Hex} value.\r\n * @param options - Options.\r\n * @returns Sha256 hash.\r\n */\r\nexport function sha256<\r\n  value extends Hex.Hex | Bytes.Bytes,\r\n  as extends 'Hex' | 'Bytes' =\r\n    | (value extends Hex.Hex ? 'Hex' : never)\r\n    | (value extends Bytes.Bytes ? 'Bytes' : never),\r\n>(\r\n  value: value | Hex.Hex | Bytes.Bytes,\r\n  options: sha256.Options<as> = {},\r\n): sha256.ReturnType<as> {\r\n  const { as = typeof value === 'string' ? 'Hex' : 'Bytes' } = options\r\n  const bytes = noble_sha256(Bytes.from(value))\r\n  if (as === 'Bytes') return bytes as never\r\n  return Hex.fromBytes(bytes) as never\r\n}\r\n\r\nexport declare namespace sha256 {\r\n  type Options<as extends 'Hex' | 'Bytes' = 'Hex'> = {\r\n    /** The return type. @default 'Hex' */\r\n    as?: as | 'Hex' | 'Bytes' | undefined\r\n  }\r\n\r\n  type ReturnType<as extends 'Hex' | 'Bytes' = 'Hex'> =\r\n    | (as extends 'Bytes' ? Bytes.Bytes : never)\r\n    | (as extends 'Hex' ? Hex.Hex : never)\r\n\r\n  type ErrorType =\r\n    | Bytes.from.ErrorType\r\n    | Hex.fromBytes.ErrorType\r\n    | Errors.GlobalErrorType\r\n}\r\n\r\n/**\r\n * Checks if a string is a valid hash value.\r\n *\r\n * @example\r\n * ```ts twoslash\r\n * import { Hash } from 'ox'\r\n *\r\n * Hash.validate('0x')\r\n * // @log: false\r\n *\r\n * Hash.validate('0x3ea2f1d0abf3fc66cf29eebb70cbd4e7fe762ef8a09bcc06c8edf641230afec0')\r\n * // @log: true\r\n * ```\r\n *\r\n * @param value - Value to check.\r\n * @returns Whether the value is a valid hash.\r\n */\r\nexport function validate(value: string): value is Hex.Hex {\r\n  return Hex.validate(value) && Hex.size(value) === 32\r\n}\r\n\r\nexport declare namespace validate {\r\n  type ErrorType =\r\n    | Hex.validate.ErrorType\r\n    | Hex.size.ErrorType\r\n    | Errors.GlobalErrorType\r\n}\r\n", "/**\r\n * @internal\r\n *\r\n * Map with a LRU (Least recently used) policy.\r\n * @see https://en.wikipedia.org/wiki/Cache_replacement_policies#LRU\r\n */\r\nexport class LruMap<value = unknown> extends Map<string, value> {\r\n  maxSize: number\r\n\r\n  constructor(size: number) {\r\n    super()\r\n    this.maxSize = size\r\n  }\r\n\r\n  override get(key: string) {\r\n    const value = super.get(key)\r\n\r\n    if (super.has(key) && value !== undefined) {\r\n      this.delete(key)\r\n      super.set(key, value)\r\n    }\r\n\r\n    return value\r\n  }\r\n\r\n  override set(key: string, value: value) {\r\n    super.set(key, value)\r\n    if (this.maxSize && this.size > this.maxSize) {\r\n      const firstKey = this.keys().next().value\r\n      if (firstKey) this.delete(firstKey)\r\n    }\r\n    return this\r\n  }\r\n}\r\n", "import type * as Address from './Address.js'\r\nimport { LruMap } from './internal/lru.js'\r\n\r\nconst caches = {\r\n  checksum: /*#__PURE__*/ new LruMap<Address.Address>(8192),\r\n}\r\n\r\nexport const checksum = caches.checksum\r\n\r\n/**\r\n * Clears all global caches.\r\n *\r\n * @example\r\n * ```ts\r\n * import { Caches } from 'ox'\r\n * Caches.clear()\r\n * ```\r\n */\r\nexport function clear() {\r\n  for (const cache of Object.values(caches)) cache.clear()\r\n}\r\n", "import type { Address as abitype_Address } from 'abitype'\r\nimport * as Bytes from './Bytes.js'\r\nimport * as Caches from './Caches.js'\r\nimport * as Errors from './Errors.js'\r\nimport * as Hash from './Hash.js'\r\nimport * as PublicKey from './PublicKey.js'\r\n\r\nconst addressRegex = /*#__PURE__*/ /^0x[a-fA-F0-9]{40}$/\r\n\r\n/** Root type for Address. */\r\nexport type Address = abitype_Address\r\n\r\n/**\r\n * Asserts that the given value is a valid {@link ox#Address.Address}.\r\n *\r\n * @example\r\n * ```ts twoslash\r\n * import { Address } from 'ox'\r\n *\r\n * Address.assert('0xA0Cf798816D4b9b9866b5330EEa46a18382f251e')\r\n * ```\r\n *\r\n * @example\r\n * ```ts twoslash\r\n * import { Address } from 'ox'\r\n *\r\n * Address.assert('0xdeadbeef')\r\n * // @error: InvalidAddressError: Address \"0xdeadbeef\" is invalid.\r\n * ```\r\n *\r\n * @param value - Value to assert if it is a valid address.\r\n * @param options - Assertion options.\r\n */\r\nexport function assert(\r\n  value: string,\r\n  options: assert.Options = {},\r\n): asserts value is Address {\r\n  const { strict = true } = options\r\n\r\n  if (!addressRegex.test(value))\r\n    throw new InvalidAddressError({\r\n      address: value,\r\n      cause: new InvalidInputError(),\r\n    })\r\n\r\n  if (strict) {\r\n    if (value.toLowerCase() === value) return\r\n    if (checksum(value as Address) !== value)\r\n      throw new InvalidAddressError({\r\n        address: value,\r\n        cause: new InvalidChecksumError(),\r\n      })\r\n  }\r\n}\r\n\r\nexport declare namespace assert {\r\n  type Options = {\r\n    /**\r\n     * Enables strict mode. Whether or not to compare the address against its checksum.\r\n     *\r\n     * @default true\r\n     */\r\n    strict?: boolean | undefined\r\n  }\r\n\r\n  type ErrorType = InvalidAddressError | Errors.GlobalErrorType\r\n}\r\n\r\n/**\r\n * Computes the checksum address for the given {@link ox#Address.Address}.\r\n *\r\n * @example\r\n * ```ts twoslash\r\n * import { Address } from 'ox'\r\n *\r\n * Address.checksum('0xa0cf798816d4b9b9866b5330eea46a18382f251e')\r\n * // @log: '0xA0Cf798816D4b9b9866b5330EEa46a18382f251e'\r\n * ```\r\n *\r\n * @param address - The address to compute the checksum for.\r\n * @returns The checksummed address.\r\n */\r\nexport function checksum(address: string): Address {\r\n  if (Caches.checksum.has(address)) return Caches.checksum.get(address)!\r\n\r\n  assert(address, { strict: false })\r\n\r\n  const hexAddress = address.substring(2).toLowerCase()\r\n  const hash = Hash.keccak256(Bytes.fromString(hexAddress), { as: 'Bytes' })\r\n\r\n  const characters = hexAddress.split('')\r\n  for (let i = 0; i < 40; i += 2) {\r\n    if (hash[i >> 1]! >> 4 >= 8 && characters[i]) {\r\n      characters[i] = characters[i]!.toUpperCase()\r\n    }\r\n    if ((hash[i >> 1]! & 0x0f) >= 8 && characters[i + 1]) {\r\n      characters[i + 1] = characters[i + 1]!.toUpperCase()\r\n    }\r\n  }\r\n\r\n  const result = `0x${characters.join('')}` as const\r\n  Caches.checksum.set(address, result)\r\n  return result\r\n}\r\n\r\nexport declare namespace checksum {\r\n  type ErrorType =\r\n    | assert.ErrorType\r\n    | Hash.keccak256.ErrorType\r\n    | Bytes.fromString.ErrorType\r\n    | Errors.GlobalErrorType\r\n}\r\n\r\n/**\r\n * Converts a stringified address to a typed (checksummed) {@link ox#Address.Address}.\r\n *\r\n * @example\r\n * ```ts twoslash\r\n * import { Address } from 'ox'\r\n *\r\n * Address.from('0xa0cf798816d4b9b9866b5330eea46a18382f251e')\r\n * // @log: '0xA0Cf798816D4b9b9866b5330EEa46a18382f251e'\r\n * ```\r\n *\r\n * @example\r\n * ```ts twoslash\r\n * import { Address } from 'ox'\r\n *\r\n * Address.from('0xa0cf798816d4b9b9866b5330eea46a18382f251e', {\r\n *   checksum: false\r\n * })\r\n * // @log: '0xa0cf798816d4b9b9866b5330eea46a18382f251e'\r\n * ```\r\n *\r\n * @example\r\n * ```ts twoslash\r\n * import { Address } from 'ox'\r\n *\r\n * Address.from('hello')\r\n * // @error: InvalidAddressError: Address \"0xa\" is invalid.\r\n * ```\r\n *\r\n * @param address - An address string to convert to a typed Address.\r\n * @param options - Conversion options.\r\n * @returns The typed Address.\r\n */\r\nexport function from(address: string, options: from.Options = {}): Address {\r\n  const { checksum: checksumVal = false } = options\r\n  assert(address)\r\n  if (checksumVal) return checksum(address)\r\n  return address as Address\r\n}\r\n\r\nexport declare namespace from {\r\n  type Options = {\r\n    /**\r\n     * Whether to checksum the address.\r\n     *\r\n     * @default false\r\n     */\r\n    checksum?: boolean | undefined\r\n  }\r\n\r\n  type ErrorType =\r\n    | assert.ErrorType\r\n    | checksum.ErrorType\r\n    | Errors.GlobalErrorType\r\n}\r\n\r\n/**\r\n * Converts an ECDSA public key to an {@link ox#Address.Address}.\r\n *\r\n * @example\r\n * ```ts twoslash\r\n * import { Address, PublicKey } from 'ox'\r\n *\r\n * const publicKey = PublicKey.from(\r\n *   '0x048318535b54105d4a7aae60c08fc45f9687181b4fdfc625bd1a753fa7397fed753547f11ca8696646f2f3acb08e31016afac23e630c5d11f59f61fef57b0d2aa5',\r\n * )\r\n * const address = Address.fromPublicKey(publicKey)\r\n * // @log: '0xf39fd6e51aad88f6f4ce6ab8827279cfffb92266'\r\n * ```\r\n *\r\n * @param publicKey - The ECDSA public key to convert to an {@link ox#Address.Address}.\r\n * @param options - Conversion options.\r\n * @returns The {@link ox#Address.Address} corresponding to the public key.\r\n */\r\nexport function fromPublicKey(\r\n  publicKey: PublicKey.PublicKey,\r\n  options: fromPublicKey.Options = {},\r\n): Address {\r\n  const address = Hash.keccak256(\r\n    `0x${PublicKey.toHex(publicKey).slice(4)}`,\r\n  ).substring(26)\r\n  return from(`0x${address}`, options)\r\n}\r\n\r\nexport declare namespace fromPublicKey {\r\n  type Options = {\r\n    /**\r\n     * Whether to checksum the address.\r\n     *\r\n     * @default false\r\n     */\r\n    checksum?: boolean | undefined\r\n  }\r\n\r\n  type ErrorType =\r\n    | Hash.keccak256.ErrorType\r\n    | PublicKey.toHex.ErrorType\r\n    | Errors.GlobalErrorType\r\n}\r\n\r\n/**\r\n * Checks if two {@link ox#Address.Address} are equal.\r\n *\r\n * @example\r\n * ```ts twoslash\r\n * import { Address } from 'ox'\r\n *\r\n * Address.isEqual(\r\n *   '0xa0cf798816d4b9b9866b5330eea46a18382f251e',\r\n *   '0xA0Cf798816D4b9b9866b5330EEa46a18382f251e'\r\n * )\r\n * // @log: true\r\n * ```\r\n *\r\n * @example\r\n * ```ts twoslash\r\n * import { Address } from 'ox'\r\n *\r\n * Address.isEqual(\r\n *   '0xa0cf798816d4b9b9866b5330eea46a18382f251e',\r\n *   '0xA0Cf798816D4b9b9866b5330EEa46a18382f251f'\r\n * )\r\n * // @log: false\r\n * ```\r\n *\r\n * @param addressA - The first address to compare.\r\n * @param addressB - The second address to compare.\r\n * @returns Whether the addresses are equal.\r\n */\r\nexport function isEqual(addressA: Address, addressB: Address): boolean {\r\n  assert(addressA, { strict: false })\r\n  assert(addressB, { strict: false })\r\n  return addressA.toLowerCase() === addressB.toLowerCase()\r\n}\r\n\r\nexport declare namespace isEqual {\r\n  type ErrorType = assert.ErrorType | Errors.GlobalErrorType\r\n}\r\n\r\n/**\r\n * Checks if the given address is a valid {@link ox#Address.Address}.\r\n *\r\n * @example\r\n * ```ts twoslash\r\n * import { Address } from 'ox'\r\n *\r\n * Address.validate('0xA0Cf798816D4b9b9866b5330EEa46a18382f251e')\r\n * // @log: true\r\n * ```\r\n *\r\n * @example\r\n * ```ts twoslash\r\n * import { Address } from 'ox'\r\n *\r\n * Address.validate('0xdeadbeef')\r\n * // @log: false\r\n * ```\r\n *\r\n * @param address - Value to check if it is a valid address.\r\n * @param options - Check options.\r\n * @returns Whether the address is a valid address.\r\n */\r\nexport function validate(\r\n  address: string,\r\n  options: validate.Options = {},\r\n): address is Address {\r\n  const { strict = true } = options ?? {}\r\n  try {\r\n    assert(address, { strict })\r\n    return true\r\n  } catch {\r\n    return false\r\n  }\r\n}\r\n\r\nexport declare namespace validate {\r\n  type Options = {\r\n    /**\r\n     * Enables strict mode. Whether or not to compare the address against its checksum.\r\n     *\r\n     * @default true\r\n     */\r\n    strict?: boolean | undefined\r\n  }\r\n}\r\n\r\n/**\r\n * Thrown when an address is invalid.\r\n *\r\n * @example\r\n * ```ts twoslash\r\n * import { Address } from 'ox'\r\n *\r\n * Address.from('0x123')\r\n * // @error: Address.InvalidAddressError: Address `0x123` is invalid.\r\n * ```\r\n */\r\nexport class InvalidAddressError<\r\n  cause extends InvalidInputError | InvalidChecksumError =\r\n    | InvalidInputError\r\n    | InvalidChecksumError,\r\n> extends Errors.BaseError<cause> {\r\n  override readonly name = 'Address.InvalidAddressError'\r\n\r\n  constructor({ address, cause }: { address: string; cause: cause }) {\r\n    super(`Address \"${address}\" is invalid.`, {\r\n      cause,\r\n    })\r\n  }\r\n}\r\n\r\n/** Thrown when an address is not a 20 byte (40 hexadecimal character) value. */\r\nexport class InvalidInputError extends Errors.BaseError {\r\n  override readonly name = 'Address.InvalidInputError'\r\n\r\n  constructor() {\r\n    super('Address is not a 20 byte (40 hexadecimal character) value.')\r\n  }\r\n}\r\n\r\n/** Thrown when an address does not match its checksum counterpart. */\r\nexport class InvalidChecksumError extends Errors.BaseError {\r\n  override readonly name = 'Address.InvalidChecksumError'\r\n\r\n  constructor() {\r\n    super('Address does not match its checksum counterpart.')\r\n  }\r\n}\r\n", "export const arrayRegex = /^(.*)\\[([0-9]*)\\]$/\r\n\r\n// `bytes<M>`: binary type of `M` bytes, `0 < M <= 32`\r\n// https://regexr.com/6va55\r\nexport const bytesRegex = /^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/\r\n\r\n// `(u)int<M>`: (un)signed integer type of `M` bits, `0 < M <= 256`, `M % 8 == 0`\r\n// https://regexr.com/6v8hp\r\nexport const integerRegex =\r\n  /^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/\r\n\r\nexport const maxInt8 = 2n ** (8n - 1n) - 1n\r\nexport const maxInt16 = 2n ** (16n - 1n) - 1n\r\nexport const maxInt24 = 2n ** (24n - 1n) - 1n\r\nexport const maxInt32 = 2n ** (32n - 1n) - 1n\r\nexport const maxInt40 = 2n ** (40n - 1n) - 1n\r\nexport const maxInt48 = 2n ** (48n - 1n) - 1n\r\nexport const maxInt56 = 2n ** (56n - 1n) - 1n\r\nexport const maxInt64 = 2n ** (64n - 1n) - 1n\r\nexport const maxInt72 = 2n ** (72n - 1n) - 1n\r\nexport const maxInt80 = 2n ** (80n - 1n) - 1n\r\nexport const maxInt88 = 2n ** (88n - 1n) - 1n\r\nexport const maxInt96 = 2n ** (96n - 1n) - 1n\r\nexport const maxInt104 = 2n ** (104n - 1n) - 1n\r\nexport const maxInt112 = 2n ** (112n - 1n) - 1n\r\nexport const maxInt120 = 2n ** (120n - 1n) - 1n\r\nexport const maxInt128 = 2n ** (128n - 1n) - 1n\r\nexport const maxInt136 = 2n ** (136n - 1n) - 1n\r\nexport const maxInt144 = 2n ** (144n - 1n) - 1n\r\nexport const maxInt152 = 2n ** (152n - 1n) - 1n\r\nexport const maxInt160 = 2n ** (160n - 1n) - 1n\r\nexport const maxInt168 = 2n ** (168n - 1n) - 1n\r\nexport const maxInt176 = 2n ** (176n - 1n) - 1n\r\nexport const maxInt184 = 2n ** (184n - 1n) - 1n\r\nexport const maxInt192 = 2n ** (192n - 1n) - 1n\r\nexport const maxInt200 = 2n ** (200n - 1n) - 1n\r\nexport const maxInt208 = 2n ** (208n - 1n) - 1n\r\nexport const maxInt216 = 2n ** (216n - 1n) - 1n\r\nexport const maxInt224 = 2n ** (224n - 1n) - 1n\r\nexport const maxInt232 = 2n ** (232n - 1n) - 1n\r\nexport const maxInt240 = 2n ** (240n - 1n) - 1n\r\nexport const maxInt248 = 2n ** (248n - 1n) - 1n\r\nexport const maxInt256 = 2n ** (256n - 1n) - 1n\r\n\r\nexport const minInt8 = -(2n ** (8n - 1n))\r\nexport const minInt16 = -(2n ** (16n - 1n))\r\nexport const minInt24 = -(2n ** (24n - 1n))\r\nexport const minInt32 = -(2n ** (32n - 1n))\r\nexport const minInt40 = -(2n ** (40n - 1n))\r\nexport const minInt48 = -(2n ** (48n - 1n))\r\nexport const minInt56 = -(2n ** (56n - 1n))\r\nexport const minInt64 = -(2n ** (64n - 1n))\r\nexport const minInt72 = -(2n ** (72n - 1n))\r\nexport const minInt80 = -(2n ** (80n - 1n))\r\nexport const minInt88 = -(2n ** (88n - 1n))\r\nexport const minInt96 = -(2n ** (96n - 1n))\r\nexport const minInt104 = -(2n ** (104n - 1n))\r\nexport const minInt112 = -(2n ** (112n - 1n))\r\nexport const minInt120 = -(2n ** (120n - 1n))\r\nexport const minInt128 = -(2n ** (128n - 1n))\r\nexport const minInt136 = -(2n ** (136n - 1n))\r\nexport const minInt144 = -(2n ** (144n - 1n))\r\nexport const minInt152 = -(2n ** (152n - 1n))\r\nexport const minInt160 = -(2n ** (160n - 1n))\r\nexport const minInt168 = -(2n ** (168n - 1n))\r\nexport const minInt176 = -(2n ** (176n - 1n))\r\nexport const minInt184 = -(2n ** (184n - 1n))\r\nexport const minInt192 = -(2n ** (192n - 1n))\r\nexport const minInt200 = -(2n ** (200n - 1n))\r\nexport const minInt208 = -(2n ** (208n - 1n))\r\nexport const minInt216 = -(2n ** (216n - 1n))\r\nexport const minInt224 = -(2n ** (224n - 1n))\r\nexport const minInt232 = -(2n ** (232n - 1n))\r\nexport const minInt240 = -(2n ** (240n - 1n))\r\nexport const minInt248 = -(2n ** (248n - 1n))\r\nexport const minInt256 = -(2n ** (256n - 1n))\r\n\r\nexport const maxUint8 = 2n ** 8n - 1n\r\nexport const maxUint16 = 2n ** 16n - 1n\r\nexport const maxUint24 = 2n ** 24n - 1n\r\nexport const maxUint32 = 2n ** 32n - 1n\r\nexport const maxUint40 = 2n ** 40n - 1n\r\nexport const maxUint48 = 2n ** 48n - 1n\r\nexport const maxUint56 = 2n ** 56n - 1n\r\nexport const maxUint64 = 2n ** 64n - 1n\r\nexport const maxUint72 = 2n ** 72n - 1n\r\nexport const maxUint80 = 2n ** 80n - 1n\r\nexport const maxUint88 = 2n ** 88n - 1n\r\nexport const maxUint96 = 2n ** 96n - 1n\r\nexport const maxUint104 = 2n ** 104n - 1n\r\nexport const maxUint112 = 2n ** 112n - 1n\r\nexport const maxUint120 = 2n ** 120n - 1n\r\nexport const maxUint128 = 2n ** 128n - 1n\r\nexport const maxUint136 = 2n ** 136n - 1n\r\nexport const maxUint144 = 2n ** 144n - 1n\r\nexport const maxUint152 = 2n ** 152n - 1n\r\nexport const maxUint160 = 2n ** 160n - 1n\r\nexport const maxUint168 = 2n ** 168n - 1n\r\nexport const maxUint176 = 2n ** 176n - 1n\r\nexport const maxUint184 = 2n ** 184n - 1n\r\nexport const maxUint192 = 2n ** 192n - 1n\r\nexport const maxUint200 = 2n ** 200n - 1n\r\nexport const maxUint208 = 2n ** 208n - 1n\r\nexport const maxUint216 = 2n ** 216n - 1n\r\nexport const maxUint224 = 2n ** 224n - 1n\r\nexport const maxUint232 = 2n ** 232n - 1n\r\nexport const maxUint240 = 2n ** 240n - 1n\r\nexport const maxUint248 = 2n ** 248n - 1n\r\nexport const maxUint256 = 2n ** 256n - 1n\r\n", "import type { Bytes } from '../Bytes.js'\r\nimport * as Errors from '../Errors.js'\r\n\r\n/** @internal */\r\nexport type Cursor = {\r\n  bytes: Bytes\r\n  dataView: DataView\r\n  position: number\r\n  positionReadCount: Map<number, number>\r\n  recursiveReadCount: number\r\n  recursiveReadLimit: number\r\n  remaining: number\r\n  assertReadLimit(position?: number): void\r\n  assertPosition(position: number): void\r\n  decrementPosition(offset: number): void\r\n  getReadCount(position?: number): number\r\n  incrementPosition(offset: number): void\r\n  inspectByte(position?: number): Bytes[number]\r\n  inspectBytes(length: number, position?: number): Bytes\r\n  inspectUint8(position?: number): number\r\n  inspectUint16(position?: number): number\r\n  inspectUint24(position?: number): number\r\n  inspectUint32(position?: number): number\r\n  pushByte(byte: Bytes[number]): void\r\n  pushBytes(bytes: Bytes): void\r\n  pushUint8(value: number): void\r\n  pushUint16(value: number): void\r\n  pushUint24(value: number): void\r\n  pushUint32(value: number): void\r\n  readByte(): Bytes[number]\r\n  readBytes(length: number, size?: number): Bytes\r\n  readUint8(): number\r\n  readUint16(): number\r\n  readUint24(): number\r\n  readUint32(): number\r\n  setPosition(position: number): () => void\r\n  _touch(): void\r\n}\r\n\r\nconst staticCursor: Cursor = /*#__PURE__*/ {\r\n  bytes: new Uint8Array(),\r\n  dataView: new DataView(new ArrayBuffer(0)),\r\n  position: 0,\r\n  positionReadCount: new Map(),\r\n  recursiveReadCount: 0,\r\n  recursiveReadLimit: Number.POSITIVE_INFINITY,\r\n  assertReadLimit() {\r\n    if (this.recursiveReadCount >= this.recursiveReadLimit)\r\n      throw new RecursiveReadLimitExceededError({\r\n        count: this.recursiveReadCount + 1,\r\n        limit: this.recursiveReadLimit,\r\n      })\r\n  },\r\n  assertPosition(position) {\r\n    if (position < 0 || position > this.bytes.length - 1)\r\n      throw new PositionOutOfBoundsError({\r\n        length: this.bytes.length,\r\n        position,\r\n      })\r\n  },\r\n  decrementPosition(offset) {\r\n    if (offset < 0) throw new NegativeOffsetError({ offset })\r\n    const position = this.position - offset\r\n    this.assertPosition(position)\r\n    this.position = position\r\n  },\r\n  getReadCount(position) {\r\n    return this.positionReadCount.get(position || this.position) || 0\r\n  },\r\n  incrementPosition(offset) {\r\n    if (offset < 0) throw new NegativeOffsetError({ offset })\r\n    const position = this.position + offset\r\n    this.assertPosition(position)\r\n    this.position = position\r\n  },\r\n  inspectByte(position_) {\r\n    const position = position_ ?? this.position\r\n    this.assertPosition(position)\r\n    return this.bytes[position]!\r\n  },\r\n  inspectBytes(length, position_) {\r\n    const position = position_ ?? this.position\r\n    this.assertPosition(position + length - 1)\r\n    return this.bytes.subarray(position, position + length)\r\n  },\r\n  inspectUint8(position_) {\r\n    const position = position_ ?? this.position\r\n    this.assertPosition(position)\r\n    return this.bytes[position]!\r\n  },\r\n  inspectUint16(position_) {\r\n    const position = position_ ?? this.position\r\n    this.assertPosition(position + 1)\r\n    return this.dataView.getUint16(position)\r\n  },\r\n  inspectUint24(position_) {\r\n    const position = position_ ?? this.position\r\n    this.assertPosition(position + 2)\r\n    return (\r\n      (this.dataView.getUint16(position) << 8) +\r\n      this.dataView.getUint8(position + 2)\r\n    )\r\n  },\r\n  inspectUint32(position_) {\r\n    const position = position_ ?? this.position\r\n    this.assertPosition(position + 3)\r\n    return this.dataView.getUint32(position)\r\n  },\r\n  pushByte(byte: Bytes[number]) {\r\n    this.assertPosition(this.position)\r\n    this.bytes[this.position] = byte\r\n    this.position++\r\n  },\r\n  pushBytes(bytes: Bytes) {\r\n    this.assertPosition(this.position + bytes.length - 1)\r\n    this.bytes.set(bytes, this.position)\r\n    this.position += bytes.length\r\n  },\r\n  pushUint8(value: number) {\r\n    this.assertPosition(this.position)\r\n    this.bytes[this.position] = value\r\n    this.position++\r\n  },\r\n  pushUint16(value: number) {\r\n    this.assertPosition(this.position + 1)\r\n    this.dataView.setUint16(this.position, value)\r\n    this.position += 2\r\n  },\r\n  pushUint24(value: number) {\r\n    this.assertPosition(this.position + 2)\r\n    this.dataView.setUint16(this.position, value >> 8)\r\n    this.dataView.setUint8(this.position + 2, value & ~4294967040)\r\n    this.position += 3\r\n  },\r\n  pushUint32(value: number) {\r\n    this.assertPosition(this.position + 3)\r\n    this.dataView.setUint32(this.position, value)\r\n    this.position += 4\r\n  },\r\n  readByte() {\r\n    this.assertReadLimit()\r\n    this._touch()\r\n    const value = this.inspectByte()\r\n    this.position++\r\n    return value\r\n  },\r\n  readBytes(length, size) {\r\n    this.assertReadLimit()\r\n    this._touch()\r\n    const value = this.inspectBytes(length)\r\n    this.position += size ?? length\r\n    return value\r\n  },\r\n  readUint8() {\r\n    this.assertReadLimit()\r\n    this._touch()\r\n    const value = this.inspectUint8()\r\n    this.position += 1\r\n    return value\r\n  },\r\n  readUint16() {\r\n    this.assertReadLimit()\r\n    this._touch()\r\n    const value = this.inspectUint16()\r\n    this.position += 2\r\n    return value\r\n  },\r\n  readUint24() {\r\n    this.assertReadLimit()\r\n    this._touch()\r\n    const value = this.inspectUint24()\r\n    this.position += 3\r\n    return value\r\n  },\r\n  readUint32() {\r\n    this.assertReadLimit()\r\n    this._touch()\r\n    const value = this.inspectUint32()\r\n    this.position += 4\r\n    return value\r\n  },\r\n  get remaining() {\r\n    return this.bytes.length - this.position\r\n  },\r\n  setPosition(position) {\r\n    const oldPosition = this.position\r\n    this.assertPosition(position)\r\n    this.position = position\r\n    return () => (this.position = oldPosition)\r\n  },\r\n  _touch() {\r\n    if (this.recursiveReadLimit === Number.POSITIVE_INFINITY) return\r\n    const count = this.getReadCount()\r\n    this.positionReadCount.set(this.position, count + 1)\r\n    if (count > 0) this.recursiveReadCount++\r\n  },\r\n}\r\n\r\n/** @internal */\r\nexport function create(\r\n  bytes: Bytes,\r\n  { recursiveReadLimit = 8_192 }: create.Config = {},\r\n): Cursor {\r\n  const cursor: Cursor = Object.create(staticCursor)\r\n  cursor.bytes = bytes\r\n  cursor.dataView = new DataView(\r\n    bytes.buffer,\r\n    bytes.byteOffset,\r\n    bytes.byteLength,\r\n  )\r\n  cursor.positionReadCount = new Map()\r\n  cursor.recursiveReadLimit = recursiveReadLimit\r\n  return cursor\r\n}\r\n\r\n/** @internal */\r\nexport declare namespace create {\r\n  type Config = { recursiveReadLimit?: number | undefined }\r\n\r\n  type ErrorType = Errors.GlobalErrorType\r\n}\r\n\r\n/** @internal */\r\nexport class NegativeOffsetError extends Errors.BaseError {\r\n  override readonly name = 'Cursor.NegativeOffsetError'\r\n\r\n  constructor({ offset }: { offset: number }) {\r\n    super(`Offset \\`${offset}\\` cannot be negative.`)\r\n  }\r\n}\r\n\r\n/** @internal */\r\nexport class PositionOutOfBoundsError extends Errors.BaseError {\r\n  override readonly name = 'Cursor.PositionOutOfBoundsError'\r\n\r\n  constructor({ length, position }: { length: number; position: number }) {\r\n    super(\r\n      `Position \\`${position}\\` is out of bounds (\\`0 < position < ${length}\\`).`,\r\n    )\r\n  }\r\n}\r\n\r\n/** @internal */\r\nexport class RecursiveReadLimitExceededError extends Errors.BaseError {\r\n  override readonly name = 'Cursor.RecursiveReadLimitExceededError'\r\n\r\n  constructor({ count, limit }: { count: number; limit: number }) {\r\n    super(\r\n      `Recursive read limit of \\`${limit}\\` exceeded (recursive read count: \\`${count}\\`).`,\r\n    )\r\n  }\r\n}\r\n", "import * as abitype from 'abitype'\r\nimport * as Address from './Address.js'\r\nimport * as Bytes from './Bytes.js'\r\nimport * as Errors from './Errors.js'\r\nimport * as Hex from './Hex.js'\r\nimport * as Solidity from './Solidity.js'\r\nimport * as internal from './internal/abiParameters.js'\r\nimport * as Cursor from './internal/cursor.js'\r\n\r\n/** Root type for ABI parameters. */\r\nexport type AbiParameters = readonly abitype.AbiParameter[]\r\n\r\n/** A parameter on an {@link ox#AbiParameters.AbiParameters}. */\r\nexport type Parameter = abitype.AbiParameter\r\n\r\n/** A packed ABI type. */\r\nexport type PackedAbiType =\r\n  | abitype.SolidityAddress\r\n  | abitype.SolidityBool\r\n  | abitype.SolidityBytes\r\n  | abitype.SolidityInt\r\n  | abitype.SolidityString\r\n  | abitype.SolidityArrayWithoutTuple\r\n\r\n/**\r\n * Decodes ABI-encoded data into its respective primitive values based on ABI Parameters.\r\n *\r\n * @example\r\n * ```ts twoslash\r\n * import { AbiParameters } from 'ox'\r\n *\r\n * const data = AbiParameters.decode(\r\n *   AbiParameters.from(['string', 'uint', 'bool']),\r\n *   '0x000000000000000000000000000000000000000000000000000000000000006000000000000000000000000000000000000000000000000000000000000001a4000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000057761676d69000000000000000000000000000000000000000000000000000000',\r\n * )\r\n * // @log: ['wagmi', 420n, true]\r\n * ```\r\n *\r\n * @example\r\n * ### JSON Parameters\r\n *\r\n * You can pass **JSON ABI** Parameters:\r\n *\r\n * ```ts twoslash\r\n * import { AbiParameters } from 'ox'\r\n *\r\n * const data = AbiParameters.decode(\r\n *   [\r\n *     { name: 'x', type: 'string' },\r\n *     { name: 'y', type: 'uint' },\r\n *     { name: 'z', type: 'bool' },\r\n *   ],\r\n *   '0x000000000000000000000000000000000000000000000000000000000000006000000000000000000000000000000000000000000000000000000000000001a4000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000057761676d69000000000000000000000000000000000000000000000000000000',\r\n * )\r\n * // @log: ['wagmi', 420n, true]\r\n * ```\r\n *\r\n * @param parameters - The set of ABI parameters to decode, in the shape of the `inputs` or `outputs` attribute of an ABI Item. These parameters must include valid [ABI types](https://docs.soliditylang.org/en/latest/types.html).\r\n * @param data - ABI encoded data.\r\n * @param options - Decoding options.\r\n * @returns Array of decoded values.\r\n */\r\nexport function decode<\r\n  const parameters extends AbiParameters,\r\n  as extends 'Object' | 'Array' = 'Array',\r\n>(\r\n  parameters: parameters,\r\n  data: Bytes.Bytes | Hex.Hex,\r\n  options?: decode.Options<as>,\r\n): decode.ReturnType<parameters, as>\r\n\r\n// eslint-disable-next-line jsdoc/require-jsdoc\r\nexport function decode(\r\n  parameters: AbiParameters,\r\n  data: Bytes.Bytes | Hex.Hex,\r\n  options: {\r\n    as?: 'Array' | 'Object' | undefined\r\n    checksumAddress?: boolean | undefined\r\n  } = {},\r\n): readonly unknown[] | Record<string, unknown> {\r\n  const { as = 'Array', checksumAddress = false } = options\r\n\r\n  const bytes = typeof data === 'string' ? Bytes.fromHex(data) : data\r\n  const cursor = Cursor.create(bytes)\r\n\r\n  if (Bytes.size(bytes) === 0 && parameters.length > 0)\r\n    throw new ZeroDataError()\r\n  if (Bytes.size(bytes) && Bytes.size(bytes) < 32)\r\n    throw new DataSizeTooSmallError({\r\n      data: typeof data === 'string' ? data : Hex.fromBytes(data),\r\n      parameters: parameters as readonly Parameter[],\r\n      size: Bytes.size(bytes),\r\n    })\r\n\r\n  let consumed = 0\r\n  const values: any = as === 'Array' ? [] : {}\r\n  for (let i = 0; i < parameters.length; ++i) {\r\n    const param = parameters[i] as Parameter\r\n    cursor.setPosition(consumed)\r\n    const [data, consumed_] = internal.decodeParameter(cursor, param, {\r\n      checksumAddress,\r\n      staticPosition: 0,\r\n    })\r\n    consumed += consumed_\r\n    if (as === 'Array') values.push(data)\r\n    else values[param.name ?? i] = data\r\n  }\r\n  return values\r\n}\r\n\r\nexport declare namespace decode {\r\n  type Options<as extends 'Object' | 'Array'> = {\r\n    /**\r\n     * Whether the decoded values should be returned as an `Object` or `Array`.\r\n     *\r\n     * @default \"Array\"\r\n     */\r\n    as?: as | 'Object' | 'Array' | undefined\r\n    /**\r\n     * Whether decoded addresses should be checksummed.\r\n     *\r\n     * @default false\r\n     */\r\n    checksumAddress?: boolean | undefined\r\n  }\r\n\r\n  type ReturnType<\r\n    parameters extends AbiParameters = AbiParameters,\r\n    as extends 'Object' | 'Array' = 'Array',\r\n  > = parameters extends readonly []\r\n    ? as extends 'Object'\r\n      ? {}\r\n      : []\r\n    : as extends 'Object'\r\n      ? internal.ToObject<parameters>\r\n      : internal.ToPrimitiveTypes<parameters>\r\n\r\n  type ErrorType =\r\n    | Bytes.fromHex.ErrorType\r\n    | internal.decodeParameter.ErrorType\r\n    | ZeroDataError\r\n    | DataSizeTooSmallError\r\n    | Errors.GlobalErrorType\r\n}\r\n\r\n/**\r\n * Encodes primitive values into ABI encoded data as per the [Application Binary Interface (ABI) Specification](https://docs.soliditylang.org/en/latest/abi-spec).\r\n *\r\n * @example\r\n * ```ts twoslash\r\n * import { AbiParameters } from 'ox'\r\n *\r\n * const data = AbiParameters.encode(\r\n *   AbiParameters.from(['string', 'uint', 'bool']),\r\n *   ['wagmi', 420n, true],\r\n * )\r\n * ```\r\n *\r\n * @example\r\n * ### JSON Parameters\r\n *\r\n * Specify **JSON ABI** Parameters as schema:\r\n *\r\n * ```ts twoslash\r\n * import { AbiParameters } from 'ox'\r\n *\r\n * const data = AbiParameters.encode(\r\n *   [\r\n *     { type: 'string', name: 'name' },\r\n *     { type: 'uint', name: 'age' },\r\n *     { type: 'bool', name: 'isOwner' },\r\n *   ],\r\n *   ['wagmi', 420n, true],\r\n * )\r\n * ```\r\n *\r\n * @param parameters - The set of ABI parameters to encode, in the shape of the `inputs` or `outputs` attribute of an ABI Item. These parameters must include valid [ABI types](https://docs.soliditylang.org/en/latest/types.html).\r\n * @param values - The set of primitive values that correspond to the ABI types defined in `parameters`.\r\n * @returns ABI encoded data.\r\n */\r\nexport function encode<\r\n  const parameters extends AbiParameters | readonly unknown[],\r\n>(\r\n  parameters: parameters,\r\n  values: parameters extends AbiParameters\r\n    ? internal.ToPrimitiveTypes<parameters>\r\n    : never,\r\n  options?: encode.Options,\r\n): Hex.Hex {\r\n  const { checksumAddress = false } = options ?? {}\r\n\r\n  if (parameters.length !== values.length)\r\n    throw new LengthMismatchError({\r\n      expectedLength: parameters.length as number,\r\n      givenLength: values.length as any,\r\n    })\r\n  // Prepare the parameters to determine dynamic types to encode.\r\n  const preparedParameters = internal.prepareParameters({\r\n    checksumAddress,\r\n    parameters: parameters as readonly Parameter[],\r\n    values: values as any,\r\n  })\r\n  const data = internal.encode(preparedParameters)\r\n  if (data.length === 0) return '0x'\r\n  return data\r\n}\r\n\r\nexport declare namespace encode {\r\n  type ErrorType =\r\n    | LengthMismatchError\r\n    | internal.encode.ErrorType\r\n    | internal.prepareParameters.ErrorType\r\n    | Errors.GlobalErrorType\r\n\r\n  type Options = {\r\n    /**\r\n     * Whether addresses should be checked against their checksum.\r\n     *\r\n     * @default false\r\n     */\r\n    checksumAddress?: boolean | undefined\r\n  }\r\n}\r\n\r\n/**\r\n * Encodes an array of primitive values to a [packed ABI encoding](https://docs.soliditylang.org/en/latest/abi-spec.html#non-standard-packed-mode).\r\n *\r\n * @example\r\n * ```ts twoslash\r\n * import { AbiParameters } from 'ox'\r\n *\r\n * const encoded = AbiParameters.encodePacked(\r\n *   ['address', 'string'],\r\n *   ['0xd8da6bf26964af9d7eed9e03e53415d37aa96045', 'hello world'],\r\n * )\r\n * // @log: '0xd8da6bf26964af9d7eed9e03e53415d37aa9604568656c6c6f20776f726c64'\r\n * ```\r\n *\r\n * @param types - Set of ABI types to pack encode.\r\n * @param values - The set of primitive values that correspond to the ABI types defined in `types`.\r\n * @returns The encoded packed data.\r\n */\r\nexport function encodePacked<\r\n  const packedAbiTypes extends readonly PackedAbiType[] | readonly unknown[],\r\n>(types: packedAbiTypes, values: encodePacked.Values<packedAbiTypes>): Hex.Hex {\r\n  if (types.length !== values.length)\r\n    throw new LengthMismatchError({\r\n      expectedLength: types.length as number,\r\n      givenLength: values.length as number,\r\n    })\r\n\r\n  const data: Hex.Hex[] = []\r\n  for (let i = 0; i < (types as unknown[]).length; i++) {\r\n    const type = types[i]\r\n    const value = values[i]\r\n    data.push(encodePacked.encode(type, value))\r\n  }\r\n  return Hex.concat(...data)\r\n}\r\n\r\nexport namespace encodePacked {\r\n  export type ErrorType =\r\n    | Hex.concat.ErrorType\r\n    | LengthMismatchError\r\n    | Errors.GlobalErrorType\r\n\r\n  export type Values<\r\n    packedAbiTypes extends readonly PackedAbiType[] | readonly unknown[],\r\n  > = {\r\n    [key in keyof packedAbiTypes]: packedAbiTypes[key] extends abitype.AbiType\r\n      ? abitype.AbiParameterToPrimitiveType<{ type: packedAbiTypes[key] }>\r\n      : unknown\r\n  }\r\n\r\n  // eslint-disable-next-line jsdoc/require-jsdoc\r\n  export function encode<const packedAbiType extends PackedAbiType | unknown>(\r\n    type: packedAbiType,\r\n    value: Values<[packedAbiType]>[0],\r\n    isArray = false,\r\n  ): Hex.Hex {\r\n    if (type === 'address') {\r\n      const address = value as Address.Address\r\n      Address.assert(address)\r\n      return Hex.padLeft(\r\n        address.toLowerCase() as Hex.Hex,\r\n        isArray ? 32 : 0,\r\n      ) as Address.Address\r\n    }\r\n    if (type === 'string') return Hex.fromString(value as string)\r\n    if (type === 'bytes') return value as Hex.Hex\r\n    if (type === 'bool')\r\n      return Hex.padLeft(Hex.fromBoolean(value as boolean), isArray ? 32 : 1)\r\n\r\n    const intMatch = (type as string).match(Solidity.integerRegex)\r\n    if (intMatch) {\r\n      const [_type, baseType, bits = '256'] = intMatch\r\n      const size = Number.parseInt(bits) / 8\r\n      return Hex.fromNumber(value as number, {\r\n        size: isArray ? 32 : size,\r\n        signed: baseType === 'int',\r\n      })\r\n    }\r\n\r\n    const bytesMatch = (type as string).match(Solidity.bytesRegex)\r\n    if (bytesMatch) {\r\n      const [_type, size] = bytesMatch\r\n      if (Number.parseInt(size!) !== ((value as Hex.Hex).length - 2) / 2)\r\n        throw new BytesSizeMismatchError({\r\n          expectedSize: Number.parseInt(size!),\r\n          value: value as Hex.Hex,\r\n        })\r\n      return Hex.padRight(value as Hex.Hex, isArray ? 32 : 0) as Hex.Hex\r\n    }\r\n\r\n    const arrayMatch = (type as string).match(Solidity.arrayRegex)\r\n    if (arrayMatch && Array.isArray(value)) {\r\n      const [_type, childType] = arrayMatch\r\n      const data: Hex.Hex[] = []\r\n      for (let i = 0; i < value.length; i++) {\r\n        data.push(encode(childType, value[i], true))\r\n      }\r\n      if (data.length === 0) return '0x'\r\n      return Hex.concat(...data)\r\n    }\r\n\r\n    throw new InvalidTypeError(type as string)\r\n  }\r\n}\r\n\r\n/**\r\n * Formats {@link ox#AbiParameters.AbiParameters} into **Human Readable ABI Parameters**.\r\n *\r\n * @example\r\n * ```ts twoslash\r\n * import { AbiParameters } from 'ox'\r\n *\r\n * const formatted = AbiParameters.format([\r\n *   {\r\n *     name: 'spender',\r\n *     type: 'address',\r\n *   },\r\n *   {\r\n *     name: 'amount',\r\n *     type: 'uint256',\r\n *   },\r\n * ])\r\n *\r\n * formatted\r\n * //    ^?\r\n *\r\n *\r\n * ```\r\n *\r\n * @param parameters - The ABI Parameters to format.\r\n * @returns The formatted ABI Parameters  .\r\n */\r\nexport function format<\r\n  const parameters extends readonly [\r\n    Parameter | abitype.AbiEventParameter,\r\n    ...(readonly (Parameter | abitype.AbiEventParameter)[]),\r\n  ],\r\n>(\r\n  parameters:\r\n    | parameters\r\n    | readonly [\r\n        Parameter | abitype.AbiEventParameter,\r\n        ...(readonly (Parameter | abitype.AbiEventParameter)[]),\r\n      ],\r\n): abitype.FormatAbiParameters<parameters> {\r\n  return abitype.formatAbiParameters(parameters)\r\n}\r\n\r\nexport declare namespace format {\r\n  type ErrorType = Errors.GlobalErrorType\r\n}\r\n\r\n/**\r\n * Parses arbitrary **JSON ABI Parameters** or **Human Readable ABI Parameters** into typed {@link ox#AbiParameters.AbiParameters}.\r\n *\r\n * @example\r\n * ### JSON Parameters\r\n *\r\n * ```ts twoslash\r\n * import { AbiParameters } from 'ox'\r\n *\r\n * const parameters = AbiParameters.from([\r\n *   {\r\n *     name: 'spender',\r\n *     type: 'address',\r\n *   },\r\n *   {\r\n *     name: 'amount',\r\n *     type: 'uint256',\r\n *   },\r\n * ])\r\n *\r\n * parameters\r\n * //^?\r\n *\r\n *\r\n *\r\n *\r\n *\r\n *\r\n *\r\n * ```\r\n *\r\n * @example\r\n * ### Human Readable Parameters\r\n *\r\n * Human Readable ABI Parameters can be parsed into a typed {@link ox#AbiParameters.AbiParameters}:\r\n *\r\n * ```ts twoslash\r\n * import { AbiParameters } from 'ox'\r\n *\r\n * const parameters = AbiParameters.from('address spender, uint256 amount')\r\n *\r\n * parameters\r\n * //^?\r\n *\r\n *\r\n *\r\n *\r\n *\r\n *\r\n *\r\n * ```\r\n *\r\n * @example\r\n * It is possible to specify `struct`s along with your definitions:\r\n *\r\n * ```ts twoslash\r\n * import { AbiParameters } from 'ox'\r\n *\r\n * const parameters = AbiParameters.from([\r\n *   'struct Foo { address spender; uint256 amount; }', // [!code hl]\r\n *   'Foo foo, address bar',\r\n * ])\r\n *\r\n * parameters\r\n * //^?\r\n *\r\n *\r\n *\r\n *\r\n *\r\n *\r\n *\r\n *\r\n *\r\n *\r\n *\r\n *\r\n * ```\r\n *\r\n *\r\n *\r\n * @param parameters - The ABI Parameters to parse.\r\n * @returns The typed ABI Parameters.\r\n */\r\nexport function from<\r\n  const parameters extends AbiParameters | string | readonly string[],\r\n>(\r\n  parameters: parameters | AbiParameters | string | readonly string[],\r\n): from.ReturnType<parameters> {\r\n  if (Array.isArray(parameters) && typeof parameters[0] === 'string')\r\n    return abitype.parseAbiParameters(parameters) as never\r\n  if (typeof parameters === 'string')\r\n    return abitype.parseAbiParameters(parameters) as never\r\n  return parameters as never\r\n}\r\n\r\nexport declare namespace from {\r\n  type ReturnType<\r\n    parameters extends AbiParameters | string | readonly string[],\r\n  > = parameters extends string\r\n    ? abitype.ParseAbiParameters<parameters>\r\n    : parameters extends readonly string[]\r\n      ? abitype.ParseAbiParameters<parameters>\r\n      : parameters\r\n\r\n  type ErrorType = Errors.GlobalErrorType\r\n}\r\n\r\n/**\r\n * Throws when the data size is too small for the given parameters.\r\n *\r\n * @example\r\n * ```ts twoslash\r\n * import { AbiParameters } from 'ox'\r\n *\r\n * AbiParameters.decode([{ type: 'uint256' }], '0x010f')\r\n * //                                             ↑ ❌ 2 bytes\r\n * // @error: AbiParameters.DataSizeTooSmallError: Data size of 2 bytes is too small for given parameters.\r\n * // @error: Params: (uint256)\r\n * // @error: Data:   0x010f (2 bytes)\r\n * ```\r\n *\r\n * ### Solution\r\n *\r\n * Pass a valid data size.\r\n *\r\n * ```ts twoslash\r\n * import { AbiParameters } from 'ox'\r\n *\r\n * AbiParameters.decode([{ type: 'uint256' }], '0x00000000000000000000000000000000000000000000000000000000000010f')\r\n * //                                             ↑ ✅ 32 bytes\r\n * ```\r\n */\r\nexport class DataSizeTooSmallError extends Errors.BaseError {\r\n  override readonly name = 'AbiParameters.DataSizeTooSmallError'\r\n  constructor({\r\n    data,\r\n    parameters,\r\n    size,\r\n  }: { data: Hex.Hex; parameters: readonly Parameter[]; size: number }) {\r\n    super(`Data size of ${size} bytes is too small for given parameters.`, {\r\n      metaMessages: [\r\n        `Params: (${abitype.formatAbiParameters(parameters as readonly [Parameter])})`,\r\n        `Data:   ${data} (${size} bytes)`,\r\n      ],\r\n    })\r\n  }\r\n}\r\n\r\n/**\r\n * Throws when zero data is provided, but data is expected.\r\n *\r\n * @example\r\n * ```ts twoslash\r\n * import { AbiParameters } from 'ox'\r\n *\r\n * AbiParameters.decode([{ type: 'uint256' }], '0x')\r\n * //                                           ↑ ❌ zero data\r\n * // @error: AbiParameters.DataSizeTooSmallError: Data size of 2 bytes is too small for given parameters.\r\n * // @error: Params: (uint256)\r\n * // @error: Data:   0x010f (2 bytes)\r\n * ```\r\n *\r\n * ### Solution\r\n *\r\n * Pass valid data.\r\n *\r\n * ```ts twoslash\r\n * import { AbiParameters } from 'ox'\r\n *\r\n * AbiParameters.decode([{ type: 'uint256' }], '0x00000000000000000000000000000000000000000000000000000000000010f')\r\n * //                                             ↑ ✅ 32 bytes\r\n * ```\r\n */\r\nexport class ZeroDataError extends Errors.BaseError {\r\n  override readonly name = 'AbiParameters.ZeroDataError'\r\n  constructor() {\r\n    super('Cannot decode zero data (\"0x\") with ABI parameters.')\r\n  }\r\n}\r\n\r\n/**\r\n * The length of the array value does not match the length specified in the corresponding ABI parameter.\r\n *\r\n * ### Example\r\n *\r\n * ```ts twoslash\r\n * // @noErrors\r\n * import { AbiParameters } from 'ox'\r\n * // ---cut---\r\n * AbiParameters.encode(AbiParameters.from('uint256[3]'), [[69n, 420n]])\r\n * //                                               ↑ expected: 3  ↑ ❌ length: 2\r\n * // @error: AbiParameters.ArrayLengthMismatchError: ABI encoding array length mismatch\r\n * // @error: for type `uint256[3]`. Expected: `3`. Given: `2`.\r\n * ```\r\n *\r\n * ### Solution\r\n *\r\n * Pass an array of the correct length.\r\n *\r\n * ```ts twoslash\r\n * import { AbiParameters } from 'ox'\r\n * // ---cut---\r\n * AbiParameters.encode(AbiParameters.from(['uint256[3]']), [[69n, 420n, 69n]])\r\n * //                                                         ↑ ✅ length: 3\r\n * ```\r\n */\r\nexport class ArrayLengthMismatchError extends Errors.BaseError {\r\n  override readonly name = 'AbiParameters.ArrayLengthMismatchError'\r\n  constructor({\r\n    expectedLength,\r\n    givenLength,\r\n    type,\r\n  }: { expectedLength: number; givenLength: number; type: string }) {\r\n    super(\r\n      `Array length mismatch for type \\`${type}\\`. Expected: \\`${expectedLength}\\`. Given: \\`${givenLength}\\`.`,\r\n    )\r\n  }\r\n}\r\n\r\n/**\r\n * The size of the bytes value does not match the size specified in the corresponding ABI parameter.\r\n *\r\n * ### Example\r\n *\r\n * ```ts twoslash\r\n * // @noErrors\r\n * import { AbiParameters } from 'ox'\r\n * // ---cut---\r\n * AbiParameters.encode(AbiParameters.from('bytes8'), [['0xdeadbeefdeadbeefdeadbeef']])\r\n * //                                            ↑ expected: 8 bytes  ↑ ❌ size: 12 bytes\r\n * // @error: BytesSizeMismatchError: Size of bytes \"0xdeadbeefdeadbeefdeadbeef\"\r\n * // @error: (bytes12) does not match expected size (bytes8).\r\n * ```\r\n *\r\n * ### Solution\r\n *\r\n * Pass a bytes value of the correct size.\r\n *\r\n * ```ts twoslash\r\n * import { AbiParameters } from 'ox'\r\n * // ---cut---\r\n * AbiParameters.encode(AbiParameters.from(['bytes8']), ['0xdeadbeefdeadbeef'])\r\n * //                                                       ↑ ✅ size: 8 bytes\r\n * ```\r\n */\r\nexport class BytesSizeMismatchError extends Errors.BaseError {\r\n  override readonly name = 'AbiParameters.BytesSizeMismatchError'\r\n  constructor({\r\n    expectedSize,\r\n    value,\r\n  }: { expectedSize: number; value: Hex.Hex }) {\r\n    super(\r\n      `Size of bytes \"${value}\" (bytes${Hex.size(\r\n        value,\r\n      )}) does not match expected size (bytes${expectedSize}).`,\r\n    )\r\n  }\r\n}\r\n\r\n/**\r\n * The length of the values to encode does not match the length of the ABI parameters.\r\n *\r\n * ### Example\r\n *\r\n * ```ts twoslash\r\n * // @noErrors\r\n * import { AbiParameters } from 'ox'\r\n * // ---cut---\r\n * AbiParameters.encode(AbiParameters.from(['string', 'uint256']), ['hello'])\r\n * // @error: LengthMismatchError: ABI encoding params/values length mismatch.\r\n * // @error: Expected length (params): 2\r\n * // @error: Given length (values): 1\r\n * ```\r\n *\r\n * ### Solution\r\n *\r\n * Pass the correct number of values to encode.\r\n *\r\n * ### Solution\r\n *\r\n * Pass a [valid ABI type](https://docs.soliditylang.org/en/develop/abi-spec.html#types).\r\n */\r\nexport class LengthMismatchError extends Errors.BaseError {\r\n  override readonly name = 'AbiParameters.LengthMismatchError'\r\n  constructor({\r\n    expectedLength,\r\n    givenLength,\r\n  }: { expectedLength: number; givenLength: number }) {\r\n    super(\r\n      [\r\n        'ABI encoding parameters/values length mismatch.',\r\n        `Expected length (parameters): ${expectedLength}`,\r\n        `Given length (values): ${givenLength}`,\r\n      ].join('\\n'),\r\n    )\r\n  }\r\n}\r\n\r\n/**\r\n * The value provided is not a valid array as specified in the corresponding ABI parameter.\r\n *\r\n * ### Example\r\n *\r\n * ```ts twoslash\r\n * // @noErrors\r\n * import { AbiParameters } from 'ox'\r\n * // ---cut---\r\n * AbiParameters.encode(AbiParameters.from(['uint256[3]']), [69])\r\n * ```\r\n *\r\n * ### Solution\r\n *\r\n * Pass an array value.\r\n */\r\nexport class InvalidArrayError extends Errors.BaseError {\r\n  override readonly name = 'AbiParameters.InvalidArrayError'\r\n  constructor(value: unknown) {\r\n    super(`Value \\`${value}\\` is not a valid array.`)\r\n  }\r\n}\r\n\r\n/**\r\n * Throws when the ABI parameter type is invalid.\r\n *\r\n * @example\r\n * ```ts twoslash\r\n * import { AbiParameters } from 'ox'\r\n *\r\n * AbiParameters.decode([{ type: 'lol' }], '0x00000000000000000000000000000000000000000000000000000000000010f')\r\n * //                             ↑ ❌ invalid type\r\n * // @error: AbiParameters.InvalidTypeError: Type `lol` is not a valid ABI Type.\r\n * ```\r\n */\r\nexport class InvalidTypeError extends Errors.BaseError {\r\n  override readonly name = 'AbiParameters.InvalidTypeError'\r\n  constructor(type: string) {\r\n    super(`Type \\`${type}\\` is not a valid ABI Type.`)\r\n  }\r\n}\r\n", "export function alloc(size = 0) {\r\n  if (globalThis.Buffer != null && globalThis.Buffer.alloc != null) {\r\n    return globalThis.Buffer.alloc(size);\r\n  }\r\n  return new Uint8Array(size);\r\n}\r\nexport function allocUnsafe(size = 0) {\r\n  if (globalThis.Buffer != null && globalThis.Buffer.allocUnsafe != null) {\r\n    return globalThis.Buffer.allocUnsafe(size);\r\n  }\r\n  return new Uint8Array(size);\r\n}", "import { allocUnsafe } from './alloc.js';\r\nexport function concat(arrays, length) {\r\n  if (!length) {\r\n    length = arrays.reduce((acc, curr) => acc + curr.length, 0);\r\n  }\r\n  const output = allocUnsafe(length);\r\n  let offset = 0;\r\n  for (const arr of arrays) {\r\n    output.set(arr, offset);\r\n    offset += arr.length;\r\n  }\r\n  return output;\r\n}", "import { bases } from 'multiformats/basics';\r\nimport { allocUnsafe } from '../alloc.js';\r\nfunction createCodec(name, prefix, encode, decode) {\r\n  return {\r\n    name,\r\n    prefix,\r\n    encoder: {\r\n      name,\r\n      prefix,\r\n      encode\r\n    },\r\n    decoder: { decode }\r\n  };\r\n}\r\nconst string = createCodec('utf8', 'u', buf => {\r\n  const decoder = new TextDecoder('utf8');\r\n  return 'u' + decoder.decode(buf);\r\n}, str => {\r\n  const encoder = new TextEncoder();\r\n  return encoder.encode(str.substring(1));\r\n});\r\nconst ascii = createCodec('ascii', 'a', buf => {\r\n  let string = 'a';\r\n  for (let i = 0; i < buf.length; i++) {\r\n    string += String.fromCharCode(buf[i]);\r\n  }\r\n  return string;\r\n}, str => {\r\n  str = str.substring(1);\r\n  const buf = allocUnsafe(str.length);\r\n  for (let i = 0; i < str.length; i++) {\r\n    buf[i] = str.charCodeAt(i);\r\n  }\r\n  return buf;\r\n});\r\nconst BASES = {\r\n  utf8: string,\r\n  'utf-8': string,\r\n  hex: bases.base16,\r\n  latin1: ascii,\r\n  ascii: ascii,\r\n  binary: ascii,\r\n  ...bases\r\n};\r\nexport default BASES;", "import bases from './util/bases.js';\r\nexport function fromString(string, encoding = 'utf8') {\r\n  const base = bases[encoding];\r\n  if (!base) {\r\n    throw new Error(`Unsupported encoding \"${ encoding }\"`);\r\n  }\r\n  if ((encoding === 'utf8' || encoding === 'utf-8') && globalThis.Buffer != null && globalThis.Buffer.from != null) {\r\n    return globalThis.Buffer.from(string, 'utf8');\r\n  }\r\n  return base.decoder.decode(`${ base.prefix }${ string }`);\r\n}", "import bases from './util/bases.js';\r\nexport function toString(array, encoding = 'utf8') {\r\n  const base = bases[encoding];\r\n  if (!base) {\r\n    throw new Error(`Unsupported encoding \"${ encoding }\"`);\r\n  }\r\n  if ((encoding === 'utf8' || encoding === 'utf-8') && globalThis.Buffer != null && globalThis.Buffer.from != null) {\r\n    return globalThis.Buffer.from(array.buffer, array.byteOffset, array.byteLength).toString('utf8');\r\n  }\r\n  return base.encoder.encode(array).substring(1);\r\n}", "import type { ErrorType } from '../../errors/utils.js'\r\nimport type { SignedAuthorizationList } from '../../experimental/eip7702/types/authorization.js'\r\nimport type { RpcAuthorizationList } from '../../experimental/eip7702/types/rpc.js'\r\nimport type { BlockTag } from '../../types/block.js'\r\nimport type { Chain } from '../../types/chain.js'\r\nimport type {\r\n  ExtractChainFormatterExclude,\r\n  ExtractChainFormatterReturnType,\r\n} from '../../types/chain.js'\r\nimport type { Hex } from '../../types/misc.js'\r\nimport type { RpcTransaction } from '../../types/rpc.js'\r\nimport type { Transaction, TransactionType } from '../../types/transaction.js'\r\nimport type { ExactPartial, UnionLooseOmit } from '../../types/utils.js'\r\nimport { hexToNumber } from '../encoding/fromHex.js'\r\nimport { type DefineFormatterErrorType, defineFormatter } from './formatter.js'\r\n\r\ntype TransactionPendingDependencies =\r\n  | 'blockHash'\r\n  | 'blockNumber'\r\n  | 'transactionIndex'\r\n\r\nexport type FormattedTransaction<\r\n  chain extends Chain | undefined = undefined,\r\n  blockTag extends BlockTag = BlockTag,\r\n  _FormatterReturnType = ExtractChainFormatterReturnType<\r\n    chain,\r\n    'transaction',\r\n    Transaction\r\n  >,\r\n  _ExcludedPendingDependencies extends string = TransactionPendingDependencies &\r\n    ExtractChainFormatterExclude<chain, 'transaction'>,\r\n> = UnionLooseOmit<_FormatterReturnType, TransactionPendingDependencies> & {\r\n  [_K in _ExcludedPendingDependencies]: never\r\n} & Pick<\r\n    Transaction<bigint, number, blockTag extends 'pending' ? true : false>,\r\n    TransactionPendingDependencies\r\n  >\r\n\r\nexport const transactionType = {\r\n  '0x0': 'legacy',\r\n  '0x1': 'eip2930',\r\n  '0x2': 'eip1559',\r\n  '0x3': 'eip4844',\r\n  '0x4': 'eip7702',\r\n} as const satisfies Record<Hex, TransactionType>\r\n\r\nexport type FormatTransactionErrorType = ErrorType\r\n\r\nexport function formatTransaction(transaction: ExactPartial<RpcTransaction>) {\r\n  const transaction_ = {\r\n    ...transaction,\r\n    blockHash: transaction.blockHash ? transaction.blockHash : null,\r\n    blockNumber: transaction.blockNumber\r\n      ? BigInt(transaction.blockNumber)\r\n      : null,\r\n    chainId: transaction.chainId ? hexToNumber(transaction.chainId) : undefined,\r\n    gas: transaction.gas ? BigInt(transaction.gas) : undefined,\r\n    gasPrice: transaction.gasPrice ? BigInt(transaction.gasPrice) : undefined,\r\n    maxFeePerBlobGas: transaction.maxFeePerBlobGas\r\n      ? BigInt(transaction.maxFeePerBlobGas)\r\n      : undefined,\r\n    maxFeePerGas: transaction.maxFeePerGas\r\n      ? BigInt(transaction.maxFeePerGas)\r\n      : undefined,\r\n    maxPriorityFeePerGas: transaction.maxPriorityFeePerGas\r\n      ? BigInt(transaction.maxPriorityFeePerGas)\r\n      : undefined,\r\n    nonce: transaction.nonce ? hexToNumber(transaction.nonce) : undefined,\r\n    to: transaction.to ? transaction.to : null,\r\n    transactionIndex: transaction.transactionIndex\r\n      ? Number(transaction.transactionIndex)\r\n      : null,\r\n    type: transaction.type\r\n      ? (transactionType as any)[transaction.type]\r\n      : undefined,\r\n    typeHex: transaction.type ? transaction.type : undefined,\r\n    value: transaction.value ? BigInt(transaction.value) : undefined,\r\n    v: transaction.v ? BigInt(transaction.v) : undefined,\r\n  } as Transaction\r\n\r\n  if (transaction.authorizationList)\r\n    transaction_.authorizationList = formatAuthorizationList(\r\n      transaction.authorizationList,\r\n    )\r\n\r\n  transaction_.yParity = (() => {\r\n    // If `yParity` is provided, we will use it.\r\n    if (transaction.yParity) return Number(transaction.yParity)\r\n\r\n    // If no `yParity` provided, try derive from `v`.\r\n    if (typeof transaction_.v === 'bigint') {\r\n      if (transaction_.v === 0n || transaction_.v === 27n) return 0\r\n      if (transaction_.v === 1n || transaction_.v === 28n) return 1\r\n      if (transaction_.v >= 35n) return transaction_.v % 2n === 0n ? 1 : 0\r\n    }\r\n\r\n    return undefined\r\n  })()\r\n\r\n  if (transaction_.type === 'legacy') {\r\n    delete transaction_.accessList\r\n    delete transaction_.maxFeePerBlobGas\r\n    delete transaction_.maxFeePerGas\r\n    delete transaction_.maxPriorityFeePerGas\r\n    delete transaction_.yParity\r\n  }\r\n  if (transaction_.type === 'eip2930') {\r\n    delete transaction_.maxFeePerBlobGas\r\n    delete transaction_.maxFeePerGas\r\n    delete transaction_.maxPriorityFeePerGas\r\n  }\r\n  if (transaction_.type === 'eip1559') {\r\n    delete transaction_.maxFeePerBlobGas\r\n  }\r\n  return transaction_\r\n}\r\n\r\nexport type DefineTransactionErrorType = DefineFormatterErrorType | ErrorType\r\n\r\nexport const defineTransaction = /*#__PURE__*/ defineFormatter(\r\n  'transaction',\r\n  formatTransaction,\r\n)\r\n\r\n//////////////////////////////////////////////////////////////////////////////\r\n\r\nfunction formatAuthorizationList(\r\n  authorizationList: RpcAuthorizationList,\r\n): SignedAuthorizationList {\r\n  return authorizationList.map((authorization) => ({\r\n    contractAddress: (authorization as any).address,\r\n    chainId: Number(authorization.chainId),\r\n    nonce: Number(authorization.nonce),\r\n    r: authorization.r,\r\n    s: authorization.s,\r\n    yParity: Number(authorization.yParity),\r\n  })) as SignedAuthorizationList\r\n}\r\n", "import type { ErrorType } from '../../errors/utils.js'\r\nimport type { Block, BlockTag } from '../../types/block.js'\r\nimport type { Chain } from '../../types/chain.js'\r\nimport type {\r\n  ExtractChainFormatterExclude,\r\n  ExtractChainFormatterReturnType,\r\n} from '../../types/chain.js'\r\nimport type { Hash } from '../../types/misc.js'\r\nimport type { RpcBlock } from '../../types/rpc.js'\r\nimport type { ExactPartial, Prettify } from '../../types/utils.js'\r\n\r\nimport { type DefineFormatterErrorType, defineFormatter } from './formatter.js'\r\nimport { type FormattedTransaction, formatTransaction } from './transaction.js'\r\n\r\ntype BlockPendingDependencies = 'hash' | 'logsBloom' | 'nonce' | 'number'\r\n\r\nexport type FormattedBlock<\r\n  chain extends Chain | undefined = undefined,\r\n  includeTransactions extends boolean = boolean,\r\n  blockTag extends BlockTag = BlockTag,\r\n  _FormatterReturnType = ExtractChainFormatterReturnType<\r\n    chain,\r\n    'block',\r\n    Block<bigint, includeTransactions>\r\n  >,\r\n  _ExcludedPendingDependencies extends string = BlockPendingDependencies &\r\n    ExtractChainFormatterExclude<chain, 'block'>,\r\n  _Formatted = Omit<_FormatterReturnType, BlockPendingDependencies> & {\r\n    [_key in _ExcludedPendingDependencies]: never\r\n  } & Pick<\r\n      Block<bigint, includeTransactions, blockTag>,\r\n      BlockPendingDependencies\r\n    >,\r\n  _Transactions = includeTransactions extends true\r\n    ? Prettify<FormattedTransaction<chain, blockTag>>[]\r\n    : Hash[],\r\n> = Omit<_Formatted, 'transactions'> & {\r\n  transactions: _Transactions\r\n}\r\n\r\nexport type FormatBlockErrorType = ErrorType\r\n\r\nexport function formatBlock(block: ExactPartial<RpcBlock>) {\r\n  const transactions = (block.transactions ?? []).map((transaction) => {\r\n    if (typeof transaction === 'string') return transaction\r\n    return formatTransaction(transaction)\r\n  })\r\n  return {\r\n    ...block,\r\n    baseFeePerGas: block.baseFeePerGas ? BigInt(block.baseFeePerGas) : null,\r\n    blobGasUsed: block.blobGasUsed ? BigInt(block.blobGasUsed) : undefined,\r\n    difficulty: block.difficulty ? BigInt(block.difficulty) : undefined,\r\n    excessBlobGas: block.excessBlobGas\r\n      ? BigInt(block.excessBlobGas)\r\n      : undefined,\r\n    gasLimit: block.gasLimit ? BigInt(block.gasLimit) : undefined,\r\n    gasUsed: block.gasUsed ? BigInt(block.gasUsed) : undefined,\r\n    hash: block.hash ? block.hash : null,\r\n    logsBloom: block.logsBloom ? block.logsBloom : null,\r\n    nonce: block.nonce ? block.nonce : null,\r\n    number: block.number ? BigInt(block.number) : null,\r\n    size: block.size ? BigInt(block.size) : undefined,\r\n    timestamp: block.timestamp ? BigInt(block.timestamp) : undefined,\r\n    transactions,\r\n    totalDifficulty: block.totalDifficulty\r\n      ? BigInt(block.totalDifficulty)\r\n      : null,\r\n  } as Block\r\n}\r\n\r\nexport type DefineBlockErrorType = DefineFormatterErrorType | ErrorType\r\n\r\nexport const defineBlock = /*#__PURE__*/ defineFormatter('block', formatBlock)\r\n", "import type { Address } from 'abitype'\r\n\r\nimport type { Account } from '../../accounts/types.js'\r\nimport type { Client } from '../../clients/createClient.js'\r\nimport type { Transport } from '../../clients/transports/createTransport.js'\r\nimport type { ErrorType } from '../../errors/utils.js'\r\nimport type { BlockTag } from '../../types/block.js'\r\nimport type { Chain } from '../../types/chain.js'\r\nimport type { RequestErrorType } from '../../utils/buildRequest.js'\r\nimport {\r\n  type HexToNumberErrorType,\r\n  hexToNumber,\r\n} from '../../utils/encoding/fromHex.js'\r\nimport {\r\n  type NumberToHexErrorType,\r\n  numberToHex,\r\n} from '../../utils/encoding/toHex.js'\r\n\r\nexport type GetTransactionCountParameters = {\r\n  /** The account address. */\r\n  address: Address\r\n} & (\r\n  | {\r\n      /** The block number. */\r\n      blockNumber?: bigint | undefined\r\n      blockTag?: undefined\r\n    }\r\n  | {\r\n      blockNumber?: undefined\r\n      /** The block tag. Defaults to 'latest'. */\r\n      blockTag?: BlockTag | undefined\r\n    }\r\n)\r\nexport type GetTransactionCountReturnType = number\r\n\r\nexport type GetTransactionCountErrorType =\r\n  | RequestErrorType\r\n  | NumberToHexErrorType\r\n  | HexToNumberErrorType\r\n  | ErrorType\r\n\r\n/**\r\n * Returns the number of [Transactions](https://viem.sh/docs/glossary/terms#transaction) an Account has sent.\r\n *\r\n * - Docs: https://viem.sh/docs/actions/public/getTransactionCount\r\n * - JSON-RPC Methods: [`eth_getTransactionCount`](https://ethereum.org/en/developers/docs/apis/json-rpc/#eth_gettransactioncount)\r\n *\r\n * @param client - Client to use\r\n * @param parameters - {@link GetTransactionCountParameters}\r\n * @returns The number of transactions an account has sent. {@link GetTransactionCountReturnType}\r\n *\r\n * @example\r\n * import { createPublicClient, http } from 'viem'\r\n * import { mainnet } from 'viem/chains'\r\n * import { getTransactionCount } from 'viem/public'\r\n *\r\n * const client = createPublicClient({\r\n *   chain: mainnet,\r\n *   transport: http(),\r\n * })\r\n * const transactionCount = await getTransactionCount(client, {\r\n *   address: '0xA0Cf798816D4b9b9866b5330EEa46a18382f251e',\r\n * })\r\n */\r\nexport async function getTransactionCount<\r\n  chain extends Chain | undefined,\r\n  account extends Account | undefined,\r\n>(\r\n  client: Client<Transport, chain, account>,\r\n  { address, blockTag = 'latest', blockNumber }: GetTransactionCountParameters,\r\n): Promise<GetTransactionCountReturnType> {\r\n  const count = await client.request(\r\n    {\r\n      method: 'eth_getTransactionCount',\r\n      params: [address, blockNumber ? numberToHex(blockNumber) : blockTag],\r\n    },\r\n    { dedupe: Boolean(blockNumber) },\r\n  )\r\n  return hexToNumber(count)\r\n}\r\n", "// https://github.com/ethereum/EIPs/blob/master/EIPS/eip-4844.md#parameters\r\n\r\n/** Blob limit per transaction. */\r\nconst blobsPerTransaction = 6\r\n\r\n/** The number of bytes in a BLS scalar field element. */\r\nexport const bytesPerFieldElement = 32\r\n\r\n/** The number of field elements in a blob. */\r\nexport const fieldElementsPerBlob = 4096\r\n\r\n/** The number of bytes in a blob. */\r\nexport const bytesPerBlob = bytesPerFieldElement * fieldElementsPerBlob\r\n\r\n/** Blob bytes limit per transaction. */\r\nexport const maxBytesPerTransaction =\r\n  bytesPerBlob * blobsPerTransaction -\r\n  // terminator byte (0x80).\r\n  1 -\r\n  // zero byte (0x00) appended to each field element.\r\n  1 * fieldElementsPerBlob * blobsPerTransaction\r\n", "import type { ErrorType } from '../../errors/utils.js'\r\nimport type { Log } from '../../types/log.js'\r\nimport type { RpcLog } from '../../types/rpc.js'\r\nimport type { ExactPartial } from '../../types/utils.js'\r\n\r\nexport type FormatLogErrorType = ErrorType\r\n\r\nexport function formatLog(\r\n  log: ExactPartial<RpcLog>,\r\n  {\r\n    args,\r\n    eventName,\r\n  }: { args?: unknown | undefined; eventName?: string | undefined } = {},\r\n) {\r\n  return {\r\n    ...log,\r\n    blockHash: log.blockHash ? log.blockHash : null,\r\n    blockNumber: log.blockNumber ? BigInt(log.blockNumber) : null,\r\n    logIndex: log.logIndex ? Number(log.logIndex) : null,\r\n    transactionHash: log.transactionHash ? log.transactionHash : null,\r\n    transactionIndex: log.transactionIndex\r\n      ? Number(log.transactionIndex)\r\n      : null,\r\n    ...(eventName ? { args, eventName } : {}),\r\n  } as Log\r\n}\r\n", "import type { Address } from 'abitype'\r\n\r\nimport type { Account } from '../../accounts/types.js'\r\nimport {\r\n  type ParseAccountErrorType,\r\n  parseAccount,\r\n} from '../../accounts/utils/parseAccount.js'\r\nimport type { SignTransactionErrorType } from '../../accounts/utils/signTransaction.js'\r\nimport type { Client } from '../../clients/createClient.js'\r\nimport type { Transport } from '../../clients/transports/createTransport.js'\r\nimport {\r\n  AccountNotFoundError,\r\n  type AccountNotFoundErrorType,\r\n  AccountTypeNotSupportedError,\r\n  type AccountTypeNotSupportedErrorType,\r\n} from '../../errors/account.js'\r\nimport { BaseError } from '../../errors/base.js'\r\nimport type { ErrorType } from '../../errors/utils.js'\r\nimport {\r\n  type RecoverAuthorizationAddressErrorType,\r\n  recoverAuthorizationAddress,\r\n} from '../../experimental/eip7702/utils/recoverAuthorizationAddress.js'\r\nimport type { GetAccountParameter } from '../../types/account.js'\r\nimport type { Chain, DeriveChain } from '../../types/chain.js'\r\nimport type { GetChainParameter } from '../../types/chain.js'\r\nimport type { GetTransactionRequestKzgParameter } from '../../types/kzg.js'\r\nimport type { Hash } from '../../types/misc.js'\r\nimport type { TransactionRequest } from '../../types/transaction.js'\r\nimport type { UnionOmit } from '../../types/utils.js'\r\nimport type { RequestErrorType } from '../../utils/buildRequest.js'\r\nimport {\r\n  type AssertCurrentChainErrorType,\r\n  assertCurrentChain,\r\n} from '../../utils/chain/assertCurrentChain.js'\r\nimport {\r\n  type GetTransactionErrorReturnType,\r\n  getTransactionError,\r\n} from '../../utils/errors/getTransactionError.js'\r\nimport { extract } from '../../utils/formatters/extract.js'\r\nimport {\r\n  type FormattedTransactionRequest,\r\n  formatTransactionRequest,\r\n} from '../../utils/formatters/transactionRequest.js'\r\nimport { getAction } from '../../utils/getAction.js'\r\nimport { LruMap } from '../../utils/lru.js'\r\nimport {\r\n  type AssertRequestErrorType,\r\n  type AssertRequestParameters,\r\n  assertRequest,\r\n} from '../../utils/transaction/assertRequest.js'\r\nimport { type GetChainIdErrorType, getChainId } from '../public/getChainId.js'\r\nimport {\r\n  type PrepareTransactionRequestErrorType,\r\n  defaultParameters,\r\n  prepareTransactionRequest,\r\n} from './prepareTransactionRequest.js'\r\nimport {\r\n  type SendRawTransactionErrorType,\r\n  sendRawTransaction,\r\n} from './sendRawTransaction.js'\r\n\r\nconst supportsWalletNamespace = new LruMap<boolean>(128)\r\n\r\nexport type SendTransactionRequest<\r\n  chain extends Chain | undefined = Chain | undefined,\r\n  chainOverride extends Chain | undefined = Chain | undefined,\r\n  ///\r\n  _derivedChain extends Chain | undefined = DeriveChain<chain, chainOverride>,\r\n> = UnionOmit<FormattedTransactionRequest<_derivedChain>, 'from'> &\r\n  GetTransactionRequestKzgParameter\r\n\r\nexport type SendTransactionParameters<\r\n  chain extends Chain | undefined = Chain | undefined,\r\n  account extends Account | undefined = Account | undefined,\r\n  chainOverride extends Chain | undefined = Chain | undefined,\r\n  request extends SendTransactionRequest<\r\n    chain,\r\n    chainOverride\r\n  > = SendTransactionRequest<chain, chainOverride>,\r\n> = request &\r\n  GetAccountParameter<account, Account | Address, true, true> &\r\n  GetChainParameter<chain, chainOverride> &\r\n  GetTransactionRequestKzgParameter<request>\r\n\r\nexport type SendTransactionReturnType = Hash\r\n\r\nexport type SendTransactionErrorType =\r\n  | ParseAccountErrorType\r\n  | GetTransactionErrorReturnType<\r\n      | AccountNotFoundErrorType\r\n      | AccountTypeNotSupportedErrorType\r\n      | AssertCurrentChainErrorType\r\n      | AssertRequestErrorType\r\n      | GetChainIdErrorType\r\n      | PrepareTransactionRequestErrorType\r\n      | SendRawTransactionErrorType\r\n      | RecoverAuthorizationAddressErrorType\r\n      | SignTransactionErrorType\r\n      | RequestErrorType\r\n    >\r\n  | ErrorType\r\n\r\n/**\r\n * Creates, signs, and sends a new transaction to the network.\r\n *\r\n * - Docs: https://viem.sh/docs/actions/wallet/sendTransaction\r\n * - Examples: https://stackblitz.com/github/wevm/viem/tree/main/examples/transactions_sending-transactions\r\n * - JSON-RPC Methods:\r\n *   - JSON-RPC Accounts: [`eth_sendTransaction`](https://ethereum.org/en/developers/docs/apis/json-rpc/#eth_sendtransaction)\r\n *   - Local Accounts: [`eth_sendRawTransaction`](https://ethereum.org/en/developers/docs/apis/json-rpc/#eth_sendrawtransaction)\r\n *\r\n * @param client - Client to use\r\n * @param parameters - {@link SendTransactionParameters}\r\n * @returns The [Transaction](https://viem.sh/docs/glossary/terms#transaction) hash. {@link SendTransactionReturnType}\r\n *\r\n * @example\r\n * import { createWalletClient, custom } from 'viem'\r\n * import { mainnet } from 'viem/chains'\r\n * import { sendTransaction } from 'viem/wallet'\r\n *\r\n * const client = createWalletClient({\r\n *   chain: mainnet,\r\n *   transport: custom(window.ethereum),\r\n * })\r\n * const hash = await sendTransaction(client, {\r\n *   account: '0xA0Cf798816D4b9b9866b5330EEa46a18382f251e',\r\n *   to: '0x70997970c51812dc3a010c7d01b50e0d17dc79c8',\r\n *   value: 1000000000000000000n,\r\n * })\r\n *\r\n * @example\r\n * // Account Hoisting\r\n * import { createWalletClient, http } from 'viem'\r\n * import { privateKeyToAccount } from 'viem/accounts'\r\n * import { mainnet } from 'viem/chains'\r\n * import { sendTransaction } from 'viem/wallet'\r\n *\r\n * const client = createWalletClient({\r\n *   account: privateKeyToAccount('0x…'),\r\n *   chain: mainnet,\r\n *   transport: http(),\r\n * })\r\n * const hash = await sendTransaction(client, {\r\n *   to: '0x70997970c51812dc3a010c7d01b50e0d17dc79c8',\r\n *   value: 1000000000000000000n,\r\n * })\r\n */\r\nexport async function sendTransaction<\r\n  chain extends Chain | undefined,\r\n  account extends Account | undefined,\r\n  const request extends SendTransactionRequest<chain, chainOverride>,\r\n  chainOverride extends Chain | undefined = undefined,\r\n>(\r\n  client: Client<Transport, chain, account>,\r\n  parameters: SendTransactionParameters<chain, account, chainOverride, request>,\r\n): Promise<SendTransactionReturnType> {\r\n  const {\r\n    account: account_ = client.account,\r\n    chain = client.chain,\r\n    accessList,\r\n    authorizationList,\r\n    blobs,\r\n    data,\r\n    gas,\r\n    gasPrice,\r\n    maxFeePerBlobGas,\r\n    maxFeePerGas,\r\n    maxPriorityFeePerGas,\r\n    nonce,\r\n    value,\r\n    ...rest\r\n  } = parameters\r\n\r\n  if (typeof account_ === 'undefined')\r\n    throw new AccountNotFoundError({\r\n      docsPath: '/docs/actions/wallet/sendTransaction',\r\n    })\r\n  const account = account_ ? parseAccount(account_) : null\r\n\r\n  try {\r\n    assertRequest(parameters as AssertRequestParameters)\r\n\r\n    const to = await (async () => {\r\n      // If `to` exists on the parameters, use that.\r\n      if (parameters.to) return parameters.to\r\n\r\n      // If no `to` exists, and we are sending a EIP-7702 transaction, use the\r\n      // address of the first authorization in the list.\r\n      if (authorizationList && authorizationList.length > 0)\r\n        return await recoverAuthorizationAddress({\r\n          authorization: authorizationList[0],\r\n        }).catch(() => {\r\n          throw new BaseError(\r\n            '`to` is required. Could not infer from `authorizationList`.',\r\n          )\r\n        })\r\n\r\n      // Otherwise, we are sending a deployment transaction.\r\n      return undefined\r\n    })()\r\n\r\n    if (account?.type === 'json-rpc' || account === null) {\r\n      let chainId: number | undefined\r\n      if (chain !== null) {\r\n        chainId = await getAction(client, getChainId, 'getChainId')({})\r\n        assertCurrentChain({\r\n          currentChainId: chainId,\r\n          chain,\r\n        })\r\n      }\r\n\r\n      const chainFormat = client.chain?.formatters?.transactionRequest?.format\r\n      const format = chainFormat || formatTransactionRequest\r\n\r\n      const request = format({\r\n        // Pick out extra data that might exist on the chain's transaction request type.\r\n        ...extract(rest, { format: chainFormat }),\r\n        accessList,\r\n        authorizationList,\r\n        blobs,\r\n        chainId,\r\n        data,\r\n        from: account?.address,\r\n        gas,\r\n        gasPrice,\r\n        maxFeePerBlobGas,\r\n        maxFeePerGas,\r\n        maxPriorityFeePerGas,\r\n        nonce,\r\n        to,\r\n        value,\r\n      } as TransactionRequest)\r\n\r\n      const isWalletNamespaceSupported = supportsWalletNamespace.get(client.uid)\r\n      const method = isWalletNamespaceSupported\r\n        ? 'wallet_sendTransaction'\r\n        : 'eth_sendTransaction'\r\n\r\n      try {\r\n        return await client.request(\r\n          {\r\n            method,\r\n            params: [request],\r\n          },\r\n          { retryCount: 0 },\r\n        )\r\n      } catch (e) {\r\n        if (isWalletNamespaceSupported === false) throw e\r\n\r\n        const error = e as BaseError\r\n        // If the transport does not support the method or input, attempt to use the\r\n        // `wallet_sendTransaction` method.\r\n        if (\r\n          error.name === 'InvalidInputRpcError' ||\r\n          error.name === 'InvalidParamsRpcError' ||\r\n          error.name === 'MethodNotFoundRpcError' ||\r\n          error.name === 'MethodNotSupportedRpcError'\r\n        ) {\r\n          return await client\r\n            .request(\r\n              {\r\n                method: 'wallet_sendTransaction',\r\n                params: [request],\r\n              },\r\n              { retryCount: 0 },\r\n            )\r\n            .then((hash) => {\r\n              supportsWalletNamespace.set(client.uid, true)\r\n              return hash\r\n            })\r\n            .catch((e) => {\r\n              const walletNamespaceError = e as BaseError\r\n              if (\r\n                walletNamespaceError.name === 'MethodNotFoundRpcError' ||\r\n                walletNamespaceError.name === 'MethodNotSupportedRpcError'\r\n              ) {\r\n                supportsWalletNamespace.set(client.uid, false)\r\n                throw error\r\n              }\r\n\r\n              throw walletNamespaceError\r\n            })\r\n        }\r\n\r\n        throw error\r\n      }\r\n    }\r\n\r\n    if (account?.type === 'local') {\r\n      // Prepare the request for signing (assign appropriate fees, etc.)\r\n      const request = await getAction(\r\n        client,\r\n        prepareTransactionRequest,\r\n        'prepareTransactionRequest',\r\n      )({\r\n        account,\r\n        accessList,\r\n        authorizationList,\r\n        blobs,\r\n        chain,\r\n        data,\r\n        gas,\r\n        gasPrice,\r\n        maxFeePerBlobGas,\r\n        maxFeePerGas,\r\n        maxPriorityFeePerGas,\r\n        nonce,\r\n        nonceManager: account.nonceManager,\r\n        parameters: [...defaultParameters, 'sidecars'],\r\n        value,\r\n        ...rest,\r\n        to,\r\n      } as any)\r\n\r\n      const serializer = chain?.serializers?.transaction\r\n      const serializedTransaction = (await account.signTransaction(request, {\r\n        serializer,\r\n      })) as Hash\r\n      return await getAction(\r\n        client,\r\n        sendRawTransaction,\r\n        'sendRawTransaction',\r\n      )({\r\n        serializedTransaction,\r\n      })\r\n    }\r\n\r\n    if (account?.type === 'smart')\r\n      throw new AccountTypeNotSupportedError({\r\n        metaMessages: [\r\n          'Consider using the `sendUserOperation` Action instead.',\r\n        ],\r\n        docsPath: '/docs/actions/bundler/sendUserOperation',\r\n        type: 'smart',\r\n      })\r\n\r\n    throw new AccountTypeNotSupportedError({\r\n      docsPath: '/docs/actions/wallet/sendTransaction',\r\n      type: (account as any)?.type,\r\n    })\r\n  } catch (err) {\r\n    if (err instanceof AccountTypeNotSupportedError) throw err\r\n    throw getTransactionError(err as BaseError, {\r\n      ...parameters,\r\n      account,\r\n      chain: parameters.chain || undefined,\r\n    })\r\n  }\r\n}\r\n", "import { LruMap } from '../lru.js'\r\n\r\n/** @internal */\r\nexport const promiseCache = /*#__PURE__*/ new LruMap<Promise<any>>(8192)\r\n\r\ntype WithDedupeOptions = {\r\n  enabled?: boolean | undefined\r\n  id?: string | undefined\r\n}\r\n\r\n/** Deduplicates in-flight promises. */\r\nexport function withDedupe<data>(\r\n  fn: () => Promise<data>,\r\n  { enabled = true, id }: WithDedupeOptions,\r\n): Promise<data> {\r\n  if (!enabled || !id) return fn()\r\n  if (promiseCache.get(id)) return promiseCache.get(id)!\r\n  const promise = fn().finally(() => promiseCache.delete(id))\r\n  promiseCache.set(id, promise)\r\n  return promise\r\n}\r\n", "function createIdStore() {\r\n  return {\r\n    current: 0,\r\n    take() {\r\n      return this.current++\r\n    },\r\n    reset() {\r\n      this.current = 0\r\n    },\r\n  }\r\n}\r\n\r\nexport const idCache = /*#__PURE__*/ createIdStore()\r\n", "import type { ErrorType } from '../../errors/utils.js'\r\nimport type {\r\n  Chain,\r\n  ExtractChainFormatterReturnType,\r\n} from '../../types/chain.js'\r\nimport type { RpcTransactionReceipt } from '../../types/rpc.js'\r\nimport type { TransactionReceipt } from '../../types/transaction.js'\r\nimport type { ExactPartial } from '../../types/utils.js'\r\nimport { hexToNumber } from '../encoding/fromHex.js'\r\n\r\nimport { type DefineFormatterErrorType, defineFormatter } from './formatter.js'\r\nimport { formatLog } from './log.js'\r\nimport { transactionType } from './transaction.js'\r\n\r\nexport type FormattedTransactionReceipt<\r\n  chain extends Chain | undefined = undefined,\r\n> = ExtractChainFormatterReturnType<\r\n  chain,\r\n  'transactionReceipt',\r\n  TransactionReceipt\r\n>\r\n\r\nexport const receiptStatuses = {\r\n  '0x0': 'reverted',\r\n  '0x1': 'success',\r\n} as const\r\n\r\nexport type FormatTransactionReceiptErrorType = ErrorType\r\n\r\nexport function formatTransactionReceipt(\r\n  transactionReceipt: ExactPartial<RpcTransactionReceipt>,\r\n) {\r\n  const receipt = {\r\n    ...transactionReceipt,\r\n    blockNumber: transactionReceipt.blockNumber\r\n      ? BigInt(transactionReceipt.blockNumber)\r\n      : null,\r\n    contractAddress: transactionReceipt.contractAddress\r\n      ? transactionReceipt.contractAddress\r\n      : null,\r\n    cumulativeGasUsed: transactionReceipt.cumulativeGasUsed\r\n      ? BigInt(transactionReceipt.cumulativeGasUsed)\r\n      : null,\r\n    effectiveGasPrice: transactionReceipt.effectiveGasPrice\r\n      ? BigInt(transactionReceipt.effectiveGasPrice)\r\n      : null,\r\n    gasUsed: transactionReceipt.gasUsed\r\n      ? BigInt(transactionReceipt.gasUsed)\r\n      : null,\r\n    logs: transactionReceipt.logs\r\n      ? transactionReceipt.logs.map((log) => formatLog(log))\r\n      : null,\r\n    to: transactionReceipt.to ? transactionReceipt.to : null,\r\n    transactionIndex: transactionReceipt.transactionIndex\r\n      ? hexToNumber(transactionReceipt.transactionIndex)\r\n      : null,\r\n    status: transactionReceipt.status\r\n      ? receiptStatuses[transactionReceipt.status]\r\n      : null,\r\n    type: transactionReceipt.type\r\n      ? transactionType[\r\n          transactionReceipt.type as keyof typeof transactionType\r\n        ] || transactionReceipt.type\r\n      : null,\r\n  } as TransactionReceipt\r\n\r\n  if (transactionReceipt.blobGasPrice)\r\n    receipt.blobGasPrice = BigInt(transactionReceipt.blobGasPrice)\r\n  if (transactionReceipt.blobGasUsed)\r\n    receipt.blobGasUsed = BigInt(transactionReceipt.blobGasUsed)\r\n\r\n  return receipt\r\n}\r\n\r\nexport type DefineTransactionReceiptErrorType =\r\n  | DefineFormatterErrorType\r\n  | ErrorType\r\n\r\nexport const defineTransactionReceipt = /*#__PURE__*/ defineFormatter(\r\n  'transactionReceipt',\r\n  formatTransactionReceipt,\r\n)\r\n", "import type { Address } from 'abitype'\r\n\r\nimport { getTransactionCount } from '../actions/public/getTransactionCount.js'\r\nimport type { Client } from '../clients/createClient.js'\r\nimport type { MaybePromise } from '../types/utils.js'\r\nimport { LruMap } from './lru.js'\r\n\r\nexport type CreateNonceManagerParameters = {\r\n  source: NonceManagerSource\r\n}\r\n\r\ntype FunctionParameters = {\r\n  address: Address\r\n  chainId: number\r\n}\r\n\r\nexport type NonceManager = {\r\n  /** Get and increment a nonce. */\r\n  consume: (\r\n    parameters: FunctionParameters & { client: Client },\r\n  ) => Promise<number>\r\n  /** Increment a nonce. */\r\n  increment: (chainId: FunctionParameters) => void\r\n  /** Get a nonce. */\r\n  get: (chainId: FunctionParameters & { client: Client }) => Promise<number>\r\n  /** Reset a nonce. */\r\n  reset: (chainId: FunctionParameters) => void\r\n}\r\n\r\n/**\r\n * Creates a nonce manager for auto-incrementing transaction nonces.\r\n *\r\n * - Docs: https://viem.sh/docs/accounts/createNonceManager\r\n *\r\n * @example\r\n * ```ts\r\n * const nonceManager = createNonceManager({\r\n *   source: jsonRpc(),\r\n * })\r\n * ```\r\n */\r\nexport function createNonceManager(\r\n  parameters: CreateNonceManagerParameters,\r\n): NonceManager {\r\n  const { source } = parameters\r\n\r\n  const deltaMap = new Map()\r\n  const nonceMap = new LruMap<number>(8192)\r\n  const promiseMap = new Map<string, Promise<number>>()\r\n\r\n  const getKey = ({ address, chainId }: FunctionParameters) =>\r\n    `${address}.${chainId}`\r\n\r\n  return {\r\n    async consume({ address, chainId, client }) {\r\n      const key = getKey({ address, chainId })\r\n      const promise = this.get({ address, chainId, client })\r\n\r\n      this.increment({ address, chainId })\r\n      const nonce = await promise\r\n\r\n      await source.set({ address, chainId }, nonce)\r\n      nonceMap.set(key, nonce)\r\n\r\n      return nonce\r\n    },\r\n    async increment({ address, chainId }) {\r\n      const key = getKey({ address, chainId })\r\n      const delta = deltaMap.get(key) ?? 0\r\n      deltaMap.set(key, delta + 1)\r\n    },\r\n    async get({ address, chainId, client }) {\r\n      const key = getKey({ address, chainId })\r\n\r\n      let promise = promiseMap.get(key)\r\n      if (!promise) {\r\n        promise = (async () => {\r\n          try {\r\n            const nonce = await source.get({ address, chainId, client })\r\n            const previousNonce = nonceMap.get(key) ?? 0\r\n            if (previousNonce > 0 && nonce <= previousNonce)\r\n              return previousNonce + 1\r\n            nonceMap.delete(key)\r\n            return nonce\r\n          } finally {\r\n            this.reset({ address, chainId })\r\n          }\r\n        })()\r\n        promiseMap.set(key, promise)\r\n      }\r\n\r\n      const delta = deltaMap.get(key) ?? 0\r\n      return delta + (await promise)\r\n    },\r\n    reset({ address, chainId }) {\r\n      const key = getKey({ address, chainId })\r\n      deltaMap.delete(key)\r\n      promiseMap.delete(key)\r\n    },\r\n  }\r\n}\r\n\r\n////////////////////////////////////////////////////////////////////////////////////////////\r\n// Sources\r\n\r\nexport type NonceManagerSource = {\r\n  /** Get a nonce. */\r\n  get(parameters: FunctionParameters & { client: Client }): MaybePromise<number>\r\n  /** Set a nonce. */\r\n  set(parameters: FunctionParameters, nonce: number): MaybePromise<void>\r\n}\r\n\r\n/** JSON-RPC source for a nonce manager. */\r\nexport function jsonRpc(): NonceManagerSource {\r\n  return {\r\n    async get(parameters) {\r\n      const { address, client } = parameters\r\n      return getTransactionCount(client, {\r\n        address,\r\n        blockTag: 'pending',\r\n      })\r\n    },\r\n    set() {},\r\n  }\r\n}\r\n\r\n////////////////////////////////////////////////////////////////////////////////////////////\r\n// Default\r\n\r\n/** Default Nonce Manager with a JSON-RPC source. */\r\nexport const nonceManager = /*#__PURE__*/ createNonceManager({\r\n  source: jsonRpc(),\r\n})\r\n", null, null, null, null, null, null, null, null, null, null, null, null, null, null],
  "mappings": "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;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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",
  "names": ["dayjs", "relativeTime", "updateLocale", "englishLocale", "dayjs", "a", "b", "w", "e", "ConstantsUtil", "ua", "ConstantsUtil", "e", "c", "r", "v", "a", "b", "set", "version", "TRACK_MEMO_SYMBOL", "Symbol", "GET_ORIGINAL_SYMBOL", "getProto", "Object", "getPrototypeOf", "objectsToTrack", "WeakMap", "isObjectToTrack", "obj", "has", "get", "prototype", "Array", "getUntracked", "obj", "isObjectToTrack", "GET_ORIGINAL_SYMBOL", "markToTrack", "mark", "objectsToTrack", "set", "x", "version", "y", "v", "e", "entries", "p", "ConstantsUtil", "s", "ConstantsUtil", "baseUrl", "state", "controller", "state", "state", "DEFAULT_STATE", "state", "controller", "state", "st", "e", "from", "to", "ConstantsUtil", "state", "controller", "accountState", "ConstantsUtil", "NetworkUtil", "c", "state", "controller", "baseUrl", "api", "state", "state", "state", "controller", "NetworkUtil", "state", "controller", "state", "controller", "state", "controller", "_", "c", "uc", "state", "controller", "a", "b", "state", "controller", "state", "controller", "ConstantsUtil", "to", "state", "controller", "a", "n", "ConstantsUtil", "baseUrl", "api", "state", "w", "a", "b", "d", "r", "c", "keys", "r", "p", "m", "keys", "a", "b", "_", "i", "j", "k", "f", "x", "y", "z", "h2", "h3", "ar", "br", "cr", "dr", "er", "rr", "sr", "tr", "BaseError", "x", "fn", "size", "pad", "size", "i", "assertSize", "size", "SizeOverflowError", "pad", "size", "SizeExceedsPaddingSizeError", "fromHex", "fromHex", "size", "assertSize", "j", "BaseError", "size", "padRight", "padRight", "size", "pad", "size", "BaseError", "BaseError", "size", "encoder", "i", "concat", "x", "assertSize", "fromBytes", "string", "i", "size", "fromString", "encoder", "size", "pad", "size", "BaseError", "size", "SizeOverflowError", "BaseError", "SizeExceedsPaddingSizeError", "BaseError", "size", "keccak256", "fromBytes", "LruMap", "size", "LruMap", "InvalidAddressError", "checksum", "keccak256", "i", "InvalidAddressError", "BaseError", "arrayRegex", "bytesRegex", "integerRegex", "maxUint256", "PositionOutOfBoundsError", "size", "BaseError", "PositionOutOfBoundsError", "encodePacked", "i", "concat", "encode", "fromString", "integerRegex", "size", "bytesRegex", "BytesSizeMismatchError", "arrayRegex", "BytesSizeMismatchError", "BaseError", "size", "BaseError", "size", "concat", "encode", "decode", "decoder", "encoder", "string", "i", "fromString", "string", "toString", "transactionType", "formatTransaction", "hexToNumber", "formatAuthorizationList", "defineTransaction", "defineFormatter", "formatBlock", "formatTransaction", "defineBlock", "defineFormatter", "getTransactionCount", "numberToHex", "hexToNumber", "blobsPerTransaction", "bytesPerFieldElement", "fieldElementsPerBlob", "bytesPerBlob", "maxBytesPerTransaction", "formatLog", "supportsWalletNamespace", "LruMap", "promiseCache", "LruMap", "createIdStore", "idCache", "receiptStatuses", "formatTransactionReceipt", "formatLog", "hexToNumber", "transactionType", "defineTransactionReceipt", "defineFormatter", "createNonceManager", "LruMap", "jsonRpc", "getTransactionCount", "nonceManager", "state", "controller", "ConstantsUtil", "state", "controller", "p", "state", "controller", "state", "controller", "e", "state", "string", "i", "r", "b", "create", "ConstantsUtil"]
}
